/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.keys(envPathObject);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const resolveSecrets = async (paths) => {        const response = await actualSsmClient.getParameters({            Names: paths,            WithDecryption: true,        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name);                    const envName = envKey                        ? envPathObject[envKey].name                        : envPathObject[parameter.Name]?.name;                    process.env[envName] = parameter.Value;                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => envPathObject[invalidParam].sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(() => {    void internalAmplifyFunctionResolveSsmParams();}, SSM_PARAMETER_REFRESH_MS);export {};
var xD=Object.create;var bi=Object.defineProperty;var RD=Object.getOwnPropertyDescriptor;var AD=Object.getOwnPropertyNames;var TD=Object.getPrototypeOf,ID=Object.prototype.hasOwnProperty;var S=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var A=(e,t)=>()=>(e&&(t=e(e=0)),t);var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pi=(e,t)=>{for(var r in t)bi(e,r,{get:t[r],enumerable:!0})},Dm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AD(t))!ID.call(e,o)&&o!==r&&bi(e,o,{get:()=>t[o],enumerable:!(n=RD(t,o))||n.enumerable});return e};var H=(e,t,r)=>(r=e!=null?xD(TD(e)):{},Dm(t||!e||!e.__esModule?bi(r,"default",{value:e,enumerable:!0}):r,e)),D=e=>Dm(bi({},"__esModule",{value:!0}),e);import{createRequire as ND}from"node:module";import FD from"node:path";import DD from"node:url";var l=A(()=>{global.require=ND(import.meta.url);global.__filename=DD.fileURLToPath(import.meta.url);global.__dirname=FD.dirname(__filename)});var z=f((fie,$m)=>{l();var xi=Object.defineProperty,kD=Object.getOwnPropertyDescriptor,MD=Object.getOwnPropertyNames,LD=Object.prototype.hasOwnProperty,Ri=(e,t)=>xi(e,"name",{value:t,configurable:!0}),jD=(e,t)=>{for(var r in t)xi(e,r,{get:t[r],enumerable:!0})},qD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MD(t))!LD.call(e,o)&&o!==r&&xi(e,o,{get:()=>t[o],enumerable:!(n=kD(t,o))||n.enumerable});return e},UD=e=>qD(xi({},"__esModule",{value:!0}),e),km={};jD(km,{AlgorithmId:()=>qm,EndpointURLScheme:()=>jm,FieldPosition:()=>Um,HttpApiKeyAuthLocation:()=>Lm,HttpAuthLocation:()=>Mm,IniSectionType:()=>Hm,RequestHandlerProtocol:()=>Bm,SMITHY_CONTEXT_KEY:()=>VD,getDefaultClientConfiguration:()=>$D,resolveDefaultRuntimeConfig:()=>GD});$m.exports=UD(km);var Mm=(e=>(e.HEADER="header",e.QUERY="query",e))(Mm||{}),Lm=(e=>(e.HEADER="header",e.QUERY="query",e))(Lm||{}),jm=(e=>(e.HTTP="http",e.HTTPS="https",e))(jm||{}),qm=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(qm||{}),HD=Ri(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),BD=Ri(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),$D=Ri(e=>({...HD(e)}),"getDefaultClientConfiguration"),GD=Ri(e=>({...BD(e)}),"resolveDefaultRuntimeConfig"),Um=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Um||{}),VD="__smithy_context",Hm=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Hm||{}),Bm=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Bm||{})});var K=f((hie,Qm)=>{l();var Ai=Object.defineProperty,WD=Object.getOwnPropertyDescriptor,zD=Object.getOwnPropertyNames,KD=Object.prototype.hasOwnProperty,Pt=(e,t)=>Ai(e,"name",{value:t,configurable:!0}),JD=(e,t)=>{for(var r in t)Ai(e,r,{get:t[r],enumerable:!0})},YD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zD(t))!KD.call(e,o)&&o!==r&&Ai(e,o,{get:()=>t[o],enumerable:!(n=WD(t,o))||n.enumerable});return e},XD=e=>YD(Ai({},"__esModule",{value:!0}),e),Gm={};JD(Gm,{Field:()=>ek,Fields:()=>tk,HttpRequest:()=>rk,HttpResponse:()=>nk,IHttpRequest:()=>Vm.HttpRequest,getHttpHandlerExtensionConfiguration:()=>QD,isValidHostname:()=>Xm,resolveHttpHandlerRuntimeConfig:()=>ZD});Qm.exports=XD(Gm);var QD=Pt(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),ZD=Pt(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Vm=z(),Wm=class{constructor({name:t,kind:r=Vm.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};Pt(Wm,"Field");var ek=Wm,zm=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};Pt(zm,"Fields");var tk=zm,Km=class fd{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new fd({...t,headers:{...t.headers}});return r.query&&(r.query=Jm(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return fd.clone(this)}};Pt(Km,"HttpRequest");var rk=Km;function Jm(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Pt(Jm,"cloneQuery");var Ym=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};Pt(Ym,"HttpResponse");var nk=Ym;function Xm(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Pt(Xm,"isValidHostname")});var Bn=f((Sie,n_)=>{"use strict";l();var Ti=Object.defineProperty,ok=Object.getOwnPropertyDescriptor,ik=Object.getOwnPropertyNames,sk=Object.prototype.hasOwnProperty,gd=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),ak=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},ck=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ik(t))!sk.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=ok(t,o))||n.enumerable});return e},lk=e=>ck(Ti({},"__esModule",{value:!0}),e),Zm={};ak(Zm,{getHostHeaderPlugin:()=>uk,hostHeaderMiddleware:()=>t_,hostHeaderMiddlewareOptions:()=>r_,resolveHostHeaderConfig:()=>e_});n_.exports=lk(Zm);var dk=K();function e_(e){return e}gd(e_,"resolveHostHeaderConfig");var t_=gd(e=>t=>async r=>{if(!dk.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},"hostHeaderMiddleware"),r_={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},uk=gd(e=>({applyToStack:t=>{t.add(t_(e),r_)}}),"getHostHeaderPlugin")});var $n=f((wie,c_)=>{"use strict";l();var Ii=Object.defineProperty,pk=Object.getOwnPropertyDescriptor,fk=Object.getOwnPropertyNames,gk=Object.prototype.hasOwnProperty,o_=(e,t)=>Ii(e,"name",{value:t,configurable:!0}),mk=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},_k=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fk(t))!gk.call(e,o)&&o!==r&&Ii(e,o,{get:()=>t[o],enumerable:!(n=pk(t,o))||n.enumerable});return e},vk=e=>_k(Ii({},"__esModule",{value:!0}),e),i_={};mk(i_,{getLoggerPlugin:()=>hk,loggerMiddleware:()=>s_,loggerMiddlewareOptions:()=>a_});c_.exports=vk(i_);var s_=o_(()=>(e,t)=>async r=>{var n,o;try{let i=await e(r),{clientName:a,commandName:s,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:p}=d,m=u??t.inputFilterSensitiveLog,g=p??t.outputFilterSensitiveLog,{$metadata:h,...C}=i.output;return(n=c?.info)==null||n.call(c,{clientName:a,commandName:s,input:m(r.input),output:g(C),metadata:h}),i}catch(i){let{clientName:a,commandName:s,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u}=d,p=u??t.inputFilterSensitiveLog;throw(o=c?.error)==null||o.call(c,{clientName:a,commandName:s,input:p(r.input),error:i,metadata:i.$metadata}),i}},"loggerMiddleware"),a_={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},hk=o_(e=>({applyToStack:t=>{t.add(s_(),a_)}}),"getLoggerPlugin")});var Gn=f((Oie,f_)=>{"use strict";l();var Ni=Object.defineProperty,yk=Object.getOwnPropertyDescriptor,Sk=Object.getOwnPropertyNames,Ek=Object.prototype.hasOwnProperty,md=(e,t)=>Ni(e,"name",{value:t,configurable:!0}),wk=(e,t)=>{for(var r in t)Ni(e,r,{get:t[r],enumerable:!0})},Ck=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sk(t))!Ek.call(e,o)&&o!==r&&Ni(e,o,{get:()=>t[o],enumerable:!(n=yk(t,o))||n.enumerable});return e},Ok=e=>Ck(Ni({},"__esModule",{value:!0}),e),d_={};wk(d_,{addRecursionDetectionMiddlewareOptions:()=>p_,getRecursionDetectionPlugin:()=>Rk,recursionDetectionMiddleware:()=>u_});f_.exports=Ok(d_);var bk=K(),l_="X-Amzn-Trace-Id",Pk="AWS_LAMBDA_FUNCTION_NAME",xk="_X_AMZN_TRACE_ID",u_=md(e=>t=>async r=>{let{request:n}=r;if(!bk.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(l_))return t(r);let o=process.env[Pk],i=process.env[xk],a=md(s=>typeof s=="string"&&s.length>0,"nonEmptyString");return a(o)&&a(i)&&(n.headers[l_]=i),t({...r,request:n})},"recursionDetectionMiddleware"),p_={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Rk=md(e=>({applyToStack:t=>{t.add(u_(e),p_)}}),"getRecursionDetectionPlugin")});var Fr=f((xie,C_)=>{l();var Fi=Object.defineProperty,Ak=Object.getOwnPropertyDescriptor,Tk=Object.getOwnPropertyNames,Ik=Object.prototype.hasOwnProperty,j=(e,t)=>Fi(e,"name",{value:t,configurable:!0}),Nk=(e,t)=>{for(var r in t)Fi(e,r,{get:t[r],enumerable:!0})},Fk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tk(t))!Ik.call(e,o)&&o!==r&&Fi(e,o,{get:()=>t[o],enumerable:!(n=Ak(t,o))||n.enumerable});return e},Dk=e=>Fk(Fi({},"__esModule",{value:!0}),e),g_={};Nk(g_,{EndpointError:()=>he,customEndpointFunctions:()=>vd,isIpAddress:()=>m_,isValidHostLabel:()=>yd,resolveEndpoint:()=>Zk});C_.exports=Dk(g_);var kk=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),m_=j(e=>kk.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),Mk=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),yd=j((e,t=!1)=>{if(!t)return Mk.test(e);let r=e.split(".");for(let n of r)if(!yd(n))return!1;return!0},"isValidHostLabel"),vd={},Vn="endpoints";function gt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${gt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(gt).join(", ")})`:JSON.stringify(e,null,2)}j(gt,"toDebugString");var __=class extends Error{constructor(t){super(t),this.name="EndpointError"}};j(__,"EndpointError");var he=__,Lk=j((e,t)=>e===t,"booleanEquals"),jk=j(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new he(`Path: '${e}' does not end with ']'`);let i=n.slice(o+1,-1);if(Number.isNaN(parseInt(i)))throw new he(`Invalid array index: '${i}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(i)}else r.push(n)}return r},"getAttrPathList"),v_=j((e,t)=>jk(t).reduce((r,n)=>{if(typeof r!="object")throw new he(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),qk=j(e=>e!=null,"isSet"),Uk=j(e=>!e,"not"),hd=z(),_d={[hd.EndpointURLScheme.HTTP]:80,[hd.EndpointURLScheme.HTTPS]:443},Hk=j(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:g,protocol:h="",path:C="",query:w={}}=e,b=new URL(`${h}//${m}${g?`:${g}`:""}${C}`);return b.search=Object.entries(w).map(([R,F])=>`${R}=${F}`).join("&"),b}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:i,protocol:a,search:s}=t;if(s)return null;let c=a.slice(0,-1);if(!Object.values(hd.EndpointURLScheme).includes(c))return null;let d=m_(o),u=r.includes(`${n}:${_d[c]}`)||typeof e=="string"&&e.includes(`${n}:${_d[c]}`),p=`${n}${u?`:${_d[c]}`:""}`;return{scheme:c,authority:p,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}},"parseURL"),Bk=j((e,t)=>e===t,"stringEquals"),$k=j((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),Gk=j(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Vk={booleanEquals:Lk,getAttr:v_,isSet:qk,isValidHostLabel:yd,not:Uk,parseURL:Hk,stringEquals:Bk,substring:$k,uriEncode:Gk},h_=j((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let i=e.indexOf("{",o);if(i===-1){r.push(e.slice(o));break}r.push(e.slice(o,i));let a=e.indexOf("}",i);if(a===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[a+1]==="}"&&(r.push(e.slice(i+1,a)),o=a+2);let s=e.substring(i+1,a);if(s.includes("#")){let[c,d]=s.split("#");r.push(v_(n[c],d))}else r.push(n[s]);o=a+1}return r.join("")},"evaluateTemplate"),Wk=j(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Di=j((e,t,r)=>{if(typeof e=="string")return h_(e,r);if(e.fn)return y_(e,r);if(e.ref)return Wk(e,r);throw new he(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),y_=j(({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:Di(i,"arg",r)),o=e.split(".");return o[0]in vd&&o[1]!=null?vd[o[0]][o[1]](...n):Vk[e](...n)},"callFunction"),zk=j(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new he(`'${e}' is already defined in Reference Record.`);let i=y_(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,`${Vn} evaluateCondition: ${gt(t)} = ${gt(i)}`),{result:i===""?!0:!!i,...e!=null&&{toAssign:{name:e,value:i}}}},"evaluateCondition"),Sd=j((e=[],t)=>{var r,n;let o={};for(let i of e){let{result:a,toAssign:s}=zk(i,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!a)return{result:a};s&&(o[s.name]=s.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Vn} assign: ${s.name} := ${gt(s.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),Kk=j((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(i=>{let a=Di(i,"Header value entry",t);if(typeof a!="string")throw new he(`Header '${n}' value '${a}' is not a string`);return a})}),{}),"getEndpointHeaders"),S_=j((e,t)=>{if(Array.isArray(e))return e.map(r=>S_(r,t));switch(typeof e){case"string":return h_(e,t);case"object":if(e===null)throw new he(`Unexpected endpoint property: ${e}`);return E_(e,t);case"boolean":return e;default:throw new he(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),E_=j((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:S_(o,t)}),{}),"getEndpointProperties"),Jk=j((e,t)=>{let r=Di(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new he(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),Yk=j((e,t)=>{var r,n;let{conditions:o,endpoint:i}=e,{result:a,referenceRecord:s}=Sd(o,t);if(!a)return;let c={...t,referenceRecord:{...t.referenceRecord,...s}},{url:d,properties:u,headers:p}=i;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Vn} Resolving endpoint from template: ${gt(i)}`),{...p!=null&&{headers:Kk(p,c)},...u!=null&&{properties:E_(u,c)},url:Jk(d,c)}},"evaluateEndpointRule"),Xk=j((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:i}=Sd(r,t);if(o)throw new he(Di(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},"evaluateErrorRule"),Qk=j((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:i}=Sd(r,t);if(o)return w_(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},"evaluateTreeRule"),w_=j((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Yk(r,t);if(n)return n}else if(r.type==="error")Xk(r,t);else if(r.type==="tree"){let n=Qk(r,t);if(n)return n}else throw new he(`Unknown endpoint rule: ${r}`);throw new he("Rules evaluation failed")},"evaluateRules"),Zk=j((e,t)=>{var r,n,o,i,a;let{endpointParams:s,logger:c}=t,{parameters:d,rules:u}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${Vn} Initial EndpointParams: ${gt(s)}`);let p=Object.entries(d).filter(([,h])=>h.default!=null).map(([h,C])=>[h,C.default]);if(p.length>0)for(let[h,C]of p)s[h]=s[h]??C;let m=Object.entries(d).filter(([,h])=>h.required).map(([h])=>h);for(let h of m)if(s[h]==null)throw new he(`Missing required parameter: '${h}'`);let g=w_(u,{endpointParams:s,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let h=new URL(t.endpointParams.Endpoint),{protocol:C,port:w}=h;g.url.protocol=C,g.url.port=w}catch{}return(a=(i=t.logger)==null?void 0:i.debug)==null||a.call(i,`${Vn} Resolved endpoint: ${gt(g)}`),g},"resolveEndpoint")});var kr=f((Aie,F_)=>{"use strict";l();var ki=Object.defineProperty,eM=Object.getOwnPropertyDescriptor,tM=Object.getOwnPropertyNames,rM=Object.prototype.hasOwnProperty,Dr=(e,t)=>ki(e,"name",{value:t,configurable:!0}),nM=(e,t)=>{for(var r in t)ki(e,r,{get:t[r],enumerable:!0})},oM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tM(t))!rM.call(e,o)&&o!==r&&ki(e,o,{get:()=>t[o],enumerable:!(n=eM(t,o))||n.enumerable});return e},iM=e=>oM(ki({},"__esModule",{value:!0}),e),b_={};nM(b_,{ConditionObject:()=>q.ConditionObject,DeprecatedObject:()=>q.DeprecatedObject,EndpointError:()=>q.EndpointError,EndpointObject:()=>q.EndpointObject,EndpointObjectHeaders:()=>q.EndpointObjectHeaders,EndpointObjectProperties:()=>q.EndpointObjectProperties,EndpointParams:()=>q.EndpointParams,EndpointResolverOptions:()=>q.EndpointResolverOptions,EndpointRuleObject:()=>q.EndpointRuleObject,ErrorRuleObject:()=>q.ErrorRuleObject,EvaluateOptions:()=>q.EvaluateOptions,Expression:()=>q.Expression,FunctionArgv:()=>q.FunctionArgv,FunctionObject:()=>q.FunctionObject,FunctionReturn:()=>q.FunctionReturn,ParameterObject:()=>q.ParameterObject,ReferenceObject:()=>q.ReferenceObject,ReferenceRecord:()=>q.ReferenceRecord,RuleSetObject:()=>q.RuleSetObject,RuleSetRules:()=>q.RuleSetRules,TreeRuleObject:()=>q.TreeRuleObject,awsEndpointFunctions:()=>N_,getUserAgentPrefix:()=>lM,isIpAddress:()=>q.isIpAddress,partition:()=>T_,resolveEndpoint:()=>q.resolveEndpoint,setPartitionInfo:()=>I_,useDefaultPartitionInfo:()=>cM});F_.exports=iM(b_);var q=Fr(),P_=Dr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!P_(r))return!1;return!0}return!(!(0,q.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,q.isIpAddress)(e))},"isVirtualHostableS3Bucket"),O_=":",sM="/",aM=Dr(e=>{let t=e.split(O_);if(t.length<6)return null;let[r,n,o,i,a,...s]=t;if(r!=="arn"||n===""||o===""||s.join(O_)==="")return null;let c=s.map(d=>d.split(sM)).flat();return{partition:n,service:o,region:i,accountId:a,resourceId:c}},"parseArn"),x_={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},R_=x_,A_="",T_=Dr(e=>{let{partitions:t}=R_;for(let n of t){let{regions:o,outputs:i}=n;for(let[a,s]of Object.entries(o))if(a===e)return{...i,...s}}for(let n of t){let{regionRegex:o,outputs:i}=n;if(new RegExp(o).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),I_=Dr((e,t="")=>{R_=e,A_=t},"setPartitionInfo"),cM=Dr(()=>{I_(x_,"")},"useDefaultPartitionInfo"),lM=Dr(()=>A_,"getUserAgentPrefix"),N_={isVirtualHostableS3Bucket:P_,parseArn:aM,partition:T_};q.customEndpointFunctions.aws=N_});var Wn=f((Iie,H_)=>{"use strict";l();var Mi=Object.defineProperty,dM=Object.getOwnPropertyDescriptor,uM=Object.getOwnPropertyNames,pM=Object.prototype.hasOwnProperty,Li=(e,t)=>Mi(e,"name",{value:t,configurable:!0}),fM=(e,t)=>{for(var r in t)Mi(e,r,{get:t[r],enumerable:!0})},gM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uM(t))!pM.call(e,o)&&o!==r&&Mi(e,o,{get:()=>t[o],enumerable:!(n=dM(t,o))||n.enumerable});return e},mM=e=>gM(Mi({},"__esModule",{value:!0}),e),L_={};fM(L_,{getUserAgentMiddlewareOptions:()=>U_,getUserAgentPlugin:()=>SM,resolveUserAgentConfig:()=>j_,userAgentMiddleware:()=>q_});H_.exports=mM(L_);function j_(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Li(j_,"resolveUserAgentConfig");var _M=kr(),vM=K(),D_="user-agent",Ed="x-amz-user-agent",k_=" ",wd="/",hM=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,yM=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,M_="-",q_=Li(e=>(t,r)=>async n=>{var o,i;let{request:a}=n;if(!vM.HttpRequest.isInstance(a))return t(n);let{headers:s}=a,c=((o=r?.userAgent)==null?void 0:o.map(Cd))||[],d=(await e.defaultUserAgentProvider()).map(Cd),u=((i=e?.customUserAgent)==null?void 0:i.map(Cd))||[],p=(0,_M.getUserAgentPrefix)(),m=(p?[p]:[]).concat([...d,...c,...u]).join(k_),g=[...d.filter(h=>h.startsWith("aws-sdk-")),...u].join(k_);return e.runtime!=="browser"?(g&&(s[Ed]=s[Ed]?`${s[D_]} ${g}`:g),s[D_]=m):s[Ed]=m,t({...n,request:a})},"userAgentMiddleware"),Cd=Li(e=>{var t;let r=e[0].split(wd).map(s=>s.replace(hM,M_)).join(wd),n=(t=e[1])==null?void 0:t.replace(yM,M_),o=r.indexOf(wd),i=r.substring(0,o),a=r.substring(o+1);return i==="api"&&(a=a.toLowerCase()),[i,a,n].filter(s=>s&&s.length>0).reduce((s,c,d)=>{switch(d){case 0:return c;case 1:return`${s}/${c}`;default:return`${s}#${c}`}},"")},"escapeUserAgent"),U_={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},SM=Li(e=>({applyToStack:t=>{t.add(q_(e),U_)}}),"getUserAgentPlugin")});var W_=f((Fie,V_)=>{l();var ji=Object.defineProperty,EM=Object.getOwnPropertyDescriptor,wM=Object.getOwnPropertyNames,CM=Object.prototype.hasOwnProperty,B_=(e,t)=>ji(e,"name",{value:t,configurable:!0}),OM=(e,t)=>{for(var r in t)ji(e,r,{get:t[r],enumerable:!0})},bM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wM(t))!CM.call(e,o)&&o!==r&&ji(e,o,{get:()=>t[o],enumerable:!(n=EM(t,o))||n.enumerable});return e},PM=e=>bM(ji({},"__esModule",{value:!0}),e),$_={};OM($_,{SelectorType:()=>G_,booleanSelector:()=>xM,numberSelector:()=>RM});V_.exports=PM($_);var xM=B_((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),RM=B_((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),G_=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(G_||{})});var Ke=f((kie,Y_)=>{l();var qi=Object.defineProperty,AM=Object.getOwnPropertyDescriptor,TM=Object.getOwnPropertyNames,IM=Object.prototype.hasOwnProperty,K_=(e,t)=>qi(e,"name",{value:t,configurable:!0}),NM=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},FM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of TM(t))!IM.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=AM(t,o))||n.enumerable});return e},DM=e=>FM(qi({},"__esModule",{value:!0}),e),J_={};NM(J_,{getSmithyContext:()=>kM,normalizeProvider:()=>MM});Y_.exports=DM(J_);var z_=z(),kM=K_(e=>e[z_.SMITHY_CONTEXT_KEY]||(e[z_.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),MM=K_(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var nt=f((Lie,av)=>{l();var Hi=Object.defineProperty,LM=Object.getOwnPropertyDescriptor,jM=Object.getOwnPropertyNames,qM=Object.prototype.hasOwnProperty,Je=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),UM=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},HM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jM(t))!qM.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=LM(t,o))||n.enumerable});return e},BM=e=>HM(Hi({},"__esModule",{value:!0}),e),Z_={};UM(Z_,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>tv,CONFIG_USE_FIPS_ENDPOINT:()=>nv,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>$M,DEFAULT_USE_FIPS_ENDPOINT:()=>VM,ENV_USE_DUALSTACK_ENDPOINT:()=>ev,ENV_USE_FIPS_ENDPOINT:()=>rv,NODE_REGION_CONFIG_FILE_OPTIONS:()=>XM,NODE_REGION_CONFIG_OPTIONS:()=>YM,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>GM,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>WM,REGION_ENV_NAME:()=>ov,REGION_INI_NAME:()=>iv,getRegionInfo:()=>r1,resolveCustomEndpointsConfig:()=>zM,resolveEndpointsConfig:()=>JM,resolveRegionConfig:()=>QM});av.exports=BM(Z_);var xt=W_(),ev="AWS_USE_DUALSTACK_ENDPOINT",tv="use_dualstack_endpoint",$M=!1,GM={environmentVariableSelector:e=>(0,xt.booleanSelector)(e,ev,xt.SelectorType.ENV),configFileSelector:e=>(0,xt.booleanSelector)(e,tv,xt.SelectorType.CONFIG),default:!1},rv="AWS_USE_FIPS_ENDPOINT",nv="use_fips_endpoint",VM=!1,WM={environmentVariableSelector:e=>(0,xt.booleanSelector)(e,rv,xt.SelectorType.ENV),configFileSelector:e=>(0,xt.booleanSelector)(e,nv,xt.SelectorType.CONFIG),default:!1},Ui=Ke(),zM=Je(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,Ui.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ui.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),KM=Je(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:a}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})??{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${a}`)},"getEndpointFromRegion"),JM=Je(e=>{let t=(0,Ui.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,Ui.normalizeProvider)(typeof r=="string"?o(r):r):()=>KM({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),ov="AWS_REGION",iv="region",YM={environmentVariableSelector:e=>e[ov],configFileSelector:e=>e[iv],default:()=>{throw new Error("Region is missing")}},XM={preferredFile:"credentials"},sv=Je(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),X_=Je(e=>sv(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),QM=Je(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return X_(t);let n=await t();return X_(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return sv(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),Q_=Je((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),ZM=Je((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),e1=Je((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),t1=Je((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(o);if(i)return i[0].slice(1,-1)}},"getResolvedSigningRegion"),r1=Je((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:i})=>{var a,s,c,d,u;let p=e1(e,{partitionHash:i}),m=e in o?e:((a=i[p])==null?void 0:a.endpoint)??e,g={useFipsEndpoint:t,useDualstackEndpoint:r},h=Q_((s=o[m])==null?void 0:s.variants,g),C=Q_((c=i[p])==null?void 0:c.variants,g),w=ZM(m,{regionHostname:h,partitionHostname:C});if(w===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:m,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let b=t1(w,{signingRegion:(d=o[m])==null?void 0:d.signingRegion,regionRegex:i[p].regionRegex,useFipsEndpoint:t});return{partition:p,signingService:n,hostname:w,...b&&{signingRegion:b},...((u=o[m])==null?void 0:u.signingService)&&{signingService:o[m].signingService}}},"getRegionInfo")});function n1(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var qie,cv,zn,Bi=A(()=>{l();qie=H(z()),cv=H(Ke());zn=(e,t)=>(r,n)=>async o=>{let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=n1(e.httpAuthSchemes),s=(0,cv.getSmithyContext)(n),c=[];for(let d of i){let u=a.get(d.schemeId);if(!u){c.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let p=u.identityProvider(await t.identityProviderConfigProvider(e));if(!p){c.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:m={},signingProperties:g={}}=d.propertiesExtractor?.(e,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},m),d.signingProperties=Object.assign(d.signingProperties||{},g),s.selectedHttpAuthScheme={httpAuthOption:d,identity:await p(d.identityProperties),signer:u.signer};break}if(!s.selectedHttpAuthScheme)throw new Error(c.join(`
`));return r(o)}});var J=f(($ie,_v)=>{l();var $i=Object.defineProperty,o1=Object.getOwnPropertyDescriptor,i1=Object.getOwnPropertyNames,s1=Object.prototype.hasOwnProperty,or=(e,t)=>$i(e,"name",{value:t,configurable:!0}),a1=(e,t)=>{for(var r in t)$i(e,r,{get:t[r],enumerable:!0})},c1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i1(t))!s1.call(e,o)&&o!==r&&$i(e,o,{get:()=>t[o],enumerable:!(n=o1(t,o))||n.enumerable});return e},l1=e=>c1($i({},"__esModule",{value:!0}),e),lv={};a1(lv,{CredentialsProviderError:()=>d1,ProviderError:()=>Gi,TokenProviderError:()=>u1,chain:()=>p1,fromStatic:()=>f1,memoize:()=>g1});_v.exports=l1(lv);var dv=class uv extends Error{constructor(t,r=!0){var n;let o,i=!0;typeof r=="boolean"?(o=void 0,i=r):r!=null&&typeof r=="object"&&(o=r.logger,i=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=i,Object.setPrototypeOf(this,uv.prototype),(n=o?.debug)==null||n.call(o,`@smithy/property-provider ${i?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};or(dv,"ProviderError");var Gi=dv,pv=class fv extends Gi{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,fv.prototype)}};or(pv,"CredentialsProviderError");var d1=pv,gv=class mv extends Gi{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,mv.prototype)}};or(gv,"TokenProviderError");var u1=gv,p1=or((...e)=>async()=>{if(e.length===0)throw new Gi("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),f1=or(e=>()=>Promise.resolve(e),"fromStatic"),g1=or((e,t,r)=>{let n,o,i,a=!1,s=or(async()=>{o||(o=e());try{n=await o,i=!0,a=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!i||c?.forceRefresh)&&(n=await s()),n):async c=>((!i||c?.forceRefresh)&&(n=await s()),a?n:r&&!r(n)?(a=!0,n):(t(n)&&await s(),n))},"memoize")});var Mr=f(Vi=>{"use strict";l();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.getHomeDir=void 0;var m1=S("os"),_1=S("path"),Od={},v1=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",h1=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${_1.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=v1();return Od[o]||(Od[o]=(0,m1.homedir)()),Od[o]};Vi.getHomeDir=h1});var bd=f(Wi=>{"use strict";l();Object.defineProperty(Wi,"__esModule",{value:!0});Wi.getSSOTokenFilepath=void 0;var y1=S("crypto"),S1=S("path"),E1=Mr(),w1=e=>{let r=(0,y1.createHash)("sha1").update(e).digest("hex");return(0,S1.join)((0,E1.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Wi.getSSOTokenFilepath=w1});var vv=f(zi=>{"use strict";l();Object.defineProperty(zi,"__esModule",{value:!0});zi.getSSOTokenFromFile=void 0;var C1=S("fs"),O1=bd(),{readFile:b1}=C1.promises,P1=async e=>{let t=(0,O1.getSSOTokenFilepath)(e),r=await b1(t,"utf8");return JSON.parse(r)};zi.getSSOTokenFromFile=P1});var xd=f(Ki=>{"use strict";l();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.slurpFile=void 0;var x1=S("fs"),{readFile:R1}=x1.promises,Pd={},A1=(e,t)=>((!Pd[e]||t?.ignoreCache)&&(Pd[e]=R1(e,"utf8")),Pd[e]);Ki.slurpFile=A1});var Id=f((Zie,Jn)=>{l();var Xi=Object.defineProperty,T1=Object.getOwnPropertyDescriptor,I1=Object.getOwnPropertyNames,N1=Object.prototype.hasOwnProperty,Ce=(e,t)=>Xi(e,"name",{value:t,configurable:!0}),F1=(e,t)=>{for(var r in t)Xi(e,r,{get:t[r],enumerable:!0})},Rd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I1(t))!N1.call(e,o)&&o!==r&&Xi(e,o,{get:()=>t[o],enumerable:!(n=T1(t,o))||n.enumerable});return e},Td=(e,t,r)=>(Rd(e,t,"default"),r&&Rd(r,t,"default")),D1=e=>Rd(Xi({},"__esModule",{value:!0}),e),Kn={};F1(Kn,{CONFIG_PREFIX_SEPARATOR:()=>ir,DEFAULT_PROFILE:()=>Ev,ENV_PROFILE:()=>Sv,getProfileName:()=>k1,loadSharedConfigFiles:()=>Cv,loadSsoSessionData:()=>K1,parseKnownFiles:()=>Y1});Jn.exports=D1(Kn);Td(Kn,Mr(),Jn.exports);var Sv="AWS_PROFILE",Ev="default",k1=Ce(e=>e.profile||process.env[Sv]||Ev,"getProfileName");Td(Kn,bd(),Jn.exports);Td(Kn,vv(),Jn.exports);var Ji=z(),M1=Ce(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(ir);return r===-1?!1:Object.values(Ji.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(ir),i=r.substring(0,o)===Ji.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Yi=S("path"),L1=Mr(),j1="AWS_CONFIG_FILE",wv=Ce(()=>process.env[j1]||(0,Yi.join)((0,L1.getHomeDir)(),".aws","config"),"getConfigFilepath"),q1=Mr(),U1="AWS_SHARED_CREDENTIALS_FILE",H1=Ce(()=>process.env[U1]||(0,Yi.join)((0,q1.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),B1=Mr(),$1=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,G1=["__proto__","profile __proto__"],Ad=Ce(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=$1.exec(s);if(c){let[,d,,u]=c;Object.values(Ji.IniSectionType).includes(d)&&(r=[d,u].join(ir))}else r=s;if(G1.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(ir):c;t[r][u]=d}}}}return t},"parseIni"),hv=xd(),yv=Ce(()=>({}),"swallowError"),ir=".",Cv=Ce(async(e={})=>{let{filepath:t=H1(),configFilepath:r=wv()}=e,n=(0,B1.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Yi.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Yi.join)(n,r.slice(2)));let s=await Promise.all([(0,hv.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Ad).then(M1).catch(yv),(0,hv.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Ad).catch(yv)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),V1=Ce(e=>Object.entries(e).filter(([t])=>t.startsWith(Ji.IniSectionType.SSO_SESSION+ir)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(ir)+1)]:n}),{}),"getSsoSessionData"),W1=xd(),z1=Ce(()=>({}),"swallowError"),K1=Ce(async(e={})=>(0,W1.slurpFile)(e.configFilepath??wv()).then(Ad).then(V1).catch(z1),"loadSsoSessionData"),J1=Ce((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),Y1=Ce(async e=>{let t=await Cv(e);return J1(t.configFile,t.credentialsFile)},"parseKnownFiles")});var xv=f((tse,Pv)=>{l();var Qi=Object.defineProperty,X1=Object.getOwnPropertyDescriptor,Q1=Object.getOwnPropertyNames,Z1=Object.prototype.hasOwnProperty,Lr=(e,t)=>Qi(e,"name",{value:t,configurable:!0}),eL=(e,t)=>{for(var r in t)Qi(e,r,{get:t[r],enumerable:!0})},tL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Q1(t))!Z1.call(e,o)&&o!==r&&Qi(e,o,{get:()=>t[o],enumerable:!(n=X1(t,o))||n.enumerable});return e},rL=e=>tL(Qi({},"__esModule",{value:!0}),e),bv={};eL(bv,{loadConfig:()=>aL});Pv.exports=rL(bv);var Yn=J();function Nd(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Lr(Nd,"getSelectorName");var nL=Lr((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Yn.CredentialsProviderError(r.message||`Not found in ENV: ${Nd(e.toString())}`,{logger:t})}},"fromEnv"),Ov=Id(),oL=Lr((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Ov.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,Ov.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new Yn.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Nd(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),iL=Lr(e=>typeof e=="function","isFunction"),sL=Lr(e=>iL(e)?async()=>await e():(0,Yn.fromStatic)(e),"fromStatic"),aL=Lr(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Yn.memoize)((0,Yn.chain)(nL(e),oL(t,n),sL(r))),"loadConfig")});var Iv=f(Zi=>{"use strict";l();Object.defineProperty(Zi,"__esModule",{value:!0});Zi.getEndpointUrlConfig=void 0;var Rv=Id(),Av="AWS_ENDPOINT_URL",Tv="endpoint_url",cL=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[Av,...r].join("_")];if(n)return n;let o=t[Av];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Rv.CONFIG_PREFIX_SEPARATOR)];if(o){let i=e.split(" ").map(s=>s.toLowerCase()),a=o[[i.join("_"),Tv].join(Rv.CONFIG_PREFIX_SEPARATOR)];if(a)return a}}let n=t[Tv];if(n)return n},default:void 0});Zi.getEndpointUrlConfig=cL});var Nv=f(es=>{"use strict";l();Object.defineProperty(es,"__esModule",{value:!0});es.getEndpointFromConfig=void 0;var lL=xv(),dL=Iv(),uL=async e=>(0,lL.loadConfig)((0,dL.getEndpointUrlConfig)(e))();es.getEndpointFromConfig=uL});var Mv=f((ase,kv)=>{l();var ts=Object.defineProperty,pL=Object.getOwnPropertyDescriptor,fL=Object.getOwnPropertyNames,gL=Object.prototype.hasOwnProperty,mL=(e,t)=>ts(e,"name",{value:t,configurable:!0}),_L=(e,t)=>{for(var r in t)ts(e,r,{get:t[r],enumerable:!0})},vL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fL(t))!gL.call(e,o)&&o!==r&&ts(e,o,{get:()=>t[o],enumerable:!(n=pL(t,o))||n.enumerable});return e},hL=e=>vL(ts({},"__esModule",{value:!0}),e),Fv={};_L(Fv,{parseQueryString:()=>Dv});kv.exports=hL(Fv);function Dv(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}mL(Dv,"parseQueryString")});var sr=f((lse,qv)=>{l();var rs=Object.defineProperty,yL=Object.getOwnPropertyDescriptor,SL=Object.getOwnPropertyNames,EL=Object.prototype.hasOwnProperty,wL=(e,t)=>rs(e,"name",{value:t,configurable:!0}),CL=(e,t)=>{for(var r in t)rs(e,r,{get:t[r],enumerable:!0})},OL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SL(t))!EL.call(e,o)&&o!==r&&rs(e,o,{get:()=>t[o],enumerable:!(n=yL(t,o))||n.enumerable});return e},bL=e=>OL(rs({},"__esModule",{value:!0}),e),Lv={};CL(Lv,{parseUrl:()=>jv});qv.exports=bL(Lv);var PL=Mv(),jv=wL(e=>{if(typeof e=="string")return jv(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,a;return i&&(a=(0,PL.parseQueryString)(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:a}},"parseUrl")});var ar=f((use,Wv)=>{l();var ns=Object.defineProperty,xL=Object.getOwnPropertyDescriptor,RL=Object.getOwnPropertyNames,AL=Object.prototype.hasOwnProperty,Fd=(e,t)=>ns(e,"name",{value:t,configurable:!0}),TL=(e,t)=>{for(var r in t)ns(e,r,{get:t[r],enumerable:!0})},IL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RL(t))!AL.call(e,o)&&o!==r&&ns(e,o,{get:()=>t[o],enumerable:!(n=xL(t,o))||n.enumerable});return e},NL=e=>IL(ns({},"__esModule",{value:!0}),e),Uv={};TL(Uv,{deserializerMiddleware:()=>Hv,deserializerMiddlewareOption:()=>$v,getSerdePlugin:()=>Vv,serializerMiddleware:()=>Bv,serializerMiddlewareOption:()=>Gv});Wv.exports=NL(Uv);var Hv=Fd((e,t)=>r=>async n=>{let{response:o}=await r(n);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},"deserializerMiddleware"),Bv=Fd((e,t)=>(r,n)=>async o=>{var i;let a=(i=n.endpointV2)!=null&&i.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let s=await t(o.input,{...e,endpoint:a});return r({...o,request:s})},"serializerMiddleware"),$v={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Gv={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Vv(e,t,r){return{applyToStack:n=>{n.add(Hv(e,r),$v),n.add(Bv(e,t),Gv)}}}Fd(Vv,"getSerdePlugin")});var cr=f((fse,Zv)=>{l();var is=Object.defineProperty,FL=Object.getOwnPropertyDescriptor,DL=Object.getOwnPropertyNames,kL=Object.prototype.hasOwnProperty,Ye=(e,t)=>is(e,"name",{value:t,configurable:!0}),ML=(e,t)=>{for(var r in t)is(e,r,{get:t[r],enumerable:!0})},LL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of DL(t))!kL.call(e,o)&&o!==r&&is(e,o,{get:()=>t[o],enumerable:!(n=FL(t,o))||n.enumerable});return e},jL=e=>LL(is({},"__esModule",{value:!0}),e),Kv={};ML(Kv,{endpointMiddleware:()=>Xv,endpointMiddlewareOptions:()=>Qv,getEndpointFromInstructions:()=>Jv,getEndpointPlugin:()=>KL,resolveEndpointConfig:()=>JL,resolveParams:()=>Yv,toEndpointV1:()=>Dd});Zv.exports=jL(Kv);var qL=Ye(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),GL(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!$L(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),UL=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,HL=/(\d+\.){3}\d+/,BL=/\.\./,$L=Ye(e=>UL.test(e)&&!HL.test(e)&&!BL.test(e),"isDnsCompatibleBucketName"),GL=Ye(e=>{let[t,r,n,,,o]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,a=!!(i&&r&&n&&o);if(i&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},"isArnBucketName"),VL=Ye((e,t,r)=>{let n=Ye(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:a,port:s,path:c}=o;return`${i}//${a}${s?":"+s:""}${c}`}}return o}:n},"createConfigValueProvider"),WL=Nv(),zv=sr(),Dd=Ye(e=>typeof e=="object"?"url"in e?(0,zv.parseUrl)(e.url):e:(0,zv.parseUrl)(e),"toEndpointV1"),Jv=Ye(async(e,t,r,n)=>{if(!r.endpoint){let a=await(0,WL.getEndpointFromConfig)(r.serviceId||"");a&&(r.endpoint=()=>Promise.resolve(Dd(a)))}let o=await Yv(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),Yv=Ye(async(e,t,r)=>{var n;let o={},i=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[a,s]of Object.entries(i))switch(s.type){case"staticContextParams":o[a]=s.value;break;case"contextParams":o[a]=e[s.name];break;case"clientContextParams":case"builtInParams":o[a]=await VL(s.name,a,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await qL(o),o},"resolveParams"),os=Ke(),Xv=Ye(({config:e,instructions:t})=>(r,n)=>async o=>{var i,a,s;let c=await Jv(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(i=c.properties)==null?void 0:i.authSchemes;let d=(a=n.authSchemes)==null?void 0:a[0];if(d){n.signing_region=d.signingRegion,n.signing_service=d.signingName;let u=(0,os.getSmithyContext)(n),p=(s=u?.selectedHttpAuthScheme)==null?void 0:s.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:d.signingRegion,signingRegion:d.signingRegion,signing_service:d.signingName,signingName:d.signingName,signingRegionSet:d.signingRegionSet},d.properties))}return r({...o})},"endpointMiddleware"),zL=ar(),Qv={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:zL.serializerMiddlewareOption.name},KL=Ye((e,t)=>({applyToStack:r=>{r.addRelativeTo(Xv({config:e,instructions:t}),Qv)}}),"getEndpointPlugin"),JL=Ye(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Dd(await(0,os.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,os.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,os.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});var eh,th,YL,rh=A(()=>{l();eh=H(cr());Bi();th={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:eh.endpointMiddlewareOptions.name},YL=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(zn(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),th)}})});var nh,oh,XL,ih=A(()=>{l();nh=H(ar());Bi();oh={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:nh.serializerMiddlewareOption.name},XL=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(zn(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),oh)}})});var sh=A(()=>{l();Bi();rh();ih()});var ah,Pse,ch,QL,ZL,kd,Md=A(()=>{l();ah=H(K()),Pse=H(z()),ch=H(Ke()),QL=e=>t=>{throw t},ZL=(e,t)=>{},kd=e=>(t,r)=>async n=>{if(!ah.HttpRequest.isInstance(n.request))return t(n);let i=(0,ch.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:s,signer:c}=i,d=await t({...n,request:await c.sign(n.request,s,a)}).catch((c.errorHandler||QL)(a));return(c.successHandler||ZL)(d.response,a),d}});import ej from"crypto";function Xn(){return ss>as.length-16&&(ej.randomFillSync(as),ss=0),as.slice(ss,ss+=16)}var as,ss,Ld=A(()=>{l();as=new Uint8Array(256),ss=as.length});var lh,dh=A(()=>{l();lh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function tj(e){return typeof e=="string"&&lh.test(e)}var Rt,Qn=A(()=>{l();dh();Rt=tj});function lr(e,t=0){return ne[e[t+0]]+ne[e[t+1]]+ne[e[t+2]]+ne[e[t+3]]+"-"+ne[e[t+4]]+ne[e[t+5]]+"-"+ne[e[t+6]]+ne[e[t+7]]+"-"+ne[e[t+8]]+ne[e[t+9]]+"-"+ne[e[t+10]]+ne[e[t+11]]+ne[e[t+12]]+ne[e[t+13]]+ne[e[t+14]]+ne[e[t+15]]}function rj(e,t=0){let r=lr(e,t);if(!Rt(r))throw TypeError("Stringified UUID is invalid");return r}var ne,uh,Zn=A(()=>{l();Qn();ne=[];for(let e=0;e<256;++e)ne.push((e+256).toString(16).slice(1));uh=rj});function nj(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||ph,a=e.clockseq!==void 0?e.clockseq:jd;if(i==null||a==null){let m=e.random||(e.rng||Xn)();i==null&&(i=ph=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),a==null&&(a=jd=(m[6]<<8|m[7])&16383)}let s=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Ud+1,d=s-qd+(c-Ud)/1e4;if(d<0&&e.clockseq===void 0&&(a=a+1&16383),(d<0||s>qd)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qd=s,Ud=c,jd=a,s+=122192928e5;let u=((s&268435455)*1e4+c)%4294967296;o[n++]=u>>>24&255,o[n++]=u>>>16&255,o[n++]=u>>>8&255,o[n++]=u&255;let p=s/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=p&255,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=a>>>8|128,o[n++]=a&255;for(let m=0;m<6;++m)o[n+m]=i[m];return t||lr(o)}var ph,jd,qd,Ud,fh,gh=A(()=>{l();Ld();Zn();qd=0,Ud=0;fh=nj});function oj(e){if(!Rt(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var cs,Hd=A(()=>{l();Qn();cs=oj});function ij(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function eo(e,t,r){function n(o,i,a,s){var c;if(typeof o=="string"&&(o=ij(o)),typeof i=="string"&&(i=cs(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(i),d.set(o,i.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,a){s=s||0;for(let u=0;u<16;++u)a[s+u]=d[u];return a}return lr(d)}try{n.name=e}catch{}return n.DNS=sj,n.URL=aj,n}var sj,aj,Bd=A(()=>{l();Zn();Hd();sj="6ba7b810-9dad-11d1-80b4-00c04fd430c8",aj="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import cj from"crypto";function lj(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),cj.createHash("md5").update(e).digest()}var mh,_h=A(()=>{l();mh=lj});var dj,vh,hh=A(()=>{l();Bd();_h();dj=eo("v3",48,mh),vh=dj});import uj from"crypto";var $d,yh=A(()=>{l();$d={randomUUID:uj.randomUUID}});function pj(e,t,r){if($d.randomUUID&&!t&&!e)return $d.randomUUID();e=e||{};let n=e.random||(e.rng||Xn)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return lr(n)}var Sh,Eh=A(()=>{l();yh();Ld();Zn();Sh=pj});import fj from"crypto";function gj(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),fj.createHash("sha1").update(e).digest()}var wh,Ch=A(()=>{l();wh=gj});var mj,Oh,bh=A(()=>{l();Bd();Ch();mj=eo("v5",80,wh),Oh=mj});var Ph,xh=A(()=>{l();Ph="00000000-0000-0000-0000-000000000000"});function _j(e){if(!Rt(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Rh,Ah=A(()=>{l();Qn();Rh=_j});var Th={};Pi(Th,{NIL:()=>Ph,parse:()=>cs,stringify:()=>uh,v1:()=>fh,v3:()=>vh,v4:()=>Sh,v5:()=>Oh,validate:()=>Rt,version:()=>Rh});var Ih=A(()=>{l();gh();hh();Eh();bh();xh();Ah();Qn();Zn();Hd()});var Gd=f((kae,kh)=>{l();var ls=Object.defineProperty,vj=Object.getOwnPropertyDescriptor,hj=Object.getOwnPropertyNames,yj=Object.prototype.hasOwnProperty,jr=(e,t)=>ls(e,"name",{value:t,configurable:!0}),Sj=(e,t)=>{for(var r in t)ls(e,r,{get:t[r],enumerable:!0})},Ej=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hj(t))!yj.call(e,o)&&o!==r&&ls(e,o,{get:()=>t[o],enumerable:!(n=vj(t,o))||n.enumerable});return e},wj=e=>Ej(ls({},"__esModule",{value:!0}),e),Nh={};Sj(Nh,{isClockSkewCorrectedError:()=>Fh,isClockSkewError:()=>Aj,isRetryableByTrait:()=>Rj,isServerError:()=>Ij,isThrottlingError:()=>Tj,isTransientError:()=>Dh});kh.exports=wj(Nh);var Cj=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Oj=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],bj=["TimeoutError","RequestTimeout","RequestTimeoutException"],Pj=[500,502,503,504],xj=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Rj=jr(e=>e.$retryable!==void 0,"isRetryableByTrait"),Aj=jr(e=>Cj.includes(e.name),"isClockSkewError"),Fh=jr(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),Tj=jr(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Oj.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),Dh=jr(e=>{var t;return Fh(e)||bj.includes(e.name)||xj.includes(e?.code||"")||Pj.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),Ij=jr(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Dh(e)}return!1},"isServerError")});var qr=f((Hae,Kh)=>{l();var ds=Object.defineProperty,Nj=Object.getOwnPropertyDescriptor,Fj=Object.getOwnPropertyNames,Dj=Object.prototype.hasOwnProperty,Xe=(e,t)=>ds(e,"name",{value:t,configurable:!0}),kj=(e,t)=>{for(var r in t)ds(e,r,{get:t[r],enumerable:!0})},Mj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Fj(t))!Dj.call(e,o)&&o!==r&&ds(e,o,{get:()=>t[o],enumerable:!(n=Nj(t,o))||n.enumerable});return e},Lj=e=>Mj(ds({},"__esModule",{value:!0}),e),Lh={};kj(Lh,{AdaptiveRetryStrategy:()=>$j,ConfiguredRetryStrategy:()=>Gj,DEFAULT_MAX_ATTEMPTS:()=>Vd,DEFAULT_RETRY_DELAY_BASE:()=>to,DEFAULT_RETRY_MODE:()=>jj,DefaultRateLimiter:()=>Uh,INITIAL_RETRY_TOKENS:()=>Wd,INVOCATION_ID_HEADER:()=>Uj,MAXIMUM_RETRY_DELAY:()=>zd,NO_RETRY_INCREMENT:()=>Gh,REQUEST_HEADER:()=>Hj,RETRY_COST:()=>Bh,RETRY_MODES:()=>jh,StandardRetryStrategy:()=>Kd,THROTTLING_RETRY_DELAY_BASE:()=>Hh,TIMEOUT_RETRY_COST:()=>$h});Kh.exports=Lj(Lh);var jh=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(jh||{}),Vd=3,jj="standard",qj=Gd(),qh=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,qj.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Xe(qh,"DefaultRateLimiter");var Uh=qh,to=100,zd=20*1e3,Hh=500,Wd=500,Bh=5,$h=10,Gh=1,Uj="amz-sdk-invocation-id",Hj="amz-sdk-request",Bj=Xe(()=>{let e=to;return{computeNextBackoffDelay:Xe(n=>Math.floor(Math.min(zd,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Xe(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Mh=Xe(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Xe(()=>t,"getRetryCount"),getRetryDelay:Xe(()=>Math.min(zd,e),"getRetryDelay"),getRetryCost:Xe(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Vh=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=Wd,this.retryBackoffStrategy=Bj(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Mh({retryDelay:to,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?Hh:to);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),a=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,s=this.getCapacityCost(o);return this.capacity-=s,Mh({retryDelay:a,retryCount:t.getRetryCount()+1,retryCost:s})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Wd,this.capacity+(t.getRetryCost()??Gh))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Vd}`),Vd}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?$h:Bh}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};Xe(Vh,"StandardRetryStrategy");var Kd=Vh,Wh=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new Uh,this.standardRetryStrategy=new Kd(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Xe(Wh,"AdaptiveRetryStrategy");var $j=Wh,zh=class extends Kd{constructor(t,r=to){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Xe(zh,"ConfiguredRetryStrategy");var Gj=zh});var Zh=f(($ae,Qh)=>{l();var us=Object.defineProperty,Vj=Object.getOwnPropertyDescriptor,Wj=Object.getOwnPropertyNames,zj=Object.prototype.hasOwnProperty,Oe=(e,t)=>us(e,"name",{value:t,configurable:!0}),Kj=(e,t)=>{for(var r in t)us(e,r,{get:t[r],enumerable:!0})},Jj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wj(t))!zj.call(e,o)&&o!==r&&us(e,o,{get:()=>t[o],enumerable:!(n=Vj(t,o))||n.enumerable});return e},Yj=e=>Jj(us({},"__esModule",{value:!0}),e),Xh={};Kj(Xh,{constructStack:()=>Jd});Qh.exports=Yj(Xh);var dr=Oe((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),At=Oe((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Jd=Oe(()=>{let e=[],t=[],r=!1,n=new Set,o=Oe(p=>p.sort((m,g)=>Jh[g.step]-Jh[m.step]||Yh[g.priority||"normal"]-Yh[m.priority||"normal"]),"sort"),i=Oe(p=>{let m=!1,g=Oe(h=>{let C=dr(h.name,h.aliases);if(C.includes(p)){m=!0;for(let w of C)n.delete(w);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),m},"removeByName"),a=Oe(p=>{let m=!1,g=Oe(h=>{if(h.middleware===p){m=!0;for(let C of dr(h.name,h.aliases))n.delete(C);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),m},"removeByReference"),s=Oe(p=>{var m;return e.forEach(g=>{p.add(g.middleware,{...g})}),t.forEach(g=>{p.addRelativeTo(g.middleware,{...g})}),(m=p.identifyOnResolve)==null||m.call(p,u.identifyOnResolve()),p},"cloneTo"),c=Oe(p=>{let m=[];return p.before.forEach(g=>{g.before.length===0&&g.after.length===0?m.push(g):m.push(...c(g))}),m.push(p),p.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?m.push(g):m.push(...c(g))}),m},"expandRelativeMiddlewareList"),d=Oe((p=!1)=>{let m=[],g=[],h={};return e.forEach(w=>{let b={...w,before:[],after:[]};for(let R of dr(b.name,b.aliases))h[R]=b;m.push(b)}),t.forEach(w=>{let b={...w,before:[],after:[]};for(let R of dr(b.name,b.aliases))h[R]=b;g.push(b)}),g.forEach(w=>{if(w.toMiddleware){let b=h[w.toMiddleware];if(b===void 0){if(p)return;throw new Error(`${w.toMiddleware} is not found when adding ${At(w.name,w.aliases)} middleware ${w.relation} ${w.toMiddleware}`)}w.relation==="after"&&b.after.push(w),w.relation==="before"&&b.before.push(w)}}),o(m).map(c).reduce((w,b)=>(w.push(...b),w),[])},"getMiddlewareList"),u={add:(p,m={})=>{let{name:g,override:h,aliases:C}=m,w={step:"initialize",priority:"normal",middleware:p,...m},b=dr(g,C);if(b.length>0){if(b.some(R=>n.has(R))){if(!h)throw new Error(`Duplicate middleware name '${At(g,C)}'`);for(let R of b){let F=e.findIndex(Q=>{var ce;return Q.name===R||((ce=Q.aliases)==null?void 0:ce.some(nr=>nr===R))});if(F===-1)continue;let L=e[F];if(L.step!==w.step||w.priority!==L.priority)throw new Error(`"${At(L.name,L.aliases)}" middleware with ${L.priority} priority in ${L.step} step cannot be overridden by "${At(g,C)}" middleware with ${w.priority} priority in ${w.step} step.`);e.splice(F,1)}}for(let R of b)n.add(R)}e.push(w)},addRelativeTo:(p,m)=>{let{name:g,override:h,aliases:C}=m,w={middleware:p,...m},b=dr(g,C);if(b.length>0){if(b.some(R=>n.has(R))){if(!h)throw new Error(`Duplicate middleware name '${At(g,C)}'`);for(let R of b){let F=t.findIndex(Q=>{var ce;return Q.name===R||((ce=Q.aliases)==null?void 0:ce.some(nr=>nr===R))});if(F===-1)continue;let L=t[F];if(L.toMiddleware!==w.toMiddleware||L.relation!==w.relation)throw new Error(`"${At(L.name,L.aliases)}" middleware ${L.relation} "${L.toMiddleware}" middleware cannot be overridden by "${At(g,C)}" middleware ${w.relation} "${w.toMiddleware}" middleware.`);t.splice(F,1)}}for(let R of b)n.add(R)}t.push(w)},clone:()=>s(Jd()),use:p=>{p.applyToStack(u)},remove:p=>typeof p=="string"?i(p):a(p),removeByTag:p=>{let m=!1,g=Oe(h=>{let{tags:C,name:w,aliases:b}=h;if(C&&C.includes(p)){let R=dr(w,b);for(let F of R)n.delete(F);return m=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),m},concat:p=>{var m;let g=s(Jd());return g.use(p),g.identifyOnResolve(r||g.identifyOnResolve()||(((m=p.identifyOnResolve)==null?void 0:m.call(p))??!1)),g},applyToStack:s,identify:()=>d(!0).map(p=>{let m=p.step??p.relation+" "+p.toMiddleware;return At(p.name,p.aliases)+" - "+m}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,m)=>{for(let g of d().map(h=>h.middleware).reverse())p=g(p,m);return r&&console.log(u.identify()),p}};return u},"constructStack"),Jh={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Yh={high:3,normal:2,low:1}});var Yd=f((Vae,ty)=>{l();var ps=Object.defineProperty,Xj=Object.getOwnPropertyDescriptor,Qj=Object.getOwnPropertyNames,Zj=Object.prototype.hasOwnProperty,eq=(e,t)=>ps(e,"name",{value:t,configurable:!0}),tq=(e,t)=>{for(var r in t)ps(e,r,{get:t[r],enumerable:!0})},rq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qj(t))!Zj.call(e,o)&&o!==r&&ps(e,o,{get:()=>t[o],enumerable:!(n=Xj(t,o))||n.enumerable});return e},nq=e=>rq(ps({},"__esModule",{value:!0}),e),ey={};tq(ey,{isArrayBuffer:()=>oq});ty.exports=nq(ey);var oq=eq(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Ur=f((zae,oy)=>{l();var fs=Object.defineProperty,iq=Object.getOwnPropertyDescriptor,sq=Object.getOwnPropertyNames,aq=Object.prototype.hasOwnProperty,ry=(e,t)=>fs(e,"name",{value:t,configurable:!0}),cq=(e,t)=>{for(var r in t)fs(e,r,{get:t[r],enumerable:!0})},lq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sq(t))!aq.call(e,o)&&o!==r&&fs(e,o,{get:()=>t[o],enumerable:!(n=iq(t,o))||n.enumerable});return e},dq=e=>lq(fs({},"__esModule",{value:!0}),e),ny={};cq(ny,{fromArrayBuffer:()=>pq,fromString:()=>fq});oy.exports=dq(ny);var uq=Yd(),Xd=S("buffer"),pq=ry((e,t=0,r=e.byteLength-t)=>{if(!(0,uq.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Xd.Buffer.from(e,t,r)},"fromArrayBuffer"),fq=ry((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Xd.Buffer.from(e,t):Xd.Buffer.from(e)},"fromString")});var iy=f(gs=>{"use strict";l();Object.defineProperty(gs,"__esModule",{value:!0});gs.fromBase64=void 0;var gq=Ur(),mq=/^[A-Za-z0-9+/]*={0,2}$/,_q=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!mq.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,gq.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};gs.fromBase64=_q});var ye=f((Xae,ly)=>{l();var ms=Object.defineProperty,vq=Object.getOwnPropertyDescriptor,hq=Object.getOwnPropertyNames,yq=Object.prototype.hasOwnProperty,Qd=(e,t)=>ms(e,"name",{value:t,configurable:!0}),Sq=(e,t)=>{for(var r in t)ms(e,r,{get:t[r],enumerable:!0})},Eq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hq(t))!yq.call(e,o)&&o!==r&&ms(e,o,{get:()=>t[o],enumerable:!(n=vq(t,o))||n.enumerable});return e},wq=e=>Eq(ms({},"__esModule",{value:!0}),e),sy={};Sq(sy,{fromUtf8:()=>cy,toUint8Array:()=>Cq,toUtf8:()=>Oq});ly.exports=wq(sy);var ay=Ur(),cy=Qd(e=>{let t=(0,ay.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Cq=Qd(e=>typeof e=="string"?cy(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Oq=Qd(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,ay.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var dy=f(_s=>{"use strict";l();Object.defineProperty(_s,"__esModule",{value:!0});_s.toBase64=void 0;var bq=Ur(),Pq=ye(),xq=e=>{let t;if(typeof e=="string"?t=(0,Pq.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,bq.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};_s.toBase64=xq});var Tt=f((tce,vs)=>{l();var uy=Object.defineProperty,Rq=Object.getOwnPropertyDescriptor,Aq=Object.getOwnPropertyNames,Tq=Object.prototype.hasOwnProperty,Zd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Aq(t))!Tq.call(e,o)&&o!==r&&uy(e,o,{get:()=>t[o],enumerable:!(n=Rq(t,o))||n.enumerable});return e},py=(e,t,r)=>(Zd(e,t,"default"),r&&Zd(r,t,"default")),Iq=e=>Zd(uy({},"__esModule",{value:!0}),e),eu={};vs.exports=Iq(eu);py(eu,iy(),vs.exports);py(eu,dy(),vs.exports)});var fy=f(hs=>{"use strict";l();Object.defineProperty(hs,"__esModule",{value:!0});hs.getAwsChunkedEncodingStream=void 0;var Nq=S("stream"),Fq=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:a}=t,s=r!==void 0&&o!==void 0&&i!==void 0&&a!==void 0,c=s?a(o,e):void 0,d=new Nq.Readable({read:()=>{}});return e.on("data",u=>{let p=n(u)||0;d.push(`${p.toString(16)}\r
`),d.push(u),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),s){let u=r(await c);d.push(`${i}:${u}\r
`),d.push(`\r
`)}d.push(null)}),d};hs.getAwsChunkedEncodingStream=Fq});var ru=f((ice,_y)=>{l();var ys=Object.defineProperty,Dq=Object.getOwnPropertyDescriptor,kq=Object.getOwnPropertyNames,Mq=Object.prototype.hasOwnProperty,tu=(e,t)=>ys(e,"name",{value:t,configurable:!0}),Lq=(e,t)=>{for(var r in t)ys(e,r,{get:t[r],enumerable:!0})},jq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kq(t))!Mq.call(e,o)&&o!==r&&ys(e,o,{get:()=>t[o],enumerable:!(n=Dq(t,o))||n.enumerable});return e},qq=e=>jq(ys({},"__esModule",{value:!0}),e),gy={};Lq(gy,{escapeUri:()=>my,escapeUriPath:()=>Hq});_y.exports=qq(gy);var my=tu(e=>encodeURIComponent(e).replace(/[!'()*]/g,Uq),"escapeUri"),Uq=tu(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Hq=tu(e=>e.split("/").map(my).join("/"),"escapeUriPath")});var ou=f((ace,yy)=>{l();var Ss=Object.defineProperty,Bq=Object.getOwnPropertyDescriptor,$q=Object.getOwnPropertyNames,Gq=Object.prototype.hasOwnProperty,Vq=(e,t)=>Ss(e,"name",{value:t,configurable:!0}),Wq=(e,t)=>{for(var r in t)Ss(e,r,{get:t[r],enumerable:!0})},zq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $q(t))!Gq.call(e,o)&&o!==r&&Ss(e,o,{get:()=>t[o],enumerable:!(n=Bq(t,o))||n.enumerable});return e},Kq=e=>zq(Ss({},"__esModule",{value:!0}),e),vy={};Wq(vy,{buildQueryString:()=>hy});yy.exports=Kq(vy);var nu=ru();function hy(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,nu.escapeUri)(r),Array.isArray(n))for(let o=0,i=n.length;o<i;o++)t.push(`${r}=${(0,nu.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,nu.escapeUri)(n)}`),t.push(o)}}return t.join("&")}Vq(hy,"buildQueryString")});var ur=f((pce,My)=>{l();var Jq=Object.create,ro=Object.defineProperty,Yq=Object.getOwnPropertyDescriptor,Xq=Object.getOwnPropertyNames,Qq=Object.getPrototypeOf,Zq=Object.prototype.hasOwnProperty,Y=(e,t)=>ro(e,"name",{value:t,configurable:!0}),eU=(e,t)=>{for(var r in t)ro(e,r,{get:t[r],enumerable:!0})},wy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xq(t))!Zq.call(e,o)&&o!==r&&ro(e,o,{get:()=>t[o],enumerable:!(n=Yq(t,o))||n.enumerable});return e},tU=(e,t,r)=>(r=e!=null?Jq(Qq(e)):{},wy(t||!e||!e.__esModule?ro(r,"default",{value:e,enumerable:!0}):r,e)),rU=e=>wy(ro({},"__esModule",{value:!0}),e),Cy={};eU(Cy,{DEFAULT_REQUEST_TIMEOUT:()=>aU,NodeHttp2Handler:()=>pU,NodeHttpHandler:()=>cU,streamCollector:()=>gU});My.exports=rU(Cy);var Oy=K(),by=ou(),iu=S("http"),su=S("https"),nU=["ECONNRESET","EPIPE","ETIMEDOUT"],Py=Y(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),oU=Y((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),iU=Y((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),sU=Y((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),xy=S("stream"),Sy=1e3;async function cu(e,t,r=Sy){let n=t.headers??{},o=n.Expect||n.expect,i=-1,a=!1;o==="100-continue"&&await Promise.race([new Promise(s=>{i=Number(setTimeout(s,Math.max(Sy,r)))}),new Promise(s=>{e.on("continue",()=>{clearTimeout(i),s()}),e.on("error",()=>{a=!0,clearTimeout(i),s()})})]),a||Ry(e,t.body)}Y(cu,"writeRequestBody");function Ry(e,t){if(t instanceof xy.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}Y(Ry,"writeBody");var aU=0,Ay=class au{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new au(t)}static checkSocketUsage(t,r,n=console){var o,i,a;let{sockets:s,requests:c,maxSockets:d}=t;if(typeof d!="number"||d===1/0||Date.now()-15e3<r)return r;if(s&&c)for(let p in s){let m=((o=s[p])==null?void 0:o.length)??0,g=((i=c[p])==null?void 0:i.length)??0;if(m>=d&&g>=2*d)return(a=n?.warn)==null||a.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${m} and ${g} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:i,httpsAgent:a}=t||{},s=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:i instanceof iu.Agent||typeof i?.destroy=="function"?i:new iu.Agent({keepAlive:s,maxSockets:c,...i}),httpsAgent:a instanceof su.Agent||typeof a?.destroy=="function"?a:new su.Agent({keepAlive:s,maxSockets:c,...a}),logger:console}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,i)=>{let a,s=Y(async R=>{await a,clearTimeout(n),o(R)},"resolve"),c=Y(async R=>{await a,clearTimeout(n),i(R)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let R=new Error("Request aborted");R.name="AbortError",c(R);return}let d=t.protocol==="https:",u=d?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=au.checkSocketUsage(u,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let p=(0,by.buildQueryString)(t.query||{}),m;if(t.username!=null||t.password!=null){let R=t.username??"",F=t.password??"";m=`${R}:${F}`}let g=t.path;p&&(g+=`?${p}`),t.fragment&&(g+=`#${t.fragment}`);let h={headers:t.headers,host:t.hostname,method:t.method,path:g,port:t.port,agent:u,auth:m},w=(d?su.request:iu.request)(h,R=>{let F=new Oy.HttpResponse({statusCode:R.statusCode||-1,reason:R.statusMessage,headers:Py(R.headers),body:R});s({response:F})});if(w.on("error",R=>{nU.includes(R.code)?c(Object.assign(R,{name:"TimeoutError"})):c(R)}),oU(w,c,this.config.connectionTimeout),sU(w,c,this.config.requestTimeout),r){let R=Y(()=>{w.destroy();let F=new Error("Request aborted");F.name="AbortError",c(F)},"onAbort");if(typeof r.addEventListener=="function"){let F=r;F.addEventListener("abort",R,{once:!0}),w.once("close",()=>F.removeEventListener("abort",R))}else r.onabort=R}let b=h.agent;typeof b=="object"&&"keepAlive"in b&&iU(w,{keepAlive:b.keepAlive,keepAliveMsecs:b.keepAliveMsecs}),a=cu(w,t,this.config.requestTimeout).catch(R=>(clearTimeout(n),i(R)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};Y(Ay,"NodeHttpHandler");var cU=Ay,Ey=S("http2"),lU=tU(S("http2")),Ty=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};Y(Ty,"NodeHttp2ConnectionPool");var dU=Ty,Iy=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let i=lU.default.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let a=Y(()=>{i.destroy(),this.deleteSession(n,i)},"destroySessionCb");i.on("goaway",a),i.on("error",a),i.on("frameError",a),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,a);let s=this.sessionCache.get(n)||new dU;return s.offerLast(i),this.sessionCache.set(n,s),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};Y(Iy,"NodeHttp2ConnectionManager");var uU=Iy,Ny=class Fy{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new uU({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new Fy(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((i,a)=>{var s;let c=!1,d,u=Y(async W=>{await d,i(W)},"resolve"),p=Y(async W=>{await d,a(W)},"reject");if(r?.aborted){c=!0;let W=new Error("Request aborted");W.name="AbortError",p(W);return}let{hostname:m,method:g,port:h,protocol:C,query:w}=t,b="";if(t.username!=null||t.password!=null){let W=t.username??"",ze=t.password??"";b=`${W}:${ze}@`}let R=`${C}//${b}${m}${h?`:${h}`:""}`,F={destination:new URL(R)},L=this.connectionManager.lease(F,{requestTimeout:(s=this.config)==null?void 0:s.sessionTimeout,disableConcurrentStreams:o||!1}),Q=Y(W=>{o&&this.destroySession(L),c=!0,p(W)},"rejectWithDestroy"),ce=(0,by.buildQueryString)(w||{}),nr=t.path;ce&&(nr+=`?${ce}`),t.fragment&&(nr+=`#${t.fragment}`);let we=L.request({...t.headers,[Ey.constants.HTTP2_HEADER_PATH]:nr,[Ey.constants.HTTP2_HEADER_METHOD]:g});if(L.ref(),we.on("response",W=>{let ze=new Oy.HttpResponse({statusCode:W[":status"]||-1,headers:Py(W),body:we});c=!0,u({response:ze}),o&&(L.close(),this.connectionManager.deleteSession(R,L))}),n&&we.setTimeout(n,()=>{we.close();let W=new Error(`Stream timed out because of no activity for ${n} ms`);W.name="TimeoutError",Q(W)}),r){let W=Y(()=>{we.close();let ze=new Error("Request aborted");ze.name="AbortError",Q(ze)},"onAbort");if(typeof r.addEventListener=="function"){let ze=r;ze.addEventListener("abort",W,{once:!0}),we.once("close",()=>ze.removeEventListener("abort",W))}else r.onabort=W}we.on("frameError",(W,ze,PD)=>{Q(new Error(`Frame type id ${W} in stream id ${PD} has failed with code ${ze}.`))}),we.on("error",Q),we.on("aborted",()=>{Q(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${we.rstCode}.`))}),we.on("close",()=>{L.unref(),o&&L.destroy(),c||Q(new Error("Unexpected error: http2 request did not get a response"))}),d=cu(we,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};Y(Ny,"NodeHttp2Handler");var pU=Ny,Dy=class extends xy.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};Y(Dy,"Collector");var fU=Dy,gU=Y(e=>mU(e)?ky(e):new Promise((t,r)=>{let n=new fU;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),mU=Y(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function ky(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:s,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=s}let i=new Uint8Array(o),a=0;for(let s of t)i.set(s,a),a+=s.length;return i}Y(ky,"collectReadableStream")});var Wy=f((gce,Vy)=>{l();var ws=Object.defineProperty,_U=Object.getOwnPropertyDescriptor,vU=Object.getOwnPropertyNames,hU=Object.prototype.hasOwnProperty,mt=(e,t)=>ws(e,"name",{value:t,configurable:!0}),yU=(e,t)=>{for(var r in t)ws(e,r,{get:t[r],enumerable:!0})},SU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vU(t))!hU.call(e,o)&&o!==r&&ws(e,o,{get:()=>t[o],enumerable:!(n=_U(t,o))||n.enumerable});return e},EU=e=>SU(ws({},"__esModule",{value:!0}),e),jy={};yU(jy,{FetchHttpHandler:()=>CU,keepAliveSupport:()=>Es,streamCollector:()=>bU});Vy.exports=EU(jy);var Ly=K(),wU=ou();function qy(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}mt(qy,"requestTimeout");var Es={supported:void 0},Uy=class Hy{static create(t){return typeof t?.handle=="function"?t:new Hy(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Es.supported===void 0&&(Es.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let b=new Error("Request aborted");return b.name="AbortError",Promise.reject(b)}let a=t.path,s=(0,wU.buildQueryString)(t.query||{});s&&(a+=`?${s}`),t.fragment&&(a+=`#${t.fragment}`);let c="";if(t.username!=null||t.password!=null){let b=t.username??"",R=t.password??"";c=`${b}:${R}@`}let{port:d,method:u}=t,p=`${t.protocol}//${c}${t.hostname}${d?`:${d}`:""}${a}`,m=u==="GET"||u==="HEAD"?void 0:t.body,g={body:m,headers:new Headers(t.headers),method:u,credentials:i};m&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=r),Es.supported&&(g.keepalive=o);let h=mt(()=>{},"removeSignalEventListener"),C=new Request(p,g),w=[fetch(C).then(b=>{let R=b.headers,F={};for(let Q of R.entries())F[Q[0]]=Q[1];return b.body!=null?{response:new Ly.HttpResponse({headers:F,reason:b.statusText,statusCode:b.status,body:b.body})}:b.blob().then(Q=>({response:new Ly.HttpResponse({headers:F,reason:b.statusText,statusCode:b.status,body:Q})}))}),qy(n)];return r&&w.push(new Promise((b,R)=>{let F=mt(()=>{let L=new Error("Request aborted");L.name="AbortError",R(L)},"onAbort");if(typeof r.addEventListener=="function"){let L=r;L.addEventListener("abort",F,{once:!0}),h=mt(()=>L.removeEventListener("abort",F),"removeSignalEventListener")}else r.onabort=F})),Promise.race(w).finally(h)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}};mt(Uy,"FetchHttpHandler");var CU=Uy,OU=Tt(),bU=mt(e=>typeof Blob=="function"&&e instanceof Blob?By(e):$y(e),"streamCollector");async function By(e){let t=await Gy(e),r=(0,OU.fromBase64)(t);return new Uint8Array(r)}mt(By,"collectBlob");async function $y(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:s,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=s}let i=new Uint8Array(o),a=0;for(let s of t)i.set(s,a),a+=s.length;return i}mt($y,"collectStream");function Gy(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}mt(Gy,"readToBase64")});var Os=f((_ce,Qy)=>{l();var Cs=Object.defineProperty,PU=Object.getOwnPropertyDescriptor,xU=Object.getOwnPropertyNames,RU=Object.prototype.hasOwnProperty,zy=(e,t)=>Cs(e,"name",{value:t,configurable:!0}),AU=(e,t)=>{for(var r in t)Cs(e,r,{get:t[r],enumerable:!0})},TU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xU(t))!RU.call(e,o)&&o!==r&&Cs(e,o,{get:()=>t[o],enumerable:!(n=PU(t,o))||n.enumerable});return e},IU=e=>TU(Cs({},"__esModule",{value:!0}),e),Ky={};AU(Ky,{fromHex:()=>Yy,toHex:()=>Xy});Qy.exports=IU(Ky);var Jy={},lu={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Jy[e]=t,lu[t]=e}function Yy(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in lu)t[r/2]=lu[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}zy(Yy,"fromHex");function Xy(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Jy[e[r]];return t}zy(Xy,"toHex")});var no=f(bs=>{"use strict";l();Object.defineProperty(bs,"__esModule",{value:!0});bs.isReadableStream=void 0;var NU=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};bs.isReadableStream=NU});var rS=f(Ps=>{"use strict";l();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.sdkStreamMixin=void 0;var FU=Wy(),DU=Tt(),kU=Os(),MU=ye(),Zy=no(),eS="The stream has already been transformed.",LU=e=>{var t,r;if(!tS(e)&&!(0,Zy.isReadableStream)(e)){let a=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${a}`)}let n=!1,o=async()=>{if(n)throw new Error(eS);return n=!0,await(0,FU.streamCollector)(e)},i=a=>{if(typeof a.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return a.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async a=>{let s=await o();if(a==="base64")return(0,DU.toBase64)(s);if(a==="hex")return(0,kU.toHex)(s);if(a===void 0||a==="utf8"||a==="utf-8")return(0,MU.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(a).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(eS);if(n=!0,tS(e))return i(e);if((0,Zy.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ps.sdkStreamMixin=LU;var tS=e=>typeof Blob=="function"&&e instanceof Blob});var oS=f(xs=>{"use strict";l();Object.defineProperty(xs,"__esModule",{value:!0});xs.sdkStreamMixin=void 0;var jU=ur(),qU=Ur(),du=S("stream"),UU=S("util"),HU=rS(),nS="The stream has already been transformed.",BU=e=>{var t,r;if(!(e instanceof du.Readable))try{return(0,HU.sdkStreamMixin)(e)}catch{let a=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${a}`)}let n=!1,o=async()=>{if(n)throw new Error(nS);return n=!0,await(0,jU.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();return i===void 0||Buffer.isEncoding(i)?(0,qU.fromArrayBuffer)(a.buffer,a.byteOffset,a.byteLength).toString(i):new UU.TextDecoder(i).decode(a)},transformToWebStream:()=>{if(n)throw new Error(nS);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof du.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,du.Readable.toWeb(e)}})};xs.sdkStreamMixin=BU});var iS=f(Rs=>{"use strict";l();Object.defineProperty(Rs,"__esModule",{value:!0});Rs.splitStream=void 0;async function $U(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}Rs.splitStream=$U});var aS=f(As=>{"use strict";l();Object.defineProperty(As,"__esModule",{value:!0});As.splitStream=void 0;var sS=S("stream"),GU=iS(),VU=no();async function WU(e){if((0,VU.isReadableStream)(e))return(0,GU.splitStream)(e);let t=new sS.PassThrough,r=new sS.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}As.splitStream=WU});var cS=f(Ts=>{"use strict";l();Object.defineProperty(Ts,"__esModule",{value:!0});Ts.headStream=void 0;async function zU(e,t){var r;let n=0,o=[],i=e.getReader(),a=!1;for(;!a;){let{done:d,value:u}=await i.read();if(u&&(o.push(u),n+=(r=u?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;a=d}i.releaseLock();let s=new Uint8Array(Math.min(t,n)),c=0;for(let d of o){if(d.byteLength>s.byteLength-c){s.set(d.subarray(0,s.byteLength-c),c);break}else s.set(d,c);c+=d.length}return s}Ts.headStream=zU});var lS=f(Is=>{"use strict";l();Object.defineProperty(Is,"__esModule",{value:!0});Is.headStream=void 0;var KU=S("stream"),JU=cS(),YU=no(),XU=(e,t)=>(0,YU.isReadableStream)(e)?(0,JU.headStream)(e,t):new Promise((r,n)=>{let o=new uu;o.limit=t,e.pipe(o),e.on("error",i=>{o.end(),n(i)}),o.on("error",n),o.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});Is.headStream=XU;var uu=class extends KU.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let i=this.bytesBuffered-this.limit,a=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=a.subarray(0,a.byteLength-i),this.emit("finish")}n()}}});var mu=f((Nce,fr)=>{l();var Ns=Object.defineProperty,QU=Object.getOwnPropertyDescriptor,ZU=Object.getOwnPropertyNames,eH=Object.prototype.hasOwnProperty,gu=(e,t)=>Ns(e,"name",{value:t,configurable:!0}),tH=(e,t)=>{for(var r in t)Ns(e,r,{get:t[r],enumerable:!0})},pu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZU(t))!eH.call(e,o)&&o!==r&&Ns(e,o,{get:()=>t[o],enumerable:!(n=QU(t,o))||n.enumerable});return e},oo=(e,t,r)=>(pu(e,t,"default"),r&&pu(r,t,"default")),rH=e=>pu(Ns({},"__esModule",{value:!0}),e),pr={};tH(pr,{Uint8ArrayBlobAdapter:()=>fu});fr.exports=rH(pr);var dS=Tt(),uS=ye();function pS(e,t="utf-8"){return t==="base64"?(0,dS.toBase64)(e):(0,uS.toUtf8)(e)}gu(pS,"transformToString");function fS(e,t){return t==="base64"?fu.mutate((0,dS.fromBase64)(e)):fu.mutate((0,uS.fromUtf8)(e))}gu(fS,"transformFromString");var gS=class mS extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return fS(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,mS.prototype),t}transformToString(t="utf-8"){return pS(this,t)}};gu(gS,"Uint8ArrayBlobAdapter");var fu=gS;oo(pr,fy(),fr.exports);oo(pr,oS(),fr.exports);oo(pr,aS(),fr.exports);oo(pr,lS(),fr.exports);oo(pr,no(),fr.exports)});var U=f((jce,qS)=>{l();var Ls=Object.defineProperty,nH=Object.getOwnPropertyDescriptor,oH=Object.getOwnPropertyNames,iH=Object.prototype.hasOwnProperty,O=(e,t)=>Ls(e,"name",{value:t,configurable:!0}),sH=(e,t)=>{for(var r in t)Ls(e,r,{get:t[r],enumerable:!0})},aH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oH(t))!iH.call(e,o)&&o!==r&&Ls(e,o,{get:()=>t[o],enumerable:!(n=nH(t,o))||n.enumerable});return e},cH=e=>aH(Ls({},"__esModule",{value:!0}),e),vS={};sH(vS,{Client:()=>dH,Command:()=>wS,LazyJsonString:()=>sB,NoOpLogger:()=>lH,SENSITIVE_STRING:()=>fH,ServiceException:()=>KH,StringWrapper:()=>lo,_json:()=>wu,collectBody:()=>uH,convertMap:()=>aB,createAggregatedClient:()=>gH,dateToUtcString:()=>AS,decorateServiceException:()=>NS,emitWarningIfUnsupportedVersion:()=>QH,expectBoolean:()=>_H,expectByte:()=>Eu,expectFloat32:()=>Ds,expectInt:()=>hH,expectInt32:()=>yu,expectLong:()=>ao,expectNonNull:()=>SH,expectNumber:()=>so,expectObject:()=>OS,expectShort:()=>Su,expectString:()=>EH,expectUnion:()=>wH,extendedEncodeURIComponent:()=>Ms,getArrayIfSingleItem:()=>iB,getDefaultClientConfiguration:()=>nB,getDefaultExtensionConfiguration:()=>DS,getValueFromTextNode:()=>kS,handleFloat:()=>bH,limitedParseDouble:()=>bu,limitedParseFloat:()=>PH,limitedParseFloat32:()=>xH,loadConfigsForDefaultMode:()=>XH,logger:()=>co,map:()=>xu,parseBoolean:()=>mH,parseEpochTimestamp:()=>qH,parseRfc3339DateTime:()=>NH,parseRfc3339DateTimeWithOffset:()=>DH,parseRfc7231DateTime:()=>jH,resolveDefaultRuntimeConfig:()=>oB,resolvedPath:()=>pB,serializeDateTime:()=>gB,serializeFloat:()=>fB,splitEvery:()=>jS,strictParseByte:()=>RS,strictParseDouble:()=>Ou,strictParseFloat:()=>CH,strictParseFloat32:()=>bS,strictParseInt:()=>RH,strictParseInt32:()=>AH,strictParseLong:()=>xS,strictParseShort:()=>Hr,take:()=>cB,throwDefaultError:()=>FS,withBaseException:()=>JH});qS.exports=cH(vS);var hS=class{trace(){}debug(){}info(){}warn(){}error(){}};O(hS,"NoOpLogger");var lH=hS,yS=Zh(),SS=class{constructor(t){this.middlewareStack=(0,yS.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(i)a(t).then(s=>i(null,s.output),s=>i(s)).catch(()=>{});else return a(t).then(s=>s.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};O(SS,"Client");var dH=SS,_u=mu(),uH=O(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return _u.Uint8ArrayBlobAdapter.mutate(e);if(!e)return _u.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return _u.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),hu=z(),ES=class{constructor(){this.middlewareStack=(0,yS.constructStack)()}static classBuilder(){return new pH}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:u,CommandCtor:p}){for(let w of o.bind(this)(p,t,r,n))this.middlewareStack.use(w);let m=t.concat(this.middlewareStack),{logger:g}=r,h={logger:g,clientName:i,commandName:a,inputFilterSensitiveLog:s,outputFilterSensitiveLog:c,[hu.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...u},{requestHandler:C}=r;return m.resolve(w=>C.handle(w.request,n||{}),h)}};O(ES,"Command");var wS=ES,CS=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends wS{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,i,a){return this.resolveMiddlewareWithContext(o,i,a,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},O(t,"CommandRef"),t)}};O(CS,"ClassBuilder");var pH=CS,fH="***SensitiveInformation***",gH=O((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=O(async function(a,s,c){let d=new n(a);if(typeof s=="function")this.send(d,s);else if(typeof c=="function"){if(typeof s!="object")throw new Error(`Expected http options but got ${typeof s}`);this.send(d,s||{},c)}else return this.send(d,s)},"methodImpl"),i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=o}},"createAggregatedClient"),mH=O(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),_H=O(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&co.warn(ks(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&co.warn(ks(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),so=O(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&co.warn(ks(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),vH=Math.ceil(2**127*(2-2**-23)),Ds=O(e=>{let t=so(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>vH)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),ao=O(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),hH=ao,yu=O(e=>Cu(e,32),"expectInt32"),Su=O(e=>Cu(e,16),"expectShort"),Eu=O(e=>Cu(e,8),"expectByte"),Cu=O((e,t)=>{let r=ao(e);if(r!==void 0&&yH(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),yH=O((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),SH=O((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),OS=O(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),EH=O(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return co.warn(ks(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),wH=O(e=>{if(e==null)return;let t=OS(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),Ou=O(e=>so(typeof e=="string"?$r(e):e),"strictParseDouble"),CH=Ou,bS=O(e=>Ds(typeof e=="string"?$r(e):e),"strictParseFloat32"),OH=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,$r=O(e=>{let t=e.match(OH);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),bu=O(e=>typeof e=="string"?PS(e):so(e),"limitedParseDouble"),bH=bu,PH=bu,xH=O(e=>typeof e=="string"?PS(e):Ds(e),"limitedParseFloat32"),PS=O(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),xS=O(e=>ao(typeof e=="string"?$r(e):e),"strictParseLong"),RH=xS,AH=O(e=>yu(typeof e=="string"?$r(e):e),"strictParseInt32"),Hr=O(e=>Su(typeof e=="string"?$r(e):e),"strictParseShort"),RS=O(e=>Eu(typeof e=="string"?$r(e):e),"strictParseByte"),ks=O(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),co={warn:console.warn},TH=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Pu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function AS(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,u=a<10?`0${a}`:`${a}`,p=s<10?`0${s}`:`${s}`;return`${TH[n]}, ${c} ${Pu[r]} ${t} ${d}:${u}:${p} GMT`}O(AS,"dateToUtcString");var IH=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),NH=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=IH.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,c,d]=t,u=Hr(Br(n)),p=ot(o,"month",1,12),m=ot(i,"day",1,31);return io(u,p,m,{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),FH=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),DH=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=FH.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,a,s,c,d,u]=t,p=Hr(Br(n)),m=ot(o,"month",1,12),g=ot(i,"day",1,31),h=io(p,m,g,{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d});return u.toUpperCase()!="Z"&&h.setTime(h.getTime()-zH(u)),h},"parseRfc3339DateTimeWithOffset"),kH=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),MH=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),LH=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),jH=O(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=kH.exec(e);if(t){let[r,n,o,i,a,s,c,d]=t;return io(Hr(Br(i)),vu(o),ot(n,"day",1,31),{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d})}if(t=MH.exec(e),t){let[r,n,o,i,a,s,c,d]=t;return BH(io(UH(i),vu(o),ot(n,"day",1,31),{hours:a,minutes:s,seconds:c,fractionalMilliseconds:d}))}if(t=LH.exec(e),t){let[r,n,o,i,a,s,c,d]=t;return io(Hr(Br(d)),vu(n),ot(o.trimLeft(),"day",1,31),{hours:i,minutes:a,seconds:s,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),qH=O(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Ou(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),io=O((e,t,r,n)=>{let o=t-1;return GH(e,o,r),new Date(Date.UTC(e,o,r,ot(n.hours,"hour",0,23),ot(n.minutes,"minute",0,59),ot(n.seconds,"seconds",0,60),WH(n.fractionalMilliseconds)))},"buildDate"),UH=O(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Hr(Br(e));return r<t?r+100:r},"parseTwoDigitYear"),HH=50*365*24*60*60*1e3,BH=O(e=>e.getTime()-new Date().getTime()>HH?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),vu=O(e=>{let t=Pu.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),$H=[31,28,31,30,31,30,31,31,30,31,30,31],GH=O((e,t,r)=>{let n=$H[t];if(t===1&&VH(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Pu[t]} in ${e}: ${r}`)},"validateDayOfMonth"),VH=O(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),ot=O((e,t,r,n)=>{let o=RS(Br(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),WH=O(e=>e==null?0:bS("0."+e)*1e3,"parseMilliseconds"),zH=O(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Br=O(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),TS=class IS extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,IS.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};O(TS,"ServiceException");var KH=TS,NS=O((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),FS=O(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=YH(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw NS(a,t)},"throwDefaultError"),JH=O(e=>({output:t,parsedBody:r,errorCode:n})=>{FS({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),YH=O(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),XH=O(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),_S=!1,QH=O(e=>{e&&!_S&&parseInt(e.substring(1,e.indexOf(".")))<16&&(_S=!0)},"emitWarningIfUnsupportedVersion"),ZH=O(e=>{let t=[];for(let r in hu.AlgorithmId){let n=hu.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),eB=O(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),tB=O(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),rB=O(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),DS=O(e=>({...ZH(e),...tB(e)}),"getDefaultExtensionConfiguration"),nB=DS,oB=O(e=>({...eB(e),...rB(e)}),"resolveDefaultRuntimeConfig");function Ms(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}O(Ms,"extendedEncodeURIComponent");var iB=O(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),kS=O(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=kS(e[r]));return e},"getValueFromTextNode"),lo=O(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");lo.prototype=Object.create(String.prototype,{constructor:{value:lo,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(lo,String);var MS=class Fs extends lo{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Fs?t:t instanceof String||typeof t=="string"?new Fs(t):new Fs(JSON.stringify(t))}};O(MS,"LazyJsonString");var sB=MS;function xu(e,t,r){let n,o,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return o=t,i=r,lB(n,o,i);i=t}for(let a of Object.keys(i)){if(!Array.isArray(i[a])){n[a]=i[a];continue}LS(n,null,i,a)}return n}O(xu,"map");var aB=O(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),cB=O((e,t)=>{let r={};for(let n in t)LS(r,e,t,n);return r},"take"),lB=O((e,t,r)=>xu(e,Object.entries(r).reduce((n,[o,i])=>(Array.isArray(i)?n[o]=i:typeof i=="function"?n[o]=[t,i()]:n[o]=[t,i],n),{})),"mapWithFilter"),LS=O((e,t,r,n)=>{if(t!==null){let a=r[n];typeof a=="function"&&(a=[,a]);let[s=dB,c=uB,d=n]=a;(typeof s=="function"&&s(t[d])||typeof s!="function"&&s)&&(e[n]=c(t[d]));return}let[o,i]=r[n];if(typeof i=="function"){let a,s=o===void 0&&(a=i())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;s?e[n]=a:c&&(e[n]=i())}else{let a=o===void 0&&i!=null,s=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(a||s)&&(e[n]=i)}},"applyInstruction"),dB=O(e=>e!=null,"nonNullish"),uB=O(e=>e,"pass"),pB=O((e,t,r,n,o,i)=>{if(t!=null&&t[r]!==void 0){let a=n();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,i?a.split("/").map(s=>Ms(s)).join("/"):Ms(a))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),fB=O(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),gB=O(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),wu=O(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(wu);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=wu(e[r]));return t}return e},"_json");function jS(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],i="";for(let a=0;a<n.length;a++)i===""?i=n[a]:i+=t+n[a],(a+1)%r===0&&(o.push(i),i="");return i!==""&&o.push(i),o}O(jS,"splitEvery")});var US=f(js=>{"use strict";l();Object.defineProperty(js,"__esModule",{value:!0});js.isStreamingPayload=void 0;var mB=S("stream"),_B=e=>e?.body instanceof mB.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;js.isStreamingPayload=_B});var it=f((Vce,nE)=>{l();var qs=Object.defineProperty,vB=Object.getOwnPropertyDescriptor,hB=Object.getOwnPropertyNames,yB=Object.prototype.hasOwnProperty,Z=(e,t)=>qs(e,"name",{value:t,configurable:!0}),SB=(e,t)=>{for(var r in t)qs(e,r,{get:t[r],enumerable:!0})},EB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hB(t))!yB.call(e,o)&&o!==r&&qs(e,o,{get:()=>t[o],enumerable:!(n=vB(t,o))||n.enumerable});return e},wB=e=>EB(qs({},"__esModule",{value:!0}),e),BS={};SB(BS,{AdaptiveRetryStrategy:()=>bB,CONFIG_MAX_ATTEMPTS:()=>Au,CONFIG_RETRY_MODE:()=>XS,ENV_MAX_ATTEMPTS:()=>Ru,ENV_RETRY_MODE:()=>YS,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>PB,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>RB,StandardRetryStrategy:()=>KS,defaultDelayDecider:()=>GS,defaultRetryDecider:()=>VS,getOmitRetryHeadersPlugin:()=>AB,getRetryAfterHint:()=>rE,getRetryPlugin:()=>kB,omitRetryHeadersMiddleware:()=>QS,omitRetryHeadersMiddlewareOptions:()=>ZS,resolveRetryConfig:()=>xB,retryMiddleware:()=>eE,retryMiddlewareOptions:()=>tE});nE.exports=wB(BS);var Gr=K(),$S=(Ih(),D(Th)),G=qr(),CB=Z((e,t)=>{let r=e,n=t?.noRetryIncrement??G.NO_RETRY_INCREMENT,o=t?.retryCost??G.RETRY_COST,i=t?.timeoutRetryCost??G.TIMEOUT_RETRY_COST,a=e,s=Z(p=>p.name==="TimeoutError"?i:o,"getCapacityAmount"),c=Z(p=>s(p)<=a,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:Z(p=>{if(!c(p))throw new Error("No retry token available");let m=s(p);return a-=m,m},"retrieveRetryTokens"),releaseRetryTokens:Z(p=>{a+=p??n,a=Math.min(a,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),GS=Z((e,t)=>Math.floor(Math.min(G.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),It=Gd(),VS=Z(e=>e?(0,It.isRetryableByTrait)(e)||(0,It.isClockSkewError)(e)||(0,It.isThrottlingError)(e)||(0,It.isTransientError)(e):!1,"defaultRetryDecider"),WS=Z(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),zS=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=G.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??VS,this.delayDecider=r?.delayDecider??GS,this.retryQuota=r?.retryQuota??CB(G.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=G.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,i=0,a=0,s=await this.getMaxAttempts(),{request:c}=r;for(Gr.HttpRequest.isInstance(c)&&(c.headers[G.INVOCATION_ID_HEADER]=(0,$S.v4)());;)try{Gr.HttpRequest.isInstance(c)&&(c.headers[G.REQUEST_HEADER]=`attempt=${i+1}; max=${s}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:u}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),u.$metadata.attempts=i+1,u.$metadata.totalRetryDelay=a,{response:d,output:u}}catch(d){let u=WS(d);if(i++,this.shouldRetry(u,i,s)){o=this.retryQuota.retrieveRetryTokens(u);let p=this.delayDecider((0,It.isThrottlingError)(u)?G.THROTTLING_RETRY_DELAY_BASE:G.DEFAULT_RETRY_DELAY_BASE,i),m=OB(u.$response),g=Math.max(m||0,p);a+=g,await new Promise(h=>setTimeout(h,g));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=i,u.$metadata.totalRetryDelay=a,u}}};Z(zS,"StandardRetryStrategy");var KS=zS,OB=Z(e=>{if(!Gr.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),JS=class extends KS{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new G.DefaultRateLimiter,this.mode=G.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};Z(JS,"AdaptiveRetryStrategy");var bB=JS,HS=Ke(),Ru="AWS_MAX_ATTEMPTS",Au="max_attempts",PB={environmentVariableSelector:e=>{let t=e[Ru];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Ru} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Au];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Au} mast be a number, got "${t}"`);return r},default:G.DEFAULT_MAX_ATTEMPTS},xB=Z(e=>{let{retryStrategy:t}=e,r=(0,HS.normalizeProvider)(e.maxAttempts??G.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,HS.normalizeProvider)(e.retryMode)()===G.RETRY_MODES.ADAPTIVE?new G.AdaptiveRetryStrategy(r):new G.StandardRetryStrategy(r))}},"resolveRetryConfig"),YS="AWS_RETRY_MODE",XS="retry_mode",RB={environmentVariableSelector:e=>e[YS],configFileSelector:e=>e[XS],default:G.DEFAULT_RETRY_MODE},QS=Z(()=>e=>async t=>{let{request:r}=t;return Gr.HttpRequest.isInstance(r)&&(delete r.headers[G.INVOCATION_ID_HEADER],delete r.headers[G.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),ZS={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},AB=Z(e=>({applyToStack:t=>{t.addRelativeTo(QS(),ZS)}}),"getOmitRetryHeadersPlugin"),TB=U(),IB=US(),eE=Z(e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy(),a=await e.maxAttempts();if(NB(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,u=0,{request:p}=n,m=Gr.HttpRequest.isInstance(p);for(m&&(p.headers[G.INVOCATION_ID_HEADER]=(0,$S.v4)());;)try{m&&(p.headers[G.REQUEST_HEADER]=`attempt=${d+1}; max=${a}`);let{response:g,output:h}=await t(n);return i.recordSuccess(s),h.$metadata.attempts=d+1,h.$metadata.totalRetryDelay=u,{response:g,output:h}}catch(g){let h=FB(g);if(c=WS(g),m&&(0,IB.isStreamingPayload)(p))throw(o=r.logger instanceof TB.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{s=await i.refreshRetryTokenForRetry(s,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=u,c}d=s.getRetryCount();let C=s.getRetryDelay();u+=C,await new Promise(w=>setTimeout(w,C))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},"retryMiddleware"),NB=Z(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),FB=Z(e=>{let t={error:e,errorType:DB(e)},r=rE(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),DB=Z(e=>(0,It.isThrottlingError)(e)?"THROTTLING":(0,It.isTransientError)(e)?"TRANSIENT":(0,It.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),tE={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},kB=Z(e=>({applyToStack:t=>{t.add(eE(e),tE)}}),"getRetryPlugin"),rE=Z(e=>{if(!Gr.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var oE,iE,MB,sE=A(()=>{l();oE=H(it());Md();iE={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:oE.retryMiddlewareOptions.name},MB=e=>({applyToStack:t=>{t.addRelativeTo(kd(e),iE)}})});var aE=A(()=>{l();Md();sE()});var Tu,cE=A(()=>{l();Tu=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var lE,Iu,Nu,dE=A(()=>{l();lE=H(K()),Iu=H(z()),Nu=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=lE.HttpRequest.clone(t);if(n.in===Iu.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Iu.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var uE,Fu,pE=A(()=>{l();uE=H(K()),Fu=class{async sign(t,r,n){let o=uE.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Du,fE=A(()=>{l();Du=class{async sign(t,r,n){return t}}});var gE=A(()=>{l();dE();pE();fE()});var mE,LB,ku,Us,Mu,_E=A(()=>{l();mE=e=>t=>Us(t)&&t.expiration.getTime()-Date.now()<e,LB=3e5,ku=mE(3e5),Us=e=>e.expiration!==void 0,Mu=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,i,a,s=!1,c=async d=>{i||(i=n(d));try{o=await i,a=!0,s=!1}finally{i=void 0}return o};return t===void 0?async d=>((!a||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!a||d?.forceRefresh)&&(o=await c(d)),s?o:r(o)?(t(o)&&await c(d),o):(s=!0,o))}});var vE=A(()=>{l();cE();gE();_E()});var Lu,jB,hE=A(()=>{l();Lu=H(z()),jB=e=>e[Lu.SMITHY_CONTEXT_KEY]||(e[Lu.SMITHY_CONTEXT_KEY]={})});var Nt,yE=A(()=>{l();Nt=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function qB(e,t){return new Hs(e,t)}var SE,EE,Hs,wE=A(()=>{l();SE=H(K()),EE=H(U());Hs=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let i of this.resolvePathStack)i(this.path);return new SE.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(i=>{this.path=(0,EE.resolvedPath)(i,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function CE(e,t,r,n,o){return async function*(a,s,...c){let d=a.startingToken||void 0,u=!0,p;for(;u;){if(s[r]=d,o&&(s[o]=s[o]??a.pageSize),a.client instanceof e)p=await UB(t,a.client,s,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let m=d;d=HB(p,n),u=!!(d&&(!a.stopOnSameToken||d!==m))}return void 0}}var UB,HB,OE=A(()=>{l();UB=async(e,t,r,...n)=>await t.send(new e(r),...n);HB=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var _t={};Pi(_t,{DefaultIdentityProviderConfig:()=>Tu,EXPIRATION_MS:()=>LB,HttpApiKeyAuthSigner:()=>Nu,HttpBearerAuthSigner:()=>Fu,NoAuthSigner:()=>Du,RequestBuilder:()=>Hs,createIsIdentityExpiredFunction:()=>mE,createPaginator:()=>CE,doesIdentityRequireRefresh:()=>Us,getHttpAuthSchemeEndpointRuleSetPlugin:()=>YL,getHttpAuthSchemePlugin:()=>XL,getHttpSigningPlugin:()=>MB,getSmithyContext:()=>jB,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>th,httpAuthSchemeMiddleware:()=>zn,httpAuthSchemeMiddlewareOptions:()=>oh,httpSigningMiddleware:()=>kd,httpSigningMiddlewareOptions:()=>iE,isIdentityExpired:()=>ku,memoizeIdentityProvider:()=>Mu,normalizeProvider:()=>Nt,requestBuilder:()=>qB});var Qe=A(()=>{l();sh();aE();vE();hE();yE();wE();OE()});var xE=f((Mle,PE)=>{l();var Bs=Object.defineProperty,BB=Object.getOwnPropertyDescriptor,$B=Object.getOwnPropertyNames,GB=Object.prototype.hasOwnProperty,VB=(e,t)=>Bs(e,"name",{value:t,configurable:!0}),WB=(e,t)=>{for(var r in t)Bs(e,r,{get:t[r],enumerable:!0})},zB=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $B(t))!GB.call(e,o)&&o!==r&&Bs(e,o,{get:()=>t[o],enumerable:!(n=BB(t,o))||n.enumerable});return e},KB=e=>zB(Bs({},"__esModule",{value:!0}),e),bE={};WB(bE,{resolveEventStreamSerdeConfig:()=>JB});PE.exports=KB(bE);var JB=VB(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),"resolveEventStreamSerdeConfig")});var uo=f((jle,NE)=>{l();var $s=Object.defineProperty,YB=Object.getOwnPropertyDescriptor,XB=Object.getOwnPropertyNames,QB=Object.prototype.hasOwnProperty,AE=(e,t)=>$s(e,"name",{value:t,configurable:!0}),ZB=(e,t)=>{for(var r in t)$s(e,r,{get:t[r],enumerable:!0})},e$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of XB(t))!QB.call(e,o)&&o!==r&&$s(e,o,{get:()=>t[o],enumerable:!(n=YB(t,o))||n.enumerable});return e},t$=e=>e$($s({},"__esModule",{value:!0}),e),TE={};ZB(TE,{contentLengthMiddleware:()=>ju,contentLengthMiddlewareOptions:()=>IE,getContentLengthPlugin:()=>n$});NE.exports=t$(TE);var r$=K(),RE="content-length";function ju(e){return t=>async r=>{let n=r.request;if(r$.HttpRequest.isInstance(n)){let{body:o,headers:i}=n;if(o&&Object.keys(i).map(a=>a.toLowerCase()).indexOf(RE)===-1)try{let a=e(o);n.headers={...n.headers,[RE]:String(a)}}catch{}}return t({...r,request:n})}}AE(ju,"contentLengthMiddleware");var IE={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},n$=AE(e=>({applyToStack:t=>{t.add(ju(e.bodyLengthChecker),IE)}}),"getContentLengthPlugin")});var FE,o$,DE=A(()=>{l();FE=!1,o$=e=>{e&&!FE&&parseInt(e.substring(1,e.indexOf(".")))<18&&(FE=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});var kE=A(()=>{l();DE()});var ME,qu,LE=A(()=>{l();ME=H(K()),qu=e=>ME.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Vr,Uu=A(()=>{l();Vr=e=>new Date(Date.now()+e)});var jE,qE=A(()=>{l();Uu();jE=(e,t)=>Math.abs(Vr(t).getTime()-e)>=3e5});var Hu,UE=A(()=>{l();qE();Hu=(e,t)=>{let r=Date.parse(e);return jE(r,t)?r-Date.now():t}});var Bu=A(()=>{l();LE();Uu();UE()});var HE,po,fo,gr,BE,$u=A(()=>{l();HE=H(K());Bu();po=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},fo=async e=>{let t=po("context",e.context),r=po("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=await po("signer",r.signer)(n),a=e?.signingRegion,s=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:i,signingRegion:a,signingRegionSet:s,signingName:c}},gr=class{async sign(t,r,n){if(!HE.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await fo(n),{config:i,signer:a}=o,{signingRegion:s,signingName:c}=o,d=n.context;if(d?.authSchemes?.length??!1){let[p,m]=d.authSchemes;p?.name==="sigv4a"&&m?.name==="sigv4"&&(s=m?.signingRegion??s,c=m?.signingName??c)}return await a.sign(t,{signingDate:Vr(i.systemClockOffset),signingRegion:s,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??qu(r.$response);if(n){let o=po("config",t.config),i=o.systemClockOffset;o.systemClockOffset=Hu(n,o.systemClockOffset),o.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=qu(t);if(n){let o=po("config",r.config);o.systemClockOffset=Hu(n,o.systemClockOffset)}}},BE=gr});var $E,Gs,GE=A(()=>{l();$E=H(K());Bu();$u();Gs=class extends gr{async sign(t,r,n){if(!$E.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:i,signingRegion:a,signingRegionSet:s,signingName:c}=await fo(n),u=(await o.sigv4aSigningRegionSet?.()??s??[a]).join(",");return await i.sign(t,{signingDate:Vr(o.systemClockOffset),signingRegion:u,signingService:c})}}});var Gu,i$,s$,VE=A(()=>{l();Qe();Gu=H(J()),i$=e=>(e.sigv4aSigningRegionSet=Nt(e.sigv4aSigningRegionSet),e),s$={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Gu.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Gu.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var p0=f((hde,u0)=>{l();var Js=Object.defineProperty,a$=Object.getOwnPropertyDescriptor,c$=Object.getOwnPropertyNames,l$=Object.prototype.hasOwnProperty,te=(e,t)=>Js(e,"name",{value:t,configurable:!0}),d$=(e,t)=>{for(var r in t)Js(e,r,{get:t[r],enumerable:!0})},u$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c$(t))!l$.call(e,o)&&o!==r&&Js(e,o,{get:()=>t[o],enumerable:!(n=a$(t,o))||n.enumerable});return e},p$=e=>u$(Js({},"__esModule",{value:!0}),e),YE={};d$(YE,{SignatureV4:()=>j$,clearCredentialCache:()=>A$,createScope:()=>zs,getCanonicalHeaders:()=>Ku,getCanonicalQuery:()=>o0,getPayloadHash:()=>Ks,getSigningKey:()=>n0,moveHeadersToQuery:()=>l0,prepareRequest:()=>Yu});u0.exports=p$(YE);var WE=Ke(),Vu=ye(),f$="X-Amz-Algorithm",g$="X-Amz-Credential",XE="X-Amz-Date",m$="X-Amz-SignedHeaders",_$="X-Amz-Expires",QE="X-Amz-Signature",ZE="X-Amz-Security-Token",e0="authorization",t0=XE.toLowerCase(),v$="date",h$=[e0,t0,v$],y$=QE.toLowerCase(),zu="x-amz-content-sha256",S$=ZE.toLowerCase(),E$={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},w$=/^proxy-/,C$=/^sec-/,Wu="AWS4-HMAC-SHA256",O$="AWS4-HMAC-SHA256-PAYLOAD",b$="UNSIGNED-PAYLOAD",P$=50,r0="aws4_request",x$=60*60*24*7,Ft=Os(),R$=ye(),Wr={},Ws=[],zs=te((e,t,r)=>`${e}/${t}/${r}/${r0}`,"createScope"),n0=te(async(e,t,r,n,o)=>{let i=await zE(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${n}:${o}:${(0,Ft.toHex)(i)}:${t.sessionToken}`;if(a in Wr)return Wr[a];for(Ws.push(a);Ws.length>P$;)delete Wr[Ws.shift()];let s=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,r0])s=await zE(e,s,c);return Wr[a]=s},"getSigningKey"),A$=te(()=>{Ws.length=0,Object.keys(Wr).forEach(e=>{delete Wr[e]})},"clearCredentialCache"),zE=te((e,t,r)=>{let n=new e(t);return n.update((0,R$.toUint8Array)(r)),n.digest()},"hmac"),Ku=te(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let i=o.toLowerCase();(i in E$||t?.has(i)||w$.test(i)||C$.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),go=ru(),o0=te(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===y$)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,go.escapeUri)(n)}=${(0,go.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((i,a)=>i.concat([`${(0,go.escapeUri)(n)}=${(0,go.escapeUri)(a)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),T$=Yd(),I$=ye(),Ks=te(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===zu)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,T$.isArrayBuffer)(t)){let n=new r;return n.update((0,I$.toUint8Array)(t)),(0,Ft.toHex)(await n.digest())}return b$},"getPayloadHash"),KE=ye(),i0=class{format(t){let r=[];for(let i of Object.keys(t)){let a=(0,KE.fromUtf8)(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let s=(0,KE.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+s.byteLength));c.setUint8(0,7),c.setUint16(1,s.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(s,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(D$.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!F$.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,Ft.fromHex)(t.value.replace(/\-/g,"")),1),p}}};te(i0,"HeaderFormatter");var N$=i0,F$=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,s0=class a0{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Ju(r),new a0(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Ju(t),parseInt((0,Ft.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};te(s0,"Int64");var D$=s0;function Ju(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}te(Ju,"negate");var k$=te((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),c0=K(),l0=te((e,t={})=>{var r;let{headers:n,query:o={}}=c0.HttpRequest.clone(e);for(let i of Object.keys(n)){let a=i.toLowerCase();a.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(a))&&(o[i]=n[i],delete n[i])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),Yu=te(e=>{e=c0.HttpRequest.clone(e);for(let t of Object.keys(e.headers))h$.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),M$=te(e=>L$(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),L$=te(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),d0=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:i,uriEscapePath:a=!0}){this.headerFormatter=new N$,this.service=o,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,WE.normalizeProvider)(n),this.credentialProvider=(0,WE.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:s,signingRegion:c,signingService:d}=r,u=await this.credentialProvider();this.validateResolvedCredentials(u);let p=c??await this.regionProvider(),{longDate:m,shortDate:g}=Vs(n);if(o>x$)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let h=zs(g,p,d??this.service),C=l0(Yu(t),{unhoistableHeaders:a});u.sessionToken&&(C.query[ZE]=u.sessionToken),C.query[f$]=Wu,C.query[g$]=`${u.accessKeyId}/${h}`,C.query[XE]=m,C.query[_$]=o.toString(10);let w=Ku(C,i,s);return C.query[m$]=JE(w),C.query[QE]=await this.getSignature(m,h,this.getSigningKey(u,p,g,d),this.createCanonicalRequest(C,w,await Ks(t,this.sha256))),C}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:i,signingService:a}){let s=i??await this.regionProvider(),{shortDate:c,longDate:d}=Vs(n),u=zs(c,s,a??this.service),p=await Ks({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let g=(0,Ft.toHex)(await m.digest()),h=[O$,d,u,o,g,p].join(`
`);return this.signString(h,{signingDate:n,signingRegion:s,signingService:a})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(a=>({message:t.message,signature:a}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=n??await this.regionProvider(),{shortDate:s}=Vs(r),c=new this.sha256(await this.getSigningKey(i,a,s,o));return c.update((0,Vu.toUint8Array)(t)),(0,Ft.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:i,signingService:a}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let c=i??await this.regionProvider(),d=Yu(t),{longDate:u,shortDate:p}=Vs(r),m=zs(p,c,a??this.service);d.headers[t0]=u,s.sessionToken&&(d.headers[S$]=s.sessionToken);let g=await Ks(d,this.sha256);!k$(zu,d.headers)&&this.applyChecksum&&(d.headers[zu]=g);let h=Ku(d,o,n),C=await this.getSignature(u,m,this.getSigningKey(s,c,p,a),this.createCanonicalRequest(d,h,g));return d.headers[e0]=`${Wu} Credential=${s.accessKeyId}/${m}, SignedHeaders=${JE(h)}, Signature=${C}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${o0(t)}
${o.map(i=>`${i}:${r[i]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,Vu.toUint8Array)(n));let i=await o.digest();return`${Wu}
${t}
${r}
${(0,Ft.toHex)(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,go.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let i=await this.createStringToSign(t,r,o),a=new this.sha256(await n);return a.update((0,Vu.toUint8Array)(i)),(0,Ft.toHex)(await a.digest())}getSigningKey(t,r,n,o){return n0(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};te(d0,"SignatureV4");var j$=d0,Vs=te(e=>{let t=M$(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),JE=te(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var Xu,f0,q$,g0=A(()=>{l();Qe();Xu=H(p0()),f0=e=>{let t;e.credentials&&(t=Mu(e.credentials,ku,Us)),t||(e.credentialDefaultProvider?t=Nt(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,i;return e.signer?i=Nt(e.signer):e.regionInfoProvider?i=()=>Nt(e.region)().then(async a=>[await e.regionInfoProvider(a,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},a]).then(([a,s])=>{let{signingRegion:c,signingService:d}=a;e.signingRegion=e.signingRegion||c||s,e.signingName=e.signingName||d||e.serviceId;let u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||Xu.SignatureV4;return new p(u)}):i=async a=>{a=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Nt(e.region)(),properties:{}},a);let s=a.signingRegion,c=a.signingName;e.signingRegion=e.signingRegion||s,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},u=e.signerConstructor||Xu.SignatureV4;return new u(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},q$=f0});var m0=A(()=>{l();$u();GE();VE();g0()});var _0=A(()=>{l();m0()});var U$,H$,B$,v0=A(()=>{l();U$=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},H$=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},B$=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var h0,$$,y0=A(()=>{l();h0=H(U()),$$=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,h0.expectUnion)(e)}});var S0,Ys,Qu=A(()=>{l();S0=H(U()),Ys=(e,t)=>(0,S0.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var E0,G$,V$,w0=A(()=>{l();Qu();E0=(e,t)=>Ys(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),G$=async(e,t)=>{let r=await E0(e,t);return r.message=r.message??r.Message,r},V$=(e,t)=>{let r=(i,a)=>Object.keys(i).find(s=>s.toLowerCase()===a.toLowerCase()),n=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Xs=f(vt=>{"use strict";l();var C0=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",W$=C0+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",O0="["+C0+"]["+W$+"]*",z$=new RegExp("^"+O0+"$"),K$=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let i=n.length;for(let a=0;a<i;a++)o.push(n[a]);r.push(o),n=t.exec(e)}return r},J$=function(e){let t=z$.exec(e);return!(t===null||typeof t>"u")};vt.isExist=function(e){return typeof e<"u"};vt.isEmptyObject=function(e){return Object.keys(e).length===0};vt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)r==="strict"?e[n[i]]=[t[n[i]]]:e[n[i]]=t[n[i]]}};vt.getValue=function(e){return vt.isExist(e)?e:""};vt.isName=J$;vt.getAllMatches=K$;vt.nameRegexp=O0});var ep=f(A0=>{"use strict";l();var Zu=Xs(),Y$={allowBooleanAttributes:!1,unpairedTags:[]};A0.validate=function(e,t){t=Object.assign({},Y$,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let i=0;i<e.length;i++)if(e[i]==="<"&&e[i+1]==="?"){if(i+=2,i=P0(e,i),i.err)return i}else if(e[i]==="<"){let a=i;if(i++,e[i]==="!"){i=x0(e,i);continue}else{let s=!1;e[i]==="/"&&(s=!0,i++);let c="";for(;i<e.length&&e[i]!==">"&&e[i]!==" "&&e[i]!=="	"&&e[i]!==`
`&&e[i]!=="\r";i++)c+=e[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!o3(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",X("InvalidTag",p,fe(e,i))}let d=Z$(e,i);if(d===!1)return X("InvalidAttr","Attributes for '"+c+"' have open quote.",fe(e,i));let u=d.value;if(i=d.index,u[u.length-1]==="/"){let p=i-u.length;u=u.substring(0,u.length-1);let m=R0(u,t);if(m===!0)n=!0;else return X(m.err.code,m.err.msg,fe(e,p+m.err.line))}else if(s)if(d.tagClosed){if(u.trim().length>0)return X("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",fe(e,a));if(r.length===0)return X("InvalidTag","Closing tag '"+c+"' has not been opened.",fe(e,a));{let p=r.pop();if(c!==p.tagName){let m=fe(e,p.tagStartPos);return X("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",fe(e,a))}r.length==0&&(o=!0)}}else return X("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",fe(e,i));else{let p=R0(u,t);if(p!==!0)return X(p.err.code,p.err.msg,fe(e,i-u.length+p.err.line));if(o===!0)return X("InvalidXml","Multiple possible root nodes found.",fe(e,i));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:a}),n=!0}for(i++;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="!"){i++,i=x0(e,i);continue}else if(e[i+1]==="?"){if(i=P0(e,++i),i.err)return i}else break;else if(e[i]==="&"){let p=r3(e,i);if(p==-1)return X("InvalidChar","char '&' is not expected.",fe(e,i));i=p}else if(o===!0&&!b0(e[i]))return X("InvalidXml","Extra text at the end",fe(e,i));e[i]==="<"&&i--}}else{if(b0(e[i]))continue;return X("InvalidChar","char '"+e[i]+"' is not expected.",fe(e,i))}if(n){if(r.length==1)return X("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",fe(e,r[0].tagStartPos));if(r.length>0)return X("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return X("InvalidXml","Start tag expected.",1);return!0};function b0(e){return e===" "||e==="	"||e===`
`||e==="\r"}function P0(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return X("InvalidXml","XML declaration allowed only at the start of the document.",fe(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function x0(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var X$='"',Q$="'";function Z$(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===X$||e[t]===Q$)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var e3=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function R0(e,t){let r=Zu.getAllMatches(e,e3),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return X("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",mo(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return X("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",mo(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return X("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",mo(r[o]));let i=r[o][2];if(!n3(i))return X("InvalidAttr","Attribute '"+i+"' is an invalid name.",mo(r[o]));if(!n.hasOwnProperty(i))n[i]=1;else return X("InvalidAttr","Attribute '"+i+"' is repeated.",mo(r[o]))}return!0}function t3(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function r3(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,t3(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function X(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function n3(e){return Zu.isName(e)}function o3(e){return Zu.isName(e)}function fe(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function mo(e){return e.startIndex+e[1].length}});var I0=f(tp=>{l();var T0={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},i3=function(e){return Object.assign({},T0,e)};tp.buildOptions=i3;tp.defaultOptions=T0});var F0=f((zde,N0)=>{"use strict";l();var rp=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};N0.exports=rp});var k0=f((Jde,D0)=>{l();var s3=Xs();function a3(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(o&&d3(e,t))t+=7,[entityName,val,t]=c3(e,t+1),val.indexOf("&")===-1&&(r[g3(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&u3(e,t))t+=8;else if(o&&p3(e,t))t+=8;else if(o&&f3(e,t))t+=9;else if(l3)i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function c3(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function l3(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function d3(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function u3(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function p3(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function f3(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function g3(e){if(s3.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}D0.exports=a3});var L0=f((Xde,M0)=>{l();var m3=/^[-+]?0x[a-fA-F0-9]+$/,_3=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var v3={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function h3(e,t={}){if(t=Object.assign({},v3,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&m3.test(r))return Number.parseInt(r,16);{let n=_3.exec(r);if(n){let o=n[1],i=n[2],a=y3(n[3]),s=n[4]||n[6];if(!t.leadingZeros&&i.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&i.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||s?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&a===""||d===a||o&&d==="-"+a?c:e:i?a===d||o+a===d?c:e:r===d||r===o+d?c:e}}else return e}}function y3(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}M0.exports=h3});var U0=f((Zde,q0)=>{"use strict";l();var j0=Xs(),_o=F0(),S3=k0(),E3=L0(),np=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=w3,this.parseXml=x3,this.parseTextData=C3,this.resolveNameSpace=O3,this.buildAttributesMap=P3,this.isItStopNode=I3,this.replaceEntitiesValue=A3,this.readStopNodeData=F3,this.saveTextToParentTag=T3,this.addChild=R3}};function w3(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function C3(e,t,r,n,o,i,a){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));let s=this.options.tagValueProcessor(t,e,r,o,i);return s==null?e:typeof s!=typeof e||s!==e?s:this.options.trimValues?ip(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?ip(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function O3(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var b3=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function P3(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=j0.getAllMatches(e,b3),o=n.length,i={};for(let a=0;a<o;a++){let s=this.resolveNameSpace(n[a][1]),c=n[a][4],d=this.options.attributeNamePrefix+s;if(s.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(s,c,t);u==null?i[d]=c:typeof u!=typeof c||u!==c?i[d]=u:i[d]=ip(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[d]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){let a={};return a[this.options.attributesGroupName]=i,a}return i}}var x3=function(e){e=e.replace(/\r\n?/g,`
`);let t=new _o("!xml"),r=t,n="",o="";for(let i=0;i<e.length;i++)if(e[i]==="<")if(e[i+1]==="/"){let s=mr(e,">",i,"Closing Tag is not closed."),c=e.substring(i+2,s).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),r=this.tagsNodeStack.pop(),n="",i=s}else if(e[i+1]==="?"){let s=op(e,i,!1,"?>");if(!s)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&s.tagName==="?xml"||this.options.ignorePiTags)){let c=new _o(s.tagName);c.add(this.options.textNodeName,""),s.tagName!==s.tagExp&&s.attrExpPresent&&(c[":@"]=this.buildAttributesMap(s.tagExp,o,s.tagName)),this.addChild(r,c,o)}i=s.closeIndex+1}else if(e.substr(i+1,3)==="!--"){let s=mr(e,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(i+4,s-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=s}else if(e.substr(i+1,2)==="!D"){let s=S3(e,i);this.docTypeEntities=s.entities,i=s.i}else if(e.substr(i+1,2)==="!["){let s=mr(e,"]]>",i,"CDATA is not closed.")-2,c=e.substring(i+9,s);n=this.saveTextToParentTag(n,r,o);let d=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);d==null&&(d=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,d),i=s+2}else{let s=op(e,i,this.options.removeNSPrefix),c=s.tagName,d=s.rawTagName,u=s.tagExp,p=s.attrExpPresent,m=s.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;if(g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let h="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),i=s.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=s.closeIndex;else{let w=this.readStopNodeData(e,d,m+1);if(!w)throw new Error(`Unexpected end of ${d}`);i=w.i,h=w.tagContent}let C=new _o(c);c!==u&&p&&(C[":@"]=this.buildAttributesMap(u,o,c)),h&&(h=this.parseTextData(h,c,o,!0,p,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),C.add(this.options.textNodeName,h),this.addChild(r,C,o)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let h=new _o(c);c!==u&&p&&(h[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,h,o),o=o.substr(0,o.lastIndexOf("."))}else{let h=new _o(c);this.tagsNodeStack.push(r),c!==u&&p&&(h[":@"]=this.buildAttributesMap(u,o,c)),this.addChild(r,h,o),r=h}n="",i=m}}else n+=e[i];return t.child};function R3(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var A3=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function T3(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function I3(e,t,r){let n="*."+r;for(let o in e){let i=e[o];if(n===i||t===i)return!0}return!1}function N3(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let a=e[i];if(n)a===n&&(n="");else if(a==='"'||a==="'")n=a;else if(a===r[0])if(r[1]){if(e[i+1]===r[1])return{data:o,index:i}}else return{data:o,index:i};else a==="	"&&(a=" ");o+=a}}function mr(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function op(e,t,r,n=">"){let o=N3(e,t+1,n);if(!o)return;let i=o.data,a=o.index,s=i.search(/\s/),c=i,d=!0;s!==-1&&(c=i.substring(0,s),i=i.substring(s+1).trimStart());let u=c;if(r){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1),d=c!==o.data.substr(p+1))}return{tagName:c,tagExp:i,closeIndex:a,attrExpPresent:d,rawTagName:u}}function F3(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let i=mr(e,">",r,`${t} is not closed`);if(e.substring(r+2,i).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i};r=i}else if(e[r+1]==="?")r=mr(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=mr(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=mr(e,"]]>",r,"StopNode is not closed.")-2;else{let i=op(e,r,">");i&&((i&&i.tagName)===t&&i.tagExp[i.tagExp.length-1]!=="/"&&o++,r=i.closeIndex)}}function ip(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:E3(e,r)}else return j0.isExist(e)?e:""}q0.exports=np});var $0=f(B0=>{"use strict";l();function D3(e,t){return H0(e,t)}function H0(e,t,r){let n,o={};for(let i=0;i<e.length;i++){let a=e[i],s=k3(a),c="";if(r===void 0?c=s:c=r+"."+s,s===t.textNodeName)n===void 0?n=a[s]:n+=""+a[s];else{if(s===void 0)continue;if(a[s]){let d=H0(a[s],t,c),u=L3(d,t);a[":@"]?M3(d,a[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[s]!==void 0&&o.hasOwnProperty(s)?(Array.isArray(o[s])||(o[s]=[o[s]]),o[s].push(d)):t.isArray(s,c,u)?o[s]=[d]:o[s]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function k3(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function M3(e,t,r,n){if(t){let o=Object.keys(t),i=o.length;for(let a=0;a<i;a++){let s=o[a];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function L3(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}B0.prettify=D3});var V0=f((nue,G0)=>{l();var{buildOptions:j3}=I0(),q3=U0(),{prettify:U3}=$0(),H3=ep(),sp=class{constructor(t){this.externalEntities={},this.options=j3(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let i=H3.validate(t,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}let n=new q3(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:U3(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};G0.exports=sp});var Y0=f((iue,J0)=>{l();var B3=`
`;function $3(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=B3),z0(e,t,"",r)}function z0(e,t,r,n){let o="",i=!1;for(let a=0;a<e.length;a++){let s=e[a],c=G3(s);if(c===void 0)continue;let d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let h=s[c];V3(d,t)||(h=t.tagValueProcessor(c,h),h=K0(h,t)),i&&(o+=n),o+=h,i=!1;continue}else if(c===t.cdataPropName){i&&(o+=n),o+=`<![CDATA[${s[c][0][t.textNodeName]}]]>`,i=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${s[c][0][t.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){let h=W0(s[":@"],t),C=c==="?xml"?"":n,w=s[c][0][t.textNodeName];w=w.length!==0?" "+w:"",o+=C+`<${c}${w}${h}?>`,i=!0;continue}let u=n;u!==""&&(u+=t.indentBy);let p=W0(s[":@"],t),m=n+`<${c}${p}`,g=z0(s[c],t,d,u);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=m+">":o+=m+"/>":(!g||g.length===0)&&t.suppressEmptyNode?o+=m+"/>":g&&g.endsWith(">")?o+=m+`>${g}${n}</${c}>`:(o+=m+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?o+=n+t.indentBy+g+n:o+=g,o+=`</${c}>`),i=!0}return o}function G3(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(e.hasOwnProperty(n)&&n!==":@")return n}}function W0(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let o=t.attributeValueProcessor(n,e[n]);o=K0(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function V3(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function K0(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}J0.exports=$3});var Q0=f((aue,X0)=>{"use strict";l();var W3=Y0(),z3={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Dt(e){this.options=Object.assign({},z3,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Y3),this.processTextOrObjNode=K3,this.options.format?(this.indentate=J3,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Dt.prototype.build=function(e){return this.options.preserveOrder?W3(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Dt.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))if(typeof e[o]>"u")this.isAttribute(o)&&(n+="");else if(e[o]===null)this.isAttribute(o)?n+="":o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let i=this.isAttribute(o);if(i)r+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let a=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(a)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let i=e[o].length,a="",s="";for(let c=0;c<i;c++){let d=e[o][c];if(!(typeof d>"u"))if(d===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(typeof d=="object")if(this.options.oneListGroup){let u=this.j2x(d,t+1);a+=u.val,this.options.attributesGroupName&&d.hasOwnProperty(this.options.attributesGroupName)&&(s+=u.attrStr)}else a+=this.processTextOrObjNode(d,o,t);else if(this.options.oneListGroup){let u=this.options.tagValueProcessor(o,d);u=this.replaceEntitiesValue(u),a+=u}else a+=this.buildTextValNode(d,o,"",t)}this.options.oneListGroup&&(a=this.buildObjectNode(a,o,s,t)),n+=a}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let i=Object.keys(e[o]),a=i.length;for(let s=0;s<a;s++)r+=this.buildAttrPairStr(i[s],""+e[o][i[s]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Dt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function K3(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Dt.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return t[0]==="?"&&(i="?",o=""),(r||r==="")&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+i+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o}};Dt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Dt.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Dt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function J3(e){return this.options.indentBy.repeat(e)}function Y3(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}X0.exports=Dt});var ew=f((lue,Z0)=>{"use strict";l();var X3=ep(),Q3=V0(),Z3=Q0();Z0.exports={XMLParser:Q3,XMLValidator:X3,XMLBuilder:Z3}});var tw,rw,nw,e2,t2,ow=A(()=>{l();tw=H(U()),rw=H(ew());Qu();nw=(e,t)=>Ys(e,t).then(r=>{if(r.length){let n=new rw.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let i="#text",a=Object.keys(o)[0],s=o[a];return s[i]&&(s[a]=s[i],delete s[i]),(0,tw.getValueFromTextNode)(s)}return{}}),e2=async(e,t)=>{let r=await nw(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},t2=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var iw=A(()=>{l();v0();y0();w0();ow()});var oe={};Pi(oe,{AWSSDKSigV4Signer:()=>BE,AwsSdkSigV4ASigner:()=>Gs,AwsSdkSigV4Signer:()=>gr,NODE_SIGV4A_CONFIG_OPTIONS:()=>s$,_toBool:()=>H$,_toNum:()=>B$,_toStr:()=>U$,awsExpectUnion:()=>$$,emitWarningIfUnsupportedVersion:()=>o$,loadRestJsonErrorCode:()=>V$,loadRestXmlErrorCode:()=>t2,parseJsonBody:()=>E0,parseJsonErrorBody:()=>G$,parseXmlBody:()=>nw,parseXmlErrorBody:()=>e2,resolveAWSSDKSigV4Config:()=>q$,resolveAwsSdkSigV4AConfig:()=>i$,resolveAwsSdkSigV4Config:()=>f0,validateSigningProperties:()=>fo});var ie=A(()=>{l();kE();_0();iw()});var ap=f(kt=>{"use strict";l();Object.defineProperty(kt,"__esModule",{value:!0});kt.resolveHttpAuthSchemeConfig=kt.defaultBedrockRuntimeHttpAuthSchemeProvider=kt.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=void 0;var r2=(ie(),D(oe)),sw=Ke(),n2=async(e,t,r)=>({operation:(0,sw.getSmithyContext)(t).operation,region:await(0,sw.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kt.defaultBedrockRuntimeHttpAuthSchemeParametersProvider=n2;function o2(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"bedrock",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var i2=e=>{let t=[];switch(e.operation){default:t.push(o2(e))}return t};kt.defaultBedrockRuntimeHttpAuthSchemeProvider=i2;var s2=e=>({...(0,r2.resolveAwsSdkSigV4Config)(e)});kt.resolveHttpAuthSchemeConfig=s2});var Mt={};Pi(Mt,{__addDisposableResource:()=>xw,__assign:()=>Qs,__asyncDelegator:()=>yw,__asyncGenerator:()=>hw,__asyncValues:()=>Sw,__await:()=>zr,__awaiter:()=>pw,__classPrivateFieldGet:()=>Ow,__classPrivateFieldIn:()=>Pw,__classPrivateFieldSet:()=>bw,__createBinding:()=>ea,__decorate:()=>lw,__disposeResources:()=>Rw,__esDecorate:()=>a2,__exportStar:()=>gw,__extends:()=>aw,__generator:()=>fw,__importDefault:()=>Cw,__importStar:()=>ww,__makeTemplateObject:()=>Ew,__metadata:()=>uw,__param:()=>dw,__propKey:()=>l2,__read:()=>lp,__rest:()=>cw,__runInitializers:()=>c2,__setFunctionName:()=>d2,__spread:()=>mw,__spreadArray:()=>vw,__spreadArrays:()=>_w,__values:()=>Zs,default:()=>f2});function aw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function cw(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function lw(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function dw(e,t){return function(r,n){t(r,n,e)}}function a2(e,t,r,n,o,i){function a(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,m=!1,g=r.length-1;g>=0;g--){var h={};for(var C in n)h[C]=C==="access"?{}:n[C];for(var C in n.access)h.access[C]=n.access[C];h.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(b||null))};var w=(0,r[g])(s==="accessor"?{get:u.get,set:u.set}:u[c],h);if(s==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(p=a(w.get))&&(u.get=p),(p=a(w.set))&&(u.set=p),(p=a(w.init))&&o.unshift(p)}else(p=a(w))&&(s==="field"?o.unshift(p):u[c]=p)}d&&Object.defineProperty(d,n.name,u),m=!0}function c2(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function l2(e){return typeof e=="symbol"?e:"".concat(e)}function d2(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function uw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function pw(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(u){try{d(n.next(u))}catch(p){a(p)}}function c(u){try{d(n.throw(u))}catch(p){a(p)}}function d(u){u.done?i(u.value):o(u.value).then(s,c)}d((n=n.apply(e,t||[])).next())})}function fw(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(i=d[0]&2?o.return:d[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,d[1])).done)return i;switch(o=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],o=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function gw(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ea(t,e,r)}function Zs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function mw(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lp(arguments[t]));return e}function _w(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function vw(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function zr(e){return this instanceof zr?(this.v=e,this):new zr(e)}function hw(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(g){return function(h){return Promise.resolve(h).then(g,p)}}function s(g,h){n[g]&&(o[g]=function(C){return new Promise(function(w,b){i.push([g,C,w,b])>1||c(g,C)})},h&&(o[g]=h(o[g])))}function c(g,h){try{d(n[g](h))}catch(C){m(i[0][3],C)}}function d(g){g.value instanceof zr?Promise.resolve(g.value.v).then(u,p):m(i[0][2],g)}function u(g){c("next",g)}function p(g){c("throw",g)}function m(g,h){g(h),i.shift(),i.length&&c(i[0][0],i[0][1])}}function yw(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(a){return(r=!r)?{value:zr(e[o](a)),done:!1}:i?i(a):a}:i}}function Sw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zs=="function"?Zs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(s,c){a=e[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(d){i({value:d,done:s})},a)}}function Ew(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ww(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ea(t,e,r);return u2(t,e),t}function Cw(e){return e&&e.__esModule?e:{default:e}}function Ow(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function bw(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function Pw(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function xw(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function Rw(e){function t(i){e.error=e.hasError?new p2(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(a){return t(a),o()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}var cp,Qs,ea,u2,p2,f2,Lt=A(()=>{l();cp=function(e,t){return cp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},cp(e,t)};Qs=function(){return Qs=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Qs.apply(this,arguments)};ea=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};u2=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};p2=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};f2={__extends:aw,__assign:Qs,__rest:cw,__decorate:lw,__param:dw,__metadata:uw,__awaiter:pw,__generator:fw,__createBinding:ea,__exportStar:gw,__values:Zs,__read:lp,__spread:mw,__spreadArrays:_w,__spreadArray:vw,__await:zr,__asyncGenerator:hw,__asyncDelegator:yw,__asyncValues:Sw,__makeTemplateObject:Ew,__importStar:ww,__importDefault:Cw,__classPrivateFieldGet:Ow,__classPrivateFieldSet:bw,__classPrivateFieldIn:Pw,__addDisposableResource:xw,__disposeResources:Rw}});var Aw=f((xue,g2)=>{g2.exports={name:"@aws-sdk/client-bedrock-runtime",description:"AWS SDK for JavaScript Bedrock Runtime Client for Node.js, Browser and React Native",version:"3.642.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-bedrock-runtime","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo bedrock-runtime"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.637.0","@aws-sdk/client-sts":"3.637.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.637.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/eventstream-serde-browser":"^3.0.6","@smithy/eventstream-serde-config-resolver":"^3.0.3","@smithy/eventstream-serde-node":"^3.0.5","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-stream":"^3.1.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-bedrock-runtime",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-bedrock-runtime"}}});var dp=f((Rue,Lw)=>{"use strict";l();var ta=Object.defineProperty,m2=Object.getOwnPropertyDescriptor,_2=Object.getOwnPropertyNames,v2=Object.prototype.hasOwnProperty,h2=(e,t)=>ta(e,"name",{value:t,configurable:!0}),y2=(e,t)=>{for(var r in t)ta(e,r,{get:t[r],enumerable:!0})},S2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _2(t))!v2.call(e,o)&&o!==r&&ta(e,o,{get:()=>t[o],enumerable:!(n=m2(t,o))||n.enumerable});return e},E2=e=>S2(ta({},"__esModule",{value:!0}),e),Tw={};y2(Tw,{ENV_ACCOUNT_ID:()=>Mw,ENV_CREDENTIAL_SCOPE:()=>kw,ENV_EXPIRATION:()=>Dw,ENV_KEY:()=>Iw,ENV_SECRET:()=>Nw,ENV_SESSION:()=>Fw,fromEnv:()=>C2});Lw.exports=E2(Tw);var w2=J(),Iw="AWS_ACCESS_KEY_ID",Nw="AWS_SECRET_ACCESS_KEY",Fw="AWS_SESSION_TOKEN",Dw="AWS_CREDENTIAL_EXPIRATION",kw="AWS_CREDENTIAL_SCOPE",Mw="AWS_ACCOUNT_ID",C2=h2(e=>async()=>{var t;(t=e?.logger)==null||t.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[Iw],n=process.env[Nw],o=process.env[Fw],i=process.env[Dw],a=process.env[kw],s=process.env[Mw];if(r&&n)return{accessKeyId:r,secretAccessKey:n,...o&&{sessionToken:o},...i&&{expiration:new Date(i)},...a&&{credentialScope:a},...s&&{accountId:s}};throw new w2.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Kr=f(ra=>{"use strict";l();Object.defineProperty(ra,"__esModule",{value:!0});ra.getHomeDir=void 0;var O2=S("os"),b2=S("path"),up={},P2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",x2=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${b2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=P2();return up[o]||(up[o]=(0,O2.homedir)()),up[o]};ra.getHomeDir=x2});var pp=f(na=>{"use strict";l();Object.defineProperty(na,"__esModule",{value:!0});na.getSSOTokenFilepath=void 0;var R2=S("crypto"),A2=S("path"),T2=Kr(),I2=e=>{let r=(0,R2.createHash)("sha1").update(e).digest("hex");return(0,A2.join)((0,T2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};na.getSSOTokenFilepath=I2});var jw=f(oa=>{"use strict";l();Object.defineProperty(oa,"__esModule",{value:!0});oa.getSSOTokenFromFile=void 0;var N2=S("fs"),F2=pp(),{readFile:D2}=N2.promises,k2=async e=>{let t=(0,F2.getSSOTokenFilepath)(e),r=await D2(t,"utf8");return JSON.parse(r)};oa.getSSOTokenFromFile=k2});var gp=f(ia=>{"use strict";l();Object.defineProperty(ia,"__esModule",{value:!0});ia.slurpFile=void 0;var M2=S("fs"),{readFile:L2}=M2.promises,fp={},j2=(e,t)=>((!fp[e]||t?.ignoreCache)&&(fp[e]=L2(e,"utf8")),fp[e]);ia.slurpFile=j2});var Vw=f((jue,ho)=>{l();var ca=Object.defineProperty,q2=Object.getOwnPropertyDescriptor,U2=Object.getOwnPropertyNames,H2=Object.prototype.hasOwnProperty,be=(e,t)=>ca(e,"name",{value:t,configurable:!0}),B2=(e,t)=>{for(var r in t)ca(e,r,{get:t[r],enumerable:!0})},mp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U2(t))!H2.call(e,o)&&o!==r&&ca(e,o,{get:()=>t[o],enumerable:!(n=q2(t,o))||n.enumerable});return e},vp=(e,t,r)=>(mp(e,t,"default"),r&&mp(r,t,"default")),$2=e=>mp(ca({},"__esModule",{value:!0}),e),vo={};B2(vo,{CONFIG_PREFIX_SEPARATOR:()=>_r,DEFAULT_PROFILE:()=>Bw,ENV_PROFILE:()=>Hw,getProfileName:()=>G2,loadSharedConfigFiles:()=>Gw,loadSsoSessionData:()=>nG,parseKnownFiles:()=>iG});ho.exports=$2(vo);vp(vo,Kr(),ho.exports);var Hw="AWS_PROFILE",Bw="default",G2=be(e=>e.profile||process.env[Hw]||Bw,"getProfileName");vp(vo,pp(),ho.exports);vp(vo,jw(),ho.exports);var sa=z(),V2=be(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(_r);return r===-1?!1:Object.values(sa.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(_r),i=r.substring(0,o)===sa.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),aa=S("path"),W2=Kr(),z2="AWS_CONFIG_FILE",$w=be(()=>process.env[z2]||(0,aa.join)((0,W2.getHomeDir)(),".aws","config"),"getConfigFilepath"),K2=Kr(),J2="AWS_SHARED_CREDENTIALS_FILE",Y2=be(()=>process.env[J2]||(0,aa.join)((0,K2.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),X2=Kr(),Q2=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Z2=["__proto__","profile __proto__"],_p=be(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=Q2.exec(s);if(c){let[,d,,u]=c;Object.values(sa.IniSectionType).includes(d)&&(r=[d,u].join(_r))}else r=s;if(Z2.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(_r):c;t[r][u]=d}}}}return t},"parseIni"),qw=gp(),Uw=be(()=>({}),"swallowError"),_r=".",Gw=be(async(e={})=>{let{filepath:t=Y2(),configFilepath:r=$w()}=e,n=(0,X2.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,aa.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,aa.join)(n,r.slice(2)));let s=await Promise.all([(0,qw.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(_p).then(V2).catch(Uw),(0,qw.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(_p).catch(Uw)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),eG=be(e=>Object.entries(e).filter(([t])=>t.startsWith(sa.IniSectionType.SSO_SESSION+_r)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(_r)+1)]:n}),{}),"getSsoSessionData"),tG=gp(),rG=be(()=>({}),"swallowError"),nG=be(async(e={})=>(0,tG.slurpFile)(e.configFilepath??$w()).then(_p).then(eG).catch(rG),"loadSsoSessionData"),oG=be((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),iG=be(async e=>{let t=await Gw(e);return oG(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Jr=f(la=>{"use strict";l();Object.defineProperty(la,"__esModule",{value:!0});la.getHomeDir=void 0;var sG=S("os"),aG=S("path"),hp={},cG=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",lG=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${aG.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=cG();return hp[o]||(hp[o]=(0,sG.homedir)()),hp[o]};la.getHomeDir=lG});var yp=f(da=>{"use strict";l();Object.defineProperty(da,"__esModule",{value:!0});da.getSSOTokenFilepath=void 0;var dG=S("crypto"),uG=S("path"),pG=Jr(),fG=e=>{let r=(0,dG.createHash)("sha1").update(e).digest("hex");return(0,uG.join)((0,pG.getHomeDir)(),".aws","sso","cache",`${r}.json`)};da.getSSOTokenFilepath=fG});var Ww=f(ua=>{"use strict";l();Object.defineProperty(ua,"__esModule",{value:!0});ua.getSSOTokenFromFile=void 0;var gG=S("fs"),mG=yp(),{readFile:_G}=gG.promises,vG=async e=>{let t=(0,mG.getSSOTokenFilepath)(e),r=await _G(t,"utf8");return JSON.parse(r)};ua.getSSOTokenFromFile=vG});var Ep=f(pa=>{"use strict";l();Object.defineProperty(pa,"__esModule",{value:!0});pa.slurpFile=void 0;var hG=S("fs"),{readFile:yG}=hG.promises,Sp={},SG=(e,t)=>((!Sp[e]||t?.ignoreCache)&&(Sp[e]=yG(e,"utf8")),Sp[e]);pa.slurpFile=SG});var Zw=f((Kue,So)=>{l();var ma=Object.defineProperty,EG=Object.getOwnPropertyDescriptor,wG=Object.getOwnPropertyNames,CG=Object.prototype.hasOwnProperty,Pe=(e,t)=>ma(e,"name",{value:t,configurable:!0}),OG=(e,t)=>{for(var r in t)ma(e,r,{get:t[r],enumerable:!0})},wp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wG(t))!CG.call(e,o)&&o!==r&&ma(e,o,{get:()=>t[o],enumerable:!(n=EG(t,o))||n.enumerable});return e},Op=(e,t,r)=>(wp(e,t,"default"),r&&wp(r,t,"default")),bG=e=>wp(ma({},"__esModule",{value:!0}),e),yo={};OG(yo,{CONFIG_PREFIX_SEPARATOR:()=>vr,DEFAULT_PROFILE:()=>Yw,ENV_PROFILE:()=>Jw,getProfileName:()=>PG,loadSharedConfigFiles:()=>Qw,loadSsoSessionData:()=>qG,parseKnownFiles:()=>HG});So.exports=bG(yo);Op(yo,Jr(),So.exports);var Jw="AWS_PROFILE",Yw="default",PG=Pe(e=>e.profile||process.env[Jw]||Yw,"getProfileName");Op(yo,yp(),So.exports);Op(yo,Ww(),So.exports);var fa=z(),xG=Pe(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(vr);return r===-1?!1:Object.values(fa.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(vr),i=r.substring(0,o)===fa.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),ga=S("path"),RG=Jr(),AG="AWS_CONFIG_FILE",Xw=Pe(()=>process.env[AG]||(0,ga.join)((0,RG.getHomeDir)(),".aws","config"),"getConfigFilepath"),TG=Jr(),IG="AWS_SHARED_CREDENTIALS_FILE",NG=Pe(()=>process.env[IG]||(0,ga.join)((0,TG.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),FG=Jr(),DG=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,kG=["__proto__","profile __proto__"],Cp=Pe(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=DG.exec(s);if(c){let[,d,,u]=c;Object.values(fa.IniSectionType).includes(d)&&(r=[d,u].join(vr))}else r=s;if(kG.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(vr):c;t[r][u]=d}}}}return t},"parseIni"),zw=Ep(),Kw=Pe(()=>({}),"swallowError"),vr=".",Qw=Pe(async(e={})=>{let{filepath:t=NG(),configFilepath:r=Xw()}=e,n=(0,FG.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,ga.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,ga.join)(n,r.slice(2)));let s=await Promise.all([(0,zw.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Cp).then(xG).catch(Kw),(0,zw.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Cp).catch(Kw)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),MG=Pe(e=>Object.entries(e).filter(([t])=>t.startsWith(fa.IniSectionType.SSO_SESSION+vr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(vr)+1)]:n}),{}),"getSsoSessionData"),LG=Ep(),jG=Pe(()=>({}),"swallowError"),qG=Pe(async(e={})=>(0,LG.slurpFile)(e.configFilepath??Xw()).then(Cp).then(MG).catch(jG),"loadSsoSessionData"),UG=Pe((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),HG=Pe(async e=>{let t=await Qw(e);return UG(t.configFile,t.credentialsFile)},"parseKnownFiles")});var nC=f((Yue,rC)=>{l();var _a=Object.defineProperty,BG=Object.getOwnPropertyDescriptor,$G=Object.getOwnPropertyNames,GG=Object.prototype.hasOwnProperty,Yr=(e,t)=>_a(e,"name",{value:t,configurable:!0}),VG=(e,t)=>{for(var r in t)_a(e,r,{get:t[r],enumerable:!0})},WG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $G(t))!GG.call(e,o)&&o!==r&&_a(e,o,{get:()=>t[o],enumerable:!(n=BG(t,o))||n.enumerable});return e},zG=e=>WG(_a({},"__esModule",{value:!0}),e),tC={};VG(tC,{loadConfig:()=>QG});rC.exports=zG(tC);var Eo=J();function bp(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Yr(bp,"getSelectorName");var KG=Yr((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Eo.CredentialsProviderError(r.message||`Not found in ENV: ${bp(e.toString())}`,{logger:t})}},"fromEnv"),eC=Zw(),JG=Yr((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,eC.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,eC.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new Eo.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${bp(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),YG=Yr(e=>typeof e=="function","isFunction"),XG=Yr(e=>YG(e)?async()=>await e():(0,Eo.fromStatic)(e),"fromStatic"),QG=Yr(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Eo.memoize)((0,Eo.chain)(KG(e),JG(t,n),XG(r))),"loadConfig")});var wo=f((Que,hC)=>{l();var ya=Object.defineProperty,ZG=Object.getOwnPropertyDescriptor,e6=Object.getOwnPropertyNames,t6=Object.prototype.hasOwnProperty,ee=(e,t)=>ya(e,"name",{value:t,configurable:!0}),r6=(e,t)=>{for(var r in t)ya(e,r,{get:t[r],enumerable:!0})},n6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e6(t))!t6.call(e,o)&&o!==r&&ya(e,o,{get:()=>t[o],enumerable:!(n=ZG(t,o))||n.enumerable});return e},o6=e=>n6(ya({},"__esModule",{value:!0}),e),aC={};r6(aC,{DEFAULT_MAX_RETRIES:()=>uC,DEFAULT_TIMEOUT:()=>dC,ENV_CMDS_AUTH_TOKEN:()=>Rp,ENV_CMDS_FULL_URI:()=>va,ENV_CMDS_RELATIVE_URI:()=>ha,Endpoint:()=>gC,fromContainerMetadata:()=>c6,fromInstanceMetadata:()=>A6,getInstanceMetadataEndpoint:()=>_C,httpRequest:()=>Xr,providerConfigFromInit:()=>Ap});hC.exports=o6(aC);var i6=S("url"),st=J(),s6=S("buffer"),a6=S("http");function Xr(e){return new Promise((t,r)=>{var n;let o=(0,a6.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",i=>{r(Object.assign(new st.ProviderError("Unable to connect to instance metadata service"),i)),o.destroy()}),o.on("timeout",()=>{r(new st.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",i=>{let{statusCode:a=400}=i;(a<200||300<=a)&&(r(Object.assign(new st.ProviderError("Error response received from instance metadata service"),{statusCode:a})),o.destroy());let s=[];i.on("data",c=>{s.push(c)}),i.on("end",()=>{t(s6.Buffer.concat(s)),o.destroy()})}),o.end()})}ee(Xr,"httpRequest");var cC=ee(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),lC=ee(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),dC=1e3,uC=0,Ap=ee(({maxRetries:e=uC,timeout:t=dC})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),xp=ee((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),va="AWS_CONTAINER_CREDENTIALS_FULL_URI",ha="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Rp="AWS_CONTAINER_AUTHORIZATION_TOKEN",c6=ee((e={})=>{let{timeout:t,maxRetries:r}=Ap(e);return()=>xp(async()=>{let n=await f6({logger:e.logger}),o=JSON.parse(await l6(t,n));if(!cC(o))throw new st.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return lC(o)},r)},"fromContainerMetadata"),l6=ee(async(e,t)=>(process.env[Rp]&&(t.headers={...t.headers,Authorization:process.env[Rp]}),(await Xr({...t,timeout:e})).toString()),"requestFromEcsImds"),d6="169.254.170.2",u6={localhost:!0,"127.0.0.1":!0},p6={"http:":!0,"https:":!0},f6=ee(async({logger:e})=>{if(process.env[ha])return{hostname:d6,path:process.env[ha]};if(process.env[va]){let t=(0,i6.parse)(process.env[va]);if(!t.hostname||!(t.hostname in u6))throw new st.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in p6))throw new st.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new st.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${ha} or ${va} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),pC=class fC extends st.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,fC.prototype)}};ee(pC,"InstanceMetadataV1FallbackError");var g6=pC,Tp=nC(),m6=sr(),gC=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(gC||{}),_6="AWS_EC2_METADATA_SERVICE_ENDPOINT",v6="ec2_metadata_service_endpoint",h6={environmentVariableSelector:e=>e[_6],configFileSelector:e=>e[v6],default:void 0},mC=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(mC||{}),y6="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",S6="ec2_metadata_service_endpoint_mode",E6={environmentVariableSelector:e=>e[y6],configFileSelector:e=>e[S6],default:"IPv4"},_C=ee(async()=>(0,m6.parseUrl)(await w6()||await C6()),"getInstanceMetadataEndpoint"),w6=ee(async()=>(0,Tp.loadConfig)(h6)(),"getFromEndpointConfig"),C6=ee(async()=>{let e=await(0,Tp.loadConfig)(E6)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(mC)}`)}},"getFromEndpointModeConfig"),O6=5*60,b6=5*60,P6="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",oC=ee((e,t)=>{let r=O6+Math.floor(Math.random()*b6),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+P6);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),x6=ee((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=oC(o,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),o=oC(n,r);else throw i}return n=o,o}},"staticStabilityProvider"),vC="/latest/meta-data/iam/security-credentials/",R6="/latest/api/token",Pp="AWS_EC2_METADATA_V1_DISABLED",iC="ec2_metadata_v1_disabled",sC="x-aws-ec2-metadata-token",A6=ee((e={})=>x6(T6(e),{logger:e.logger}),"fromInstanceMetadata"),T6=ee((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:i}=Ap(e),a=ee(async(s,c)=>{var d;if(t||((d=c.headers)==null?void 0:d[sC])==null){let m=!1,g=!1,h=await(0,Tp.loadConfig)({environmentVariableSelector:C=>{let w=C[Pp];if(g=!!w&&w!=="false",w===void 0)throw new st.CredentialsProviderError(`${Pp} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:C=>{let w=C[iC];return m=!!w&&w!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let C=[];throw e.ec2MetadataV1Disabled&&C.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&C.push(`config file profile (${iC})`),g&&C.push(`process environment variable (${Pp})`),new g6(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${C.join(", ")}].`)}}let p=(await xp(async()=>{let m;try{m=await N6(c)}catch(g){throw g.statusCode===401&&(t=!1),g}return m},s)).trim();return xp(async()=>{let m;try{m=await F6(p,c,e)}catch(g){throw g.statusCode===401&&(t=!1),g}return m},s)},"getCredentials");return async()=>{let s=await _C();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),a(i,{...s,timeout:o});{let c;try{c=(await I6({...s,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),a(i,{...s,timeout:o})}return a(i,{...s,headers:{[sC]:c},timeout:o})}}},"getInstanceMetadataProvider"),I6=ee(async e=>Xr({...e,path:R6,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),N6=ee(async e=>(await Xr({...e,path:vC})).toString(),"getProfile"),F6=ee(async(e,t,r)=>{let n=JSON.parse((await Xr({...t,path:vC+e})).toString());if(!cC(n))throw new st.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return lC(n)},"getCredentialsFromProfile")});var yC=f(Sa=>{"use strict";l();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.checkUrl=void 0;var D6=J(),k6="169.254.170.2",M6="169.254.170.23",L6="[fd00:ec2::23]",j6=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===k6||e.hostname===M6||e.hostname===L6)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let i=parseInt(o,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new D6.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Sa.checkUrl=j6});var SC=f(Qr=>{"use strict";l();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.getCredentials=Qr.createGetRequest=void 0;var Ip=J(),q6=K(),U6=U(),H6=mu();function B6(e){return new q6.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}Qr.createGetRequest=B6;async function $6(e,t){let n=await(0,H6.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Ip.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,U6.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new Ip.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new Ip.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}Qr.getCredentials=$6});var EC=f(Ea=>{"use strict";l();Object.defineProperty(Ea,"__esModule",{value:!0});Ea.retryWrapper=void 0;var G6=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};Ea.retryWrapper=G6});var OC=f(wa=>{"use strict";l();Object.defineProperty(wa,"__esModule",{value:!0});wa.fromHttp=void 0;var V6=(Lt(),D(Mt)),W6=ur(),wC=J(),z6=V6.__importDefault(S("fs/promises")),K6=yC(),CC=SC(),J6=EC(),Y6="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",X6="http://169.254.170.2",Q6="AWS_CONTAINER_CREDENTIALS_FULL_URI",Z6="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",eV="AWS_CONTAINER_AUTHORIZATION_TOKEN",tV=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Y6],n=e.awsContainerCredentialsFullUri??process.env[Q6],o=e.awsContainerAuthorizationToken??process.env[eV],i=e.awsContainerAuthorizationTokenFile??process.env[Z6],a=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),a("awsContainerCredentialsFullUri will take precedence.")),o&&i&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),a("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${X6}${r}`;else throw new wC.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let s=new URL(t);(0,K6.checkUrl)(s,e.logger);let c=new W6.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,J6.retryWrapper)(async()=>{let d=(0,CC.createGetRequest)(s);o?d.headers.Authorization=o:i&&(d.headers.Authorization=(await z6.default.readFile(i)).toString());try{let u=await c.handle(d);return(0,CC.getCredentials)(u.response)}catch(u){throw new wC.CredentialsProviderError(String(u),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};wa.fromHttp=tV});var Np=f(Ca=>{"use strict";l();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.fromHttp=void 0;var rV=OC();Object.defineProperty(Ca,"fromHttp",{enumerable:!0,get:function(){return rV.fromHttp}})});var Fp=f(jt=>{"use strict";l();Object.defineProperty(jt,"__esModule",{value:!0});jt.resolveHttpAuthSchemeConfig=jt.defaultSSOHttpAuthSchemeProvider=jt.defaultSSOHttpAuthSchemeParametersProvider=void 0;var nV=(ie(),D(oe)),bC=Ke(),oV=async(e,t,r)=>({operation:(0,bC.getSmithyContext)(t).operation,region:await(0,bC.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});jt.defaultSSOHttpAuthSchemeParametersProvider=oV;function iV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Oa(e){return{schemeId:"smithy.api#noAuth"}}var sV=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Oa(e));break}case"ListAccountRoles":{t.push(Oa(e));break}case"ListAccounts":{t.push(Oa(e));break}case"Logout":{t.push(Oa(e));break}default:t.push(iV(e))}return t};jt.defaultSSOHttpAuthSchemeProvider=sV;var aV=e=>({...(0,nV.resolveAwsSdkSigV4Config)(e)});jt.resolveHttpAuthSchemeConfig=aV});var PC=f((ppe,cV)=>{cV.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.637.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Zr=f(ba=>{"use strict";l();Object.defineProperty(ba,"__esModule",{value:!0});ba.getHomeDir=void 0;var lV=S("os"),dV=S("path"),Dp={},uV=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",pV=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${dV.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=uV();return Dp[o]||(Dp[o]=(0,lV.homedir)()),Dp[o]};ba.getHomeDir=pV});var kp=f(Pa=>{"use strict";l();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.getSSOTokenFilepath=void 0;var fV=S("crypto"),gV=S("path"),mV=Zr(),_V=e=>{let r=(0,fV.createHash)("sha1").update(e).digest("hex");return(0,gV.join)((0,mV.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Pa.getSSOTokenFilepath=_V});var xC=f(xa=>{"use strict";l();Object.defineProperty(xa,"__esModule",{value:!0});xa.getSSOTokenFromFile=void 0;var vV=S("fs"),hV=kp(),{readFile:yV}=vV.promises,SV=async e=>{let t=(0,hV.getSSOTokenFilepath)(e),r=await yV(t,"utf8");return JSON.parse(r)};xa.getSSOTokenFromFile=SV});var Lp=f(Ra=>{"use strict";l();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.slurpFile=void 0;var EV=S("fs"),{readFile:wV}=EV.promises,Mp={},CV=(e,t)=>((!Mp[e]||t?.ignoreCache)&&(Mp[e]=wV(e,"utf8")),Mp[e]);Ra.slurpFile=CV});var DC=f((Epe,Oo)=>{l();var Ia=Object.defineProperty,OV=Object.getOwnPropertyDescriptor,bV=Object.getOwnPropertyNames,PV=Object.prototype.hasOwnProperty,xe=(e,t)=>Ia(e,"name",{value:t,configurable:!0}),xV=(e,t)=>{for(var r in t)Ia(e,r,{get:t[r],enumerable:!0})},jp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bV(t))!PV.call(e,o)&&o!==r&&Ia(e,o,{get:()=>t[o],enumerable:!(n=OV(t,o))||n.enumerable});return e},Up=(e,t,r)=>(jp(e,t,"default"),r&&jp(r,t,"default")),RV=e=>jp(Ia({},"__esModule",{value:!0}),e),Co={};xV(Co,{CONFIG_PREFIX_SEPARATOR:()=>hr,DEFAULT_PROFILE:()=>IC,ENV_PROFILE:()=>TC,getProfileName:()=>AV,loadSharedConfigFiles:()=>FC,loadSsoSessionData:()=>BV,parseKnownFiles:()=>GV});Oo.exports=RV(Co);Up(Co,Zr(),Oo.exports);var TC="AWS_PROFILE",IC="default",AV=xe(e=>e.profile||process.env[TC]||IC,"getProfileName");Up(Co,kp(),Oo.exports);Up(Co,xC(),Oo.exports);var Aa=z(),TV=xe(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(hr);return r===-1?!1:Object.values(Aa.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(hr),i=r.substring(0,o)===Aa.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ta=S("path"),IV=Zr(),NV="AWS_CONFIG_FILE",NC=xe(()=>process.env[NV]||(0,Ta.join)((0,IV.getHomeDir)(),".aws","config"),"getConfigFilepath"),FV=Zr(),DV="AWS_SHARED_CREDENTIALS_FILE",kV=xe(()=>process.env[DV]||(0,Ta.join)((0,FV.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),MV=Zr(),LV=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,jV=["__proto__","profile __proto__"],qp=xe(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=LV.exec(s);if(c){let[,d,,u]=c;Object.values(Aa.IniSectionType).includes(d)&&(r=[d,u].join(hr))}else r=s;if(jV.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(hr):c;t[r][u]=d}}}}return t},"parseIni"),RC=Lp(),AC=xe(()=>({}),"swallowError"),hr=".",FC=xe(async(e={})=>{let{filepath:t=kV(),configFilepath:r=NC()}=e,n=(0,MV.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Ta.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Ta.join)(n,r.slice(2)));let s=await Promise.all([(0,RC.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(qp).then(TV).catch(AC),(0,RC.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(qp).catch(AC)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),qV=xe(e=>Object.entries(e).filter(([t])=>t.startsWith(Aa.IniSectionType.SSO_SESSION+hr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(hr)+1)]:n}),{}),"getSsoSessionData"),UV=Lp(),HV=xe(()=>({}),"swallowError"),BV=xe(async(e={})=>(0,UV.slurpFile)(e.configFilepath??NC()).then(qp).then(qV).catch(HV),"loadSsoSessionData"),$V=xe((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),GV=xe(async e=>{let t=await FC(e);return $V(t.configFile,t.credentialsFile)},"parseKnownFiles")});var jC=f((Cpe,LC)=>{l();var Na=Object.defineProperty,VV=Object.getOwnPropertyDescriptor,WV=Object.getOwnPropertyNames,zV=Object.prototype.hasOwnProperty,en=(e,t)=>Na(e,"name",{value:t,configurable:!0}),KV=(e,t)=>{for(var r in t)Na(e,r,{get:t[r],enumerable:!0})},JV=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of WV(t))!zV.call(e,o)&&o!==r&&Na(e,o,{get:()=>t[o],enumerable:!(n=VV(t,o))||n.enumerable});return e},YV=e=>JV(Na({},"__esModule",{value:!0}),e),MC={};KV(MC,{loadConfig:()=>tW});LC.exports=YV(MC);var bo=J();function Hp(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}en(Hp,"getSelectorName");var XV=en((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new bo.CredentialsProviderError(r.message||`Not found in ENV: ${Hp(e.toString())}`,{logger:t})}},"fromEnv"),kC=DC(),QV=en((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,kC.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,kC.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new bo.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Hp(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),ZV=en(e=>typeof e=="function","isFunction"),eW=en(e=>ZV(e)?async()=>await e():(0,bo.fromStatic)(e),"fromStatic"),tW=en(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,bo.memoize)((0,bo.chain)(XV(e),QV(t,n),eW(r))),"loadConfig")});var Po=f((bpe,VC)=>{"use strict";l();var Fa=Object.defineProperty,rW=Object.getOwnPropertyDescriptor,nW=Object.getOwnPropertyNames,oW=Object.prototype.hasOwnProperty,UC=(e,t)=>Fa(e,"name",{value:t,configurable:!0}),iW=(e,t)=>{for(var r in t)Fa(e,r,{get:t[r],enumerable:!0})},sW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nW(t))!oW.call(e,o)&&o!==r&&Fa(e,o,{get:()=>t[o],enumerable:!(n=rW(t,o))||n.enumerable});return e},aW=e=>sW(Fa({},"__esModule",{value:!0}),e),HC={};iW(HC,{UA_APP_ID_ENV_NAME:()=>$C,UA_APP_ID_INI_NAME:()=>GC,crtAvailability:()=>BC,defaultUserAgent:()=>dW});VC.exports=aW(HC);var cW=jC(),qC=S("os"),Bp=S("process"),BC={isCrtAvailable:!1},lW=UC(()=>BC.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),$C="AWS_SDK_UA_APP_ID",GC="sdk-ua-app-id",dW=UC(({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,qC.platform)()}`,(0,qC.release)()],["lang/js"],["md/nodejs",`${Bp.versions.node}`]],n=lW();n&&r.push(n),e&&r.push([`api/${e}`,t]),Bp.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Bp.env.AWS_EXECUTION_ENV}`]);let o=(0,cW.loadConfig)({environmentVariableSelector:a=>a[$C],configFileSelector:a=>a[GC],default:void 0})(),i;return async()=>{if(!i){let a=await o;i=a?[...r,[`app/${a}`]]:[...r]}return i}},"defaultUserAgent")});var xo=f((Rpe,YC)=>{l();var Da=Object.defineProperty,uW=Object.getOwnPropertyDescriptor,pW=Object.getOwnPropertyNames,fW=Object.prototype.hasOwnProperty,zC=(e,t)=>Da(e,"name",{value:t,configurable:!0}),gW=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},mW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pW(t))!fW.call(e,o)&&o!==r&&Da(e,o,{get:()=>t[o],enumerable:!(n=uW(t,o))||n.enumerable});return e},_W=e=>mW(Da({},"__esModule",{value:!0}),e),KC={};gW(KC,{Hash:()=>yW});YC.exports=_W(KC);var $p=Ur(),vW=ye(),hW=S("buffer"),WC=S("crypto"),JC=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,vW.toUint8Array)(Gp(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,WC.createHmac)(this.algorithmIdentifier,Gp(this.secret)):(0,WC.createHash)(this.algorithmIdentifier)}};zC(JC,"Hash");var yW=JC;function Gp(e,t){return hW.Buffer.isBuffer(e)?e:typeof e=="string"?(0,$p.fromString)(e,t):ArrayBuffer.isView(e)?(0,$p.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,$p.fromArrayBuffer)(e)}zC(Gp,"castSourceData")});var tn=f(ka=>{"use strict";l();Object.defineProperty(ka,"__esModule",{value:!0});ka.getHomeDir=void 0;var SW=S("os"),EW=S("path"),Vp={},wW=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",CW=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${EW.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=wW();return Vp[o]||(Vp[o]=(0,SW.homedir)()),Vp[o]};ka.getHomeDir=CW});var Wp=f(Ma=>{"use strict";l();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.getSSOTokenFilepath=void 0;var OW=S("crypto"),bW=S("path"),PW=tn(),xW=e=>{let r=(0,OW.createHash)("sha1").update(e).digest("hex");return(0,bW.join)((0,PW.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ma.getSSOTokenFilepath=xW});var XC=f(La=>{"use strict";l();Object.defineProperty(La,"__esModule",{value:!0});La.getSSOTokenFromFile=void 0;var RW=S("fs"),AW=Wp(),{readFile:TW}=RW.promises,IW=async e=>{let t=(0,AW.getSSOTokenFilepath)(e),r=await TW(t,"utf8");return JSON.parse(r)};La.getSSOTokenFromFile=IW});var Kp=f(ja=>{"use strict";l();Object.defineProperty(ja,"__esModule",{value:!0});ja.slurpFile=void 0;var NW=S("fs"),{readFile:FW}=NW.promises,zp={},DW=(e,t)=>((!zp[e]||t?.ignoreCache)&&(zp[e]=FW(e,"utf8")),zp[e]);ja.slurpFile=DW});var oO=f((jpe,Ao)=>{l();var Ha=Object.defineProperty,kW=Object.getOwnPropertyDescriptor,MW=Object.getOwnPropertyNames,LW=Object.prototype.hasOwnProperty,Re=(e,t)=>Ha(e,"name",{value:t,configurable:!0}),jW=(e,t)=>{for(var r in t)Ha(e,r,{get:t[r],enumerable:!0})},Jp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MW(t))!LW.call(e,o)&&o!==r&&Ha(e,o,{get:()=>t[o],enumerable:!(n=kW(t,o))||n.enumerable});return e},Xp=(e,t,r)=>(Jp(e,t,"default"),r&&Jp(r,t,"default")),qW=e=>Jp(Ha({},"__esModule",{value:!0}),e),Ro={};jW(Ro,{CONFIG_PREFIX_SEPARATOR:()=>yr,DEFAULT_PROFILE:()=>tO,ENV_PROFILE:()=>eO,getProfileName:()=>UW,loadSharedConfigFiles:()=>nO,loadSsoSessionData:()=>ZW,parseKnownFiles:()=>t8});Ao.exports=qW(Ro);Xp(Ro,tn(),Ao.exports);var eO="AWS_PROFILE",tO="default",UW=Re(e=>e.profile||process.env[eO]||tO,"getProfileName");Xp(Ro,Wp(),Ao.exports);Xp(Ro,XC(),Ao.exports);var qa=z(),HW=Re(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(yr);return r===-1?!1:Object.values(qa.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(yr),i=r.substring(0,o)===qa.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ua=S("path"),BW=tn(),$W="AWS_CONFIG_FILE",rO=Re(()=>process.env[$W]||(0,Ua.join)((0,BW.getHomeDir)(),".aws","config"),"getConfigFilepath"),GW=tn(),VW="AWS_SHARED_CREDENTIALS_FILE",WW=Re(()=>process.env[VW]||(0,Ua.join)((0,GW.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),zW=tn(),KW=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,JW=["__proto__","profile __proto__"],Yp=Re(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=KW.exec(s);if(c){let[,d,,u]=c;Object.values(qa.IniSectionType).includes(d)&&(r=[d,u].join(yr))}else r=s;if(JW.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(yr):c;t[r][u]=d}}}}return t},"parseIni"),QC=Kp(),ZC=Re(()=>({}),"swallowError"),yr=".",nO=Re(async(e={})=>{let{filepath:t=WW(),configFilepath:r=rO()}=e,n=(0,zW.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Ua.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Ua.join)(n,r.slice(2)));let s=await Promise.all([(0,QC.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Yp).then(HW).catch(ZC),(0,QC.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Yp).catch(ZC)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),YW=Re(e=>Object.entries(e).filter(([t])=>t.startsWith(qa.IniSectionType.SSO_SESSION+yr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(yr)+1)]:n}),{}),"getSsoSessionData"),XW=Kp(),QW=Re(()=>({}),"swallowError"),ZW=Re(async(e={})=>(0,XW.slurpFile)(e.configFilepath??rO()).then(Yp).then(YW).catch(QW),"loadSsoSessionData"),e8=Re((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),t8=Re(async e=>{let t=await nO(e);return e8(t.configFile,t.credentialsFile)},"parseKnownFiles")});var cO=f((Upe,aO)=>{l();var Ba=Object.defineProperty,r8=Object.getOwnPropertyDescriptor,n8=Object.getOwnPropertyNames,o8=Object.prototype.hasOwnProperty,rn=(e,t)=>Ba(e,"name",{value:t,configurable:!0}),i8=(e,t)=>{for(var r in t)Ba(e,r,{get:t[r],enumerable:!0})},s8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of n8(t))!o8.call(e,o)&&o!==r&&Ba(e,o,{get:()=>t[o],enumerable:!(n=r8(t,o))||n.enumerable});return e},a8=e=>s8(Ba({},"__esModule",{value:!0}),e),sO={};i8(sO,{loadConfig:()=>p8});aO.exports=a8(sO);var To=J();function Qp(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}rn(Qp,"getSelectorName");var c8=rn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new To.CredentialsProviderError(r.message||`Not found in ENV: ${Qp(e.toString())}`,{logger:t})}},"fromEnv"),iO=oO(),l8=rn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,iO.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,iO.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new To.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Qp(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),d8=rn(e=>typeof e=="function","isFunction"),u8=rn(e=>d8(e)?async()=>await e():(0,To.fromStatic)(e),"fromStatic"),p8=rn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,To.memoize)((0,To.chain)(c8(e),l8(t,n),u8(r))),"loadConfig")});var Io=f((Bpe,uO)=>{l();var $a=Object.defineProperty,f8=Object.getOwnPropertyDescriptor,g8=Object.getOwnPropertyNames,m8=Object.prototype.hasOwnProperty,_8=(e,t)=>$a(e,"name",{value:t,configurable:!0}),v8=(e,t)=>{for(var r in t)$a(e,r,{get:t[r],enumerable:!0})},h8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of g8(t))!m8.call(e,o)&&o!==r&&$a(e,o,{get:()=>t[o],enumerable:!(n=f8(t,o))||n.enumerable});return e},y8=e=>h8($a({},"__esModule",{value:!0}),e),dO={};v8(dO,{calculateBodyLength:()=>S8});uO.exports=y8(dO);var lO=S("fs"),S8=_8(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,lO.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,lO.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var PO=f(Ga=>{"use strict";l();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.ruleSet=void 0;var wO="required",Te="fn",Ie="argv",sn="ref",pO=!0,fO="isSet",No="booleanEquals",nn="error",on="endpoint",ht="tree",Zp="PartitionResult",ef="getAttr",gO={[wO]:!1,type:"String"},mO={[wO]:!0,default:!1,type:"Boolean"},_O={[sn]:"Endpoint"},CO={[Te]:No,[Ie]:[{[sn]:"UseFIPS"},!0]},OO={[Te]:No,[Ie]:[{[sn]:"UseDualStack"},!0]},Ae={},vO={[Te]:ef,[Ie]:[{[sn]:Zp},"supportsFIPS"]},bO={[sn]:Zp},hO={[Te]:No,[Ie]:[!0,{[Te]:ef,[Ie]:[bO,"supportsDualStack"]}]},yO=[CO],SO=[OO],EO=[{[sn]:"Region"}],E8={version:"1.0",parameters:{Region:gO,UseDualStack:mO,UseFIPS:mO,Endpoint:gO},rules:[{conditions:[{[Te]:fO,[Ie]:[_O]}],rules:[{conditions:yO,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:nn},{conditions:SO,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:nn},{endpoint:{url:_O,properties:Ae,headers:Ae},type:on}],type:ht},{conditions:[{[Te]:fO,[Ie]:EO}],rules:[{conditions:[{[Te]:"aws.partition",[Ie]:EO,assign:Zp}],rules:[{conditions:[CO,OO],rules:[{conditions:[{[Te]:No,[Ie]:[pO,vO]},hO],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ae,headers:Ae},type:on}],type:ht},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:nn}],type:ht},{conditions:yO,rules:[{conditions:[{[Te]:No,[Ie]:[vO,pO]}],rules:[{conditions:[{[Te]:"stringEquals",[Ie]:[{[Te]:ef,[Ie]:[bO,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ae,headers:Ae},type:on},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ae,headers:Ae},type:on}],type:ht},{error:"FIPS is enabled but this partition does not support FIPS",type:nn}],type:ht},{conditions:SO,rules:[{conditions:[hO],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ae,headers:Ae},type:on}],type:ht},{error:"DualStack is enabled but this partition does not support DualStack",type:nn}],type:ht},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ae,headers:Ae},type:on}],type:ht}],type:ht},{error:"Invalid Configuration: Missing Region",type:nn}]};Ga.ruleSet=E8});var RO=f(Va=>{"use strict";l();Object.defineProperty(Va,"__esModule",{value:!0});Va.defaultEndpointResolver=void 0;var w8=kr(),xO=Fr(),C8=PO(),O8=(e,t={})=>(0,xO.resolveEndpoint)(C8.ruleSet,{endpointParams:e,logger:t.logger});Va.defaultEndpointResolver=O8;xO.customEndpointFunctions.aws=w8.awsEndpointFunctions});var IO=f(Wa=>{"use strict";l();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.getRuntimeConfig=void 0;var b8=(ie(),D(oe)),P8=(Qe(),D(_t)),x8=U(),R8=sr(),AO=Tt(),TO=ye(),A8=Fp(),T8=RO(),I8=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??AO.fromBase64,base64Encoder:e?.base64Encoder??AO.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??T8.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??A8.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new b8.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new P8.NoAuthSigner}],logger:e?.logger??new x8.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??R8.parseUrl,utf8Decoder:e?.utf8Decoder??TO.fromUtf8,utf8Encoder:e?.utf8Encoder??TO.toUtf8});Wa.getRuntimeConfig=I8});var an=f(za=>{"use strict";l();Object.defineProperty(za,"__esModule",{value:!0});za.getHomeDir=void 0;var N8=S("os"),F8=S("path"),tf={},D8=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",k8=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${F8.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=D8();return tf[o]||(tf[o]=(0,N8.homedir)()),tf[o]};za.getHomeDir=k8});var rf=f(Ka=>{"use strict";l();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.getSSOTokenFilepath=void 0;var M8=S("crypto"),L8=S("path"),j8=an(),q8=e=>{let r=(0,M8.createHash)("sha1").update(e).digest("hex");return(0,L8.join)((0,j8.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ka.getSSOTokenFilepath=q8});var NO=f(Ja=>{"use strict";l();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.getSSOTokenFromFile=void 0;var U8=S("fs"),H8=rf(),{readFile:B8}=U8.promises,$8=async e=>{let t=(0,H8.getSSOTokenFilepath)(e),r=await B8(t,"utf8");return JSON.parse(r)};Ja.getSSOTokenFromFile=$8});var of=f(Ya=>{"use strict";l();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.slurpFile=void 0;var G8=S("fs"),{readFile:V8}=G8.promises,nf={},W8=(e,t)=>((!nf[e]||t?.ignoreCache)&&(nf[e]=V8(e,"utf8")),nf[e]);Ya.slurpFile=W8});var qO=f((ofe,Do)=>{l();var Za=Object.defineProperty,z8=Object.getOwnPropertyDescriptor,K8=Object.getOwnPropertyNames,J8=Object.prototype.hasOwnProperty,Ne=(e,t)=>Za(e,"name",{value:t,configurable:!0}),Y8=(e,t)=>{for(var r in t)Za(e,r,{get:t[r],enumerable:!0})},sf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K8(t))!J8.call(e,o)&&o!==r&&Za(e,o,{get:()=>t[o],enumerable:!(n=z8(t,o))||n.enumerable});return e},cf=(e,t,r)=>(sf(e,t,"default"),r&&sf(r,t,"default")),X8=e=>sf(Za({},"__esModule",{value:!0}),e),Fo={};Y8(Fo,{CONFIG_PREFIX_SEPARATOR:()=>Sr,DEFAULT_PROFILE:()=>MO,ENV_PROFILE:()=>kO,getProfileName:()=>Q8,loadSharedConfigFiles:()=>jO,loadSsoSessionData:()=>u4,parseKnownFiles:()=>f4});Do.exports=X8(Fo);cf(Fo,an(),Do.exports);var kO="AWS_PROFILE",MO="default",Q8=Ne(e=>e.profile||process.env[kO]||MO,"getProfileName");cf(Fo,rf(),Do.exports);cf(Fo,NO(),Do.exports);var Xa=z(),Z8=Ne(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Sr);return r===-1?!1:Object.values(Xa.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Sr),i=r.substring(0,o)===Xa.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Qa=S("path"),e4=an(),t4="AWS_CONFIG_FILE",LO=Ne(()=>process.env[t4]||(0,Qa.join)((0,e4.getHomeDir)(),".aws","config"),"getConfigFilepath"),r4=an(),n4="AWS_SHARED_CREDENTIALS_FILE",o4=Ne(()=>process.env[n4]||(0,Qa.join)((0,r4.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),i4=an(),s4=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,a4=["__proto__","profile __proto__"],af=Ne(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=s4.exec(s);if(c){let[,d,,u]=c;Object.values(Xa.IniSectionType).includes(d)&&(r=[d,u].join(Sr))}else r=s;if(a4.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Sr):c;t[r][u]=d}}}}return t},"parseIni"),FO=of(),DO=Ne(()=>({}),"swallowError"),Sr=".",jO=Ne(async(e={})=>{let{filepath:t=o4(),configFilepath:r=LO()}=e,n=(0,i4.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Qa.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Qa.join)(n,r.slice(2)));let s=await Promise.all([(0,FO.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(af).then(Z8).catch(DO),(0,FO.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(af).catch(DO)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),c4=Ne(e=>Object.entries(e).filter(([t])=>t.startsWith(Xa.IniSectionType.SSO_SESSION+Sr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Sr)+1)]:n}),{}),"getSsoSessionData"),l4=of(),d4=Ne(()=>({}),"swallowError"),u4=Ne(async(e={})=>(0,l4.slurpFile)(e.configFilepath??LO()).then(af).then(c4).catch(d4),"loadSsoSessionData"),p4=Ne((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),f4=Ne(async e=>{let t=await jO(e);return p4(t.configFile,t.credentialsFile)},"parseKnownFiles")});var $O=f((sfe,BO)=>{l();var ec=Object.defineProperty,g4=Object.getOwnPropertyDescriptor,m4=Object.getOwnPropertyNames,_4=Object.prototype.hasOwnProperty,cn=(e,t)=>ec(e,"name",{value:t,configurable:!0}),v4=(e,t)=>{for(var r in t)ec(e,r,{get:t[r],enumerable:!0})},h4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m4(t))!_4.call(e,o)&&o!==r&&ec(e,o,{get:()=>t[o],enumerable:!(n=g4(t,o))||n.enumerable});return e},y4=e=>h4(ec({},"__esModule",{value:!0}),e),HO={};v4(HO,{loadConfig:()=>O4});BO.exports=y4(HO);var ko=J();function lf(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}cn(lf,"getSelectorName");var S4=cn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new ko.CredentialsProviderError(r.message||`Not found in ENV: ${lf(e.toString())}`,{logger:t})}},"fromEnv"),UO=qO(),E4=cn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,UO.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,UO.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new ko.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${lf(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),w4=cn(e=>typeof e=="function","isFunction"),C4=cn(e=>w4(e)?async()=>await e():(0,ko.fromStatic)(e),"fromStatic"),O4=cn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,ko.memoize)((0,ko.chain)(S4(e),E4(t,n),C4(r))),"loadConfig")});var Lo=f((cfe,JO)=>{l();var b4=Object.create,Mo=Object.defineProperty,P4=Object.getOwnPropertyDescriptor,x4=Object.getOwnPropertyNames,R4=Object.getPrototypeOf,A4=Object.prototype.hasOwnProperty,df=(e,t)=>Mo(e,"name",{value:t,configurable:!0}),T4=(e,t)=>{for(var r in t)Mo(e,r,{get:t[r],enumerable:!0})},zO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x4(t))!A4.call(e,o)&&o!==r&&Mo(e,o,{get:()=>t[o],enumerable:!(n=P4(t,o))||n.enumerable});return e},I4=(e,t,r)=>(r=e!=null?b4(R4(e)):{},zO(t||!e||!e.__esModule?Mo(r,"default",{value:e,enumerable:!0}):r,e)),N4=e=>zO(Mo({},"__esModule",{value:!0}),e),KO={};T4(KO,{resolveDefaultsModeConfig:()=>B4});JO.exports=N4(KO);var F4=nt(),GO=$O(),D4=J(),k4="AWS_EXECUTION_ENV",VO="AWS_REGION",WO="AWS_DEFAULT_REGION",M4="AWS_EC2_METADATA_DISABLED",L4=["in-region","cross-region","mobile","standard","legacy"],j4="/latest/meta-data/placement/region",q4="AWS_DEFAULTS_MODE",U4="defaults_mode",H4={environmentVariableSelector:e=>e[q4],configFileSelector:e=>e[U4],default:"legacy"},B4=df(({region:e=(0,GO.loadConfig)(F4.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,GO.loadConfig)(H4)}={})=>(0,D4.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return $4(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${L4.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),$4=df(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await G4();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),G4=df(async()=>{if(process.env[k4]&&(process.env[VO]||process.env[WO]))return process.env[VO]??process.env[WO];if(!process.env[M4])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>I4(wo())),r=await e();return(await t({...r,path:j4})).toString()}catch{}},"inferPhysicalRegion")});var QO=f(rc=>{"use strict";l();Object.defineProperty(rc,"__esModule",{value:!0});rc.getRuntimeConfig=void 0;var V4=(Lt(),D(Mt)),W4=V4.__importDefault(PC()),z4=(ie(),D(oe)),K4=Po(),tc=nt(),J4=xo(),YO=it(),jo=cO(),XO=ur(),Y4=Io(),X4=qr(),Q4=IO(),Z4=U(),ez=Lo(),tz=U(),rz=e=>{(0,tz.emitWarningIfUnsupportedVersion)(process.version);let t=(0,ez.resolveDefaultsModeConfig)(e),r=()=>t().then(Z4.loadConfigsForDefaultMode),n=(0,Q4.getRuntimeConfig)(e);return(0,z4.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Y4.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,K4.defaultUserAgent)({serviceId:n.serviceId,clientVersion:W4.default.version}),maxAttempts:e?.maxAttempts??(0,jo.loadConfig)(YO.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,jo.loadConfig)(tc.NODE_REGION_CONFIG_OPTIONS,tc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:XO.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,jo.loadConfig)({...YO.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||X4.DEFAULT_RETRY_MODE}),sha256:e?.sha256??J4.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??XO.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,jo.loadConfig)(tc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,jo.loadConfig)(tc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};rc.getRuntimeConfig=rz});var qo=f((pfe,ob)=>{"use strict";l();var nc=Object.defineProperty,nz=Object.getOwnPropertyDescriptor,oz=Object.getOwnPropertyNames,iz=Object.prototype.hasOwnProperty,ln=(e,t)=>nc(e,"name",{value:t,configurable:!0}),sz=(e,t)=>{for(var r in t)nc(e,r,{get:t[r],enumerable:!0})},az=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oz(t))!iz.call(e,o)&&o!==r&&nc(e,o,{get:()=>t[o],enumerable:!(n=nz(t,o))||n.enumerable});return e},cz=e=>az(nc({},"__esModule",{value:!0}),e),eb={};sz(eb,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>pz,NODE_REGION_CONFIG_OPTIONS:()=>uz,REGION_ENV_NAME:()=>tb,REGION_INI_NAME:()=>rb,getAwsRegionExtensionConfiguration:()=>lz,resolveAwsRegionExtensionConfiguration:()=>dz,resolveRegionConfig:()=>fz});ob.exports=cz(eb);var lz=ln(e=>{let t=ln(async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()},"runtimeConfigRegion");return{setRegion(r){t=r},region(){return t}}},"getAwsRegionExtensionConfiguration"),dz=ln(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),tb="AWS_REGION",rb="region",uz={environmentVariableSelector:e=>e[tb],configFileSelector:e=>e[rb],default:()=>{throw new Error("Region is missing")}},pz={preferredFile:"credentials"},nb=ln(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),ZO=ln(e=>nb(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),fz=ln(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return ZO(t);let n=await t();return ZO(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return nb(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig")});var Kb=f((Sfe,zb)=>{"use strict";l();var ic=Object.defineProperty,gz=Object.getOwnPropertyDescriptor,mz=Object.getOwnPropertyNames,_z=Object.prototype.hasOwnProperty,N=(e,t)=>ic(e,"name",{value:t,configurable:!0}),vz=(e,t)=>{for(var r in t)ic(e,r,{get:t[r],enumerable:!0})},hz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mz(t))!_z.call(e,o)&&o!==r&&ic(e,o,{get:()=>t[o],enumerable:!(n=gz(t,o))||n.enumerable});return e},yz=e=>hz(ic({},"__esModule",{value:!0}),e),ub={};vz(ub,{GetRoleCredentialsCommand:()=>Ub,GetRoleCredentialsRequestFilterSensitiveLog:()=>xb,GetRoleCredentialsResponseFilterSensitiveLog:()=>Ab,InvalidRequestException:()=>vb,ListAccountRolesCommand:()=>uf,ListAccountRolesRequestFilterSensitiveLog:()=>Tb,ListAccountsCommand:()=>pf,ListAccountsRequestFilterSensitiveLog:()=>Ib,LogoutCommand:()=>Gb,LogoutRequestFilterSensitiveLog:()=>Nb,ResourceNotFoundException:()=>Sb,RoleCredentialsFilterSensitiveLog:()=>Rb,SSO:()=>Wb,SSOClient:()=>ac,SSOServiceException:()=>dn,TooManyRequestsException:()=>Cb,UnauthorizedException:()=>Pb,__Client:()=>P.Client,paginateListAccountRoles:()=>Vz,paginateListAccounts:()=>Wz});zb.exports=yz(ub);var ib=Bn(),Sz=$n(),Ez=Gn(),sb=Wn(),wz=nt(),yt=(Qe(),D(_t)),Cz=uo(),Ho=cr(),ab=it(),cb=Fp(),Oz=N(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),sc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},bz=QO(),lb=qo(),db=K(),P=U(),Pz=N(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),xz=N(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),oc=N(e=>e,"asPartial"),Rz=N((e,t)=>{let r={...oc((0,lb.getAwsRegionExtensionConfiguration)(e)),...oc((0,P.getDefaultExtensionConfiguration)(e)),...oc((0,db.getHttpHandlerExtensionConfiguration)(e)),...oc(Pz(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,lb.resolveAwsRegionExtensionConfiguration)(r),...(0,P.resolveDefaultRuntimeConfig)(r),...(0,db.resolveHttpHandlerRuntimeConfig)(r),...xz(r)}},"resolveRuntimeExtensions"),pb=class extends P.Client{constructor(...[t]){let r=(0,bz.getRuntimeConfig)(t||{}),n=Oz(r),o=(0,sb.resolveUserAgentConfig)(n),i=(0,ab.resolveRetryConfig)(o),a=(0,wz.resolveRegionConfig)(i),s=(0,ib.resolveHostHeaderConfig)(a),c=(0,Ho.resolveEndpointConfig)(s),d=(0,cb.resolveHttpAuthSchemeConfig)(c),u=Rz(d,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,sb.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ab.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Cz.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ib.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Sz.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Ez.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,yt.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:cb.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new yt.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use((0,yt.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};N(pb,"SSOClient");var ac=pb,cc=ar(),fb=class gb extends P.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,gb.prototype)}};N(fb,"SSOServiceException");var dn=fb,mb=class _b extends dn{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,_b.prototype)}};N(mb,"InvalidRequestException");var vb=mb,hb=class yb extends dn{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,yb.prototype)}};N(hb,"ResourceNotFoundException");var Sb=hb,Eb=class wb extends dn{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,wb.prototype)}};N(Eb,"TooManyRequestsException");var Cb=Eb,Ob=class bb extends dn{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,bb.prototype)}};N(Ob,"UnauthorizedException");var Pb=Ob,xb=N(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),Rb=N(e=>({...e,...e.secretAccessKey&&{secretAccessKey:P.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:P.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),Ab=N(e=>({...e,...e.roleCredentials&&{roleCredentials:Rb(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),Tb=N(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),Ib=N(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),Nb=N(e=>({...e,...e.accessToken&&{accessToken:P.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Uo=(ie(),D(oe)),Az=N(async(e,t)=>{let r=(0,yt.requestBuilder)(e,t),n=(0,P.map)({},dc,{[pc]:e[uc]});r.bp("/federation/credentials");let o=(0,P.map)({[$z]:[,(0,P.expectNonNull)(e[Bz],"roleName")],[Db]:[,(0,P.expectNonNull)(e[Fb],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Tz=N(async(e,t)=>{let r=(0,yt.requestBuilder)(e,t),n=(0,P.map)({},dc,{[pc]:e[uc]});r.bp("/assignment/roles");let o=(0,P.map)({[jb]:[,e[Lb]],[Mb]:[()=>e.maxResults!==void 0,()=>e[kb].toString()],[Db]:[,(0,P.expectNonNull)(e[Fb],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),Iz=N(async(e,t)=>{let r=(0,yt.requestBuilder)(e,t),n=(0,P.map)({},dc,{[pc]:e[uc]});r.bp("/assignment/accounts");let o=(0,P.map)({[jb]:[,e[Lb]],[Mb]:[()=>e.maxResults!==void 0,()=>e[kb].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),Nz=N(async(e,t)=>{let r=(0,yt.requestBuilder)(e,t),n=(0,P.map)({},dc,{[pc]:e[uc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Fz=N(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,P.map)({$metadata:qt(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await(0,Uo.parseJsonBody)(e.body,t)),"body"),o=(0,P.take)(n,{roleCredentials:P._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),Dz=N(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,P.map)({$metadata:qt(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await(0,Uo.parseJsonBody)(e.body,t)),"body"),o=(0,P.take)(n,{nextToken:P.expectString,roleList:P._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),kz=N(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,P.map)({$metadata:qt(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await(0,Uo.parseJsonBody)(e.body,t)),"body"),o=(0,P.take)(n,{accountList:P._json,nextToken:P.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),Mz=N(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lc(e,t);let r=(0,P.map)({$metadata:qt(e)});return await(0,P.collectBody)(e.body,t),r},"de_LogoutCommand"),lc=N(async(e,t)=>{let r={...e,body:await(0,Uo.parseJsonErrorBody)(e.body,t)},n=(0,Uo.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await jz(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await qz(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Uz(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Hz(r,t);default:let o=r.body;return Lz({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),Lz=(0,P.withBaseException)(dn),jz=N(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new vb({$metadata:qt(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),qz=N(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new Sb({$metadata:qt(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),Uz=N(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new Cb({$metadata:qt(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_TooManyRequestsExceptionRes"),Hz=N(async(e,t)=>{let r=(0,P.map)({}),n=e.body,o=(0,P.take)(n,{message:P.expectString});Object.assign(r,o);let i=new Pb({$metadata:qt(e),...r});return(0,P.decorateServiceException)(i,e.body)},"de_UnauthorizedExceptionRes"),qt=N(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),dc=N(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),Fb="accountId",uc="accessToken",Db="account_id",kb="maxResults",Mb="max_result",Lb="nextToken",jb="next_token",Bz="roleName",$z="role_name",pc="x-amz-sso_bearer_token",qb=class extends P.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,cc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(xb,Ab).ser(Az).de(Fz).build(){};N(qb,"GetRoleCredentialsCommand");var Ub=qb,Hb=class extends P.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,cc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(Tb,void 0).ser(Tz).de(Dz).build(){};N(Hb,"ListAccountRolesCommand");var uf=Hb,Bb=class extends P.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,cc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(Ib,void 0).ser(Iz).de(kz).build(){};N(Bb,"ListAccountsCommand");var pf=Bb,$b=class extends P.Command.classBuilder().ep({...sc}).m(function(t,r,n,o){return[(0,cc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ho.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(Nb,void 0).ser(Nz).de(Mz).build(){};N($b,"LogoutCommand");var Gb=$b,Gz={GetRoleCredentialsCommand:Ub,ListAccountRolesCommand:uf,ListAccountsCommand:pf,LogoutCommand:Gb},Vb=class extends ac{};N(Vb,"SSO");var Wb=Vb;(0,P.createAggregatedClient)(Gz,Wb);var Vz=(0,yt.createPaginator)(ac,uf,"nextToken","nextToken","maxResults"),Wz=(0,yt.createPaginator)(ac,pf,"nextToken","nextToken","maxResults")});var gf=f(Ut=>{"use strict";l();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.resolveHttpAuthSchemeConfig=Ut.defaultSSOOIDCHttpAuthSchemeProvider=Ut.defaultSSOOIDCHttpAuthSchemeParametersProvider=void 0;var zz=(ie(),D(oe)),Jb=Ke(),Kz=async(e,t,r)=>({operation:(0,Jb.getSmithyContext)(t).operation,region:await(0,Jb.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ut.defaultSSOOIDCHttpAuthSchemeParametersProvider=Kz;function Jz(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ff(e){return{schemeId:"smithy.api#noAuth"}}var Yz=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(ff(e));break}case"RegisterClient":{t.push(ff(e));break}case"StartDeviceAuthorization":{t.push(ff(e));break}default:t.push(Jz(e))}return t};Ut.defaultSSOOIDCHttpAuthSchemeProvider=Yz;var Xz=e=>({...(0,zz.resolveAwsSdkSigV4Config)(e)});Ut.resolveHttpAuthSchemeConfig=Xz});var Yb=f((Ofe,Qz)=>{Qz.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.637.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso-oidc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.637.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",peerDependencies:{"@aws-sdk/client-sts":"^3.637.0"},browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var un=f(fc=>{"use strict";l();Object.defineProperty(fc,"__esModule",{value:!0});fc.getHomeDir=void 0;var Zz=S("os"),eK=S("path"),mf={},tK=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",rK=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${eK.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=tK();return mf[o]||(mf[o]=(0,Zz.homedir)()),mf[o]};fc.getHomeDir=rK});var _f=f(gc=>{"use strict";l();Object.defineProperty(gc,"__esModule",{value:!0});gc.getSSOTokenFilepath=void 0;var nK=S("crypto"),oK=S("path"),iK=un(),sK=e=>{let r=(0,nK.createHash)("sha1").update(e).digest("hex");return(0,oK.join)((0,iK.getHomeDir)(),".aws","sso","cache",`${r}.json`)};gc.getSSOTokenFilepath=sK});var Xb=f(mc=>{"use strict";l();Object.defineProperty(mc,"__esModule",{value:!0});mc.getSSOTokenFromFile=void 0;var aK=S("fs"),cK=_f(),{readFile:lK}=aK.promises,dK=async e=>{let t=(0,cK.getSSOTokenFilepath)(e),r=await lK(t,"utf8");return JSON.parse(r)};mc.getSSOTokenFromFile=dK});var hf=f(_c=>{"use strict";l();Object.defineProperty(_c,"__esModule",{value:!0});_c.slurpFile=void 0;var uK=S("fs"),{readFile:pK}=uK.promises,vf={},fK=(e,t)=>((!vf[e]||t?.ignoreCache)&&(vf[e]=pK(e,"utf8")),vf[e]);_c.slurpFile=fK});var oP=f((Ffe,$o)=>{l();var yc=Object.defineProperty,gK=Object.getOwnPropertyDescriptor,mK=Object.getOwnPropertyNames,_K=Object.prototype.hasOwnProperty,Fe=(e,t)=>yc(e,"name",{value:t,configurable:!0}),vK=(e,t)=>{for(var r in t)yc(e,r,{get:t[r],enumerable:!0})},yf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mK(t))!_K.call(e,o)&&o!==r&&yc(e,o,{get:()=>t[o],enumerable:!(n=gK(t,o))||n.enumerable});return e},Ef=(e,t,r)=>(yf(e,t,"default"),r&&yf(r,t,"default")),hK=e=>yf(yc({},"__esModule",{value:!0}),e),Bo={};vK(Bo,{CONFIG_PREFIX_SEPARATOR:()=>Er,DEFAULT_PROFILE:()=>tP,ENV_PROFILE:()=>eP,getProfileName:()=>yK,loadSharedConfigFiles:()=>nP,loadSsoSessionData:()=>NK,parseKnownFiles:()=>DK});$o.exports=hK(Bo);Ef(Bo,un(),$o.exports);var eP="AWS_PROFILE",tP="default",yK=Fe(e=>e.profile||process.env[eP]||tP,"getProfileName");Ef(Bo,_f(),$o.exports);Ef(Bo,Xb(),$o.exports);var vc=z(),SK=Fe(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Er);return r===-1?!1:Object.values(vc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Er),i=r.substring(0,o)===vc.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),hc=S("path"),EK=un(),wK="AWS_CONFIG_FILE",rP=Fe(()=>process.env[wK]||(0,hc.join)((0,EK.getHomeDir)(),".aws","config"),"getConfigFilepath"),CK=un(),OK="AWS_SHARED_CREDENTIALS_FILE",bK=Fe(()=>process.env[OK]||(0,hc.join)((0,CK.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),PK=un(),xK=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,RK=["__proto__","profile __proto__"],Sf=Fe(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=xK.exec(s);if(c){let[,d,,u]=c;Object.values(vc.IniSectionType).includes(d)&&(r=[d,u].join(Er))}else r=s;if(RK.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Er):c;t[r][u]=d}}}}return t},"parseIni"),Qb=hf(),Zb=Fe(()=>({}),"swallowError"),Er=".",nP=Fe(async(e={})=>{let{filepath:t=bK(),configFilepath:r=rP()}=e,n=(0,PK.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,hc.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,hc.join)(n,r.slice(2)));let s=await Promise.all([(0,Qb.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Sf).then(SK).catch(Zb),(0,Qb.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Sf).catch(Zb)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),AK=Fe(e=>Object.entries(e).filter(([t])=>t.startsWith(vc.IniSectionType.SSO_SESSION+Er)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Er)+1)]:n}),{}),"getSsoSessionData"),TK=hf(),IK=Fe(()=>({}),"swallowError"),NK=Fe(async(e={})=>(0,TK.slurpFile)(e.configFilepath??rP()).then(Sf).then(AK).catch(IK),"loadSsoSessionData"),FK=Fe((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),DK=Fe(async e=>{let t=await nP(e);return FK(t.configFile,t.credentialsFile)},"parseKnownFiles")});var cP=f((kfe,aP)=>{l();var Sc=Object.defineProperty,kK=Object.getOwnPropertyDescriptor,MK=Object.getOwnPropertyNames,LK=Object.prototype.hasOwnProperty,pn=(e,t)=>Sc(e,"name",{value:t,configurable:!0}),jK=(e,t)=>{for(var r in t)Sc(e,r,{get:t[r],enumerable:!0})},qK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MK(t))!LK.call(e,o)&&o!==r&&Sc(e,o,{get:()=>t[o],enumerable:!(n=kK(t,o))||n.enumerable});return e},UK=e=>qK(Sc({},"__esModule",{value:!0}),e),sP={};jK(sP,{loadConfig:()=>VK});aP.exports=UK(sP);var Go=J();function wf(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}pn(wf,"getSelectorName");var HK=pn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Go.CredentialsProviderError(r.message||`Not found in ENV: ${wf(e.toString())}`,{logger:t})}},"fromEnv"),iP=oP(),BK=pn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,iP.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,iP.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new Go.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${wf(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),$K=pn(e=>typeof e=="function","isFunction"),GK=pn(e=>$K(e)?async()=>await e():(0,Go.fromStatic)(e),"fromStatic"),VK=pn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,Go.memoize)((0,Go.chain)(HK(e),BK(t,n),GK(r))),"loadConfig")});var CP=f(Ec=>{"use strict";l();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.ruleSet=void 0;var yP="required",ke="fn",Me="argv",mn="ref",lP=!0,dP="isSet",Vo="booleanEquals",fn="error",gn="endpoint",St="tree",Cf="PartitionResult",Of="getAttr",uP={[yP]:!1,type:"String"},pP={[yP]:!0,default:!1,type:"Boolean"},fP={[mn]:"Endpoint"},SP={[ke]:Vo,[Me]:[{[mn]:"UseFIPS"},!0]},EP={[ke]:Vo,[Me]:[{[mn]:"UseDualStack"},!0]},De={},gP={[ke]:Of,[Me]:[{[mn]:Cf},"supportsFIPS"]},wP={[mn]:Cf},mP={[ke]:Vo,[Me]:[!0,{[ke]:Of,[Me]:[wP,"supportsDualStack"]}]},_P=[SP],vP=[EP],hP=[{[mn]:"Region"}],WK={version:"1.0",parameters:{Region:uP,UseDualStack:pP,UseFIPS:pP,Endpoint:uP},rules:[{conditions:[{[ke]:dP,[Me]:[fP]}],rules:[{conditions:_P,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:fn},{conditions:vP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:fn},{endpoint:{url:fP,properties:De,headers:De},type:gn}],type:St},{conditions:[{[ke]:dP,[Me]:hP}],rules:[{conditions:[{[ke]:"aws.partition",[Me]:hP,assign:Cf}],rules:[{conditions:[SP,EP],rules:[{conditions:[{[ke]:Vo,[Me]:[lP,gP]},mP],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:De,headers:De},type:gn}],type:St},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:fn}],type:St},{conditions:_P,rules:[{conditions:[{[ke]:Vo,[Me]:[gP,lP]}],rules:[{conditions:[{[ke]:"stringEquals",[Me]:[{[ke]:Of,[Me]:[wP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:De,headers:De},type:gn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:De,headers:De},type:gn}],type:St},{error:"FIPS is enabled but this partition does not support FIPS",type:fn}],type:St},{conditions:vP,rules:[{conditions:[mP],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:De,headers:De},type:gn}],type:St},{error:"DualStack is enabled but this partition does not support DualStack",type:fn}],type:St},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:De,headers:De},type:gn}],type:St}],type:St},{error:"Invalid Configuration: Missing Region",type:fn}]};Ec.ruleSet=WK});var bP=f(wc=>{"use strict";l();Object.defineProperty(wc,"__esModule",{value:!0});wc.defaultEndpointResolver=void 0;var zK=kr(),OP=Fr(),KK=CP(),JK=(e,t={})=>(0,OP.resolveEndpoint)(KK.ruleSet,{endpointParams:e,logger:t.logger});wc.defaultEndpointResolver=JK;OP.customEndpointFunctions.aws=zK.awsEndpointFunctions});var RP=f(Cc=>{"use strict";l();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.getRuntimeConfig=void 0;var YK=(ie(),D(oe)),XK=(Qe(),D(_t)),QK=U(),ZK=sr(),PP=Tt(),xP=ye(),e5=gf(),t5=bP(),r5=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??PP.fromBase64,base64Encoder:e?.base64Encoder??PP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??t5.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??e5.defaultSSOOIDCHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new YK.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new XK.NoAuthSigner}],logger:e?.logger??new QK.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??ZK.parseUrl,utf8Decoder:e?.utf8Decoder??xP.fromUtf8,utf8Encoder:e?.utf8Encoder??xP.toUtf8});Cc.getRuntimeConfig=r5});var IP=f(bc=>{"use strict";l();Object.defineProperty(bc,"__esModule",{value:!0});bc.getRuntimeConfig=void 0;var n5=(Lt(),D(Mt)),o5=n5.__importDefault(Yb()),i5=(ie(),D(oe)),s5=Pc(),a5=Po(),Oc=nt(),c5=xo(),AP=it(),Wo=cP(),TP=ur(),l5=Io(),d5=qr(),u5=RP(),p5=U(),f5=Lo(),g5=U(),m5=e=>{(0,g5.emitWarningIfUnsupportedVersion)(process.version);let t=(0,f5.resolveDefaultsModeConfig)(e),r=()=>t().then(p5.loadConfigsForDefaultMode),n=(0,u5.getRuntimeConfig)(e);return(0,i5.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??l5.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??s5.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,a5.defaultUserAgent)({serviceId:n.serviceId,clientVersion:o5.default.version}),maxAttempts:e?.maxAttempts??(0,Wo.loadConfig)(AP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Wo.loadConfig)(Oc.NODE_REGION_CONFIG_OPTIONS,Oc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:TP.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Wo.loadConfig)({...AP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||d5.DEFAULT_RETRY_MODE}),sha256:e?.sha256??c5.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??TP.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Wo.loadConfig)(Oc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Wo.loadConfig)(Oc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};bc.getRuntimeConfig=m5});var bf=f((Xfe,zx)=>{"use strict";l();var Rc=Object.defineProperty,_5=Object.getOwnPropertyDescriptor,v5=Object.getOwnPropertyNames,h5=Object.prototype.hasOwnProperty,T=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),y5=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},S5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of v5(t))!h5.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=_5(t,o))||n.enumerable});return e},E5=e=>S5(Rc({},"__esModule",{value:!0}),e),jP={};y5(jP,{AccessDeniedException:()=>VP,AuthorizationPendingException:()=>KP,CreateTokenCommand:()=>jx,CreateTokenRequestFilterSensitiveLog:()=>Ix,CreateTokenResponseFilterSensitiveLog:()=>Nx,CreateTokenWithIAMCommand:()=>Ux,CreateTokenWithIAMRequestFilterSensitiveLog:()=>Fx,CreateTokenWithIAMResponseFilterSensitiveLog:()=>Dx,ExpiredTokenException:()=>XP,InternalServerException:()=>ex,InvalidClientException:()=>nx,InvalidClientMetadataException:()=>xx,InvalidGrantException:()=>sx,InvalidRedirectUriException:()=>Tx,InvalidRequestException:()=>lx,InvalidRequestRegionException:()=>Ox,InvalidScopeException:()=>px,RegisterClientCommand:()=>Bx,RegisterClientResponseFilterSensitiveLog:()=>kx,SSOOIDC:()=>Wx,SSOOIDCClient:()=>UP,SSOOIDCServiceException:()=>le,SlowDownException:()=>mx,StartDeviceAuthorizationCommand:()=>Gx,StartDeviceAuthorizationRequestFilterSensitiveLog:()=>Mx,UnauthorizedClientException:()=>hx,UnsupportedGrantTypeException:()=>Ex,__Client:()=>v.Client});zx.exports=E5(jP);var NP=Bn(),w5=$n(),C5=Gn(),FP=Wn(),O5=nt(),wr=(Qe(),D(_t)),b5=uo(),zo=cr(),DP=it(),kP=gf(),P5=T(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),"resolveClientEndpointParameters"),Ac={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},x5=IP(),MP=qo(),LP=K(),v=U(),R5=T(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),A5=T(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),xc=T(e=>e,"asPartial"),T5=T((e,t)=>{let r={...xc((0,MP.getAwsRegionExtensionConfiguration)(e)),...xc((0,v.getDefaultExtensionConfiguration)(e)),...xc((0,LP.getHttpHandlerExtensionConfiguration)(e)),...xc(R5(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,MP.resolveAwsRegionExtensionConfiguration)(r),...(0,v.resolveDefaultRuntimeConfig)(r),...(0,LP.resolveHttpHandlerRuntimeConfig)(r),...A5(r)}},"resolveRuntimeExtensions"),qP=class extends v.Client{constructor(...[t]){let r=(0,x5.getRuntimeConfig)(t||{}),n=P5(r),o=(0,FP.resolveUserAgentConfig)(n),i=(0,DP.resolveRetryConfig)(o),a=(0,O5.resolveRegionConfig)(i),s=(0,NP.resolveHostHeaderConfig)(a),c=(0,zo.resolveEndpointConfig)(s),d=(0,kP.resolveHttpAuthSchemeConfig)(c),u=T5(d,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,FP.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,DP.getRetryPlugin)(this.config)),this.middlewareStack.use((0,b5.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,NP.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,w5.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,C5.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,wr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:kP.defaultSSOOIDCHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new wr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use((0,wr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};T(qP,"SSOOIDCClient");var UP=qP,Tc=ar(),HP=class BP extends v.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,BP.prototype)}};T(HP,"SSOOIDCServiceException");var le=HP,$P=class GP extends le{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,GP.prototype),this.error=t.error,this.error_description=t.error_description}};T($P,"AccessDeniedException");var VP=$P,WP=class zP extends le{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,zP.prototype),this.error=t.error,this.error_description=t.error_description}};T(WP,"AuthorizationPendingException");var KP=WP,JP=class YP extends le{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,YP.prototype),this.error=t.error,this.error_description=t.error_description}};T(JP,"ExpiredTokenException");var XP=JP,QP=class ZP extends le{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,ZP.prototype),this.error=t.error,this.error_description=t.error_description}};T(QP,"InternalServerException");var ex=QP,tx=class rx extends le{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,rx.prototype),this.error=t.error,this.error_description=t.error_description}};T(tx,"InvalidClientException");var nx=tx,ox=class ix extends le{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,ix.prototype),this.error=t.error,this.error_description=t.error_description}};T(ox,"InvalidGrantException");var sx=ox,ax=class cx extends le{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,cx.prototype),this.error=t.error,this.error_description=t.error_description}};T(ax,"InvalidRequestException");var lx=ax,dx=class ux extends le{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,ux.prototype),this.error=t.error,this.error_description=t.error_description}};T(dx,"InvalidScopeException");var px=dx,fx=class gx extends le{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,gx.prototype),this.error=t.error,this.error_description=t.error_description}};T(fx,"SlowDownException");var mx=fx,_x=class vx extends le{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,vx.prototype),this.error=t.error,this.error_description=t.error_description}};T(_x,"UnauthorizedClientException");var hx=_x,yx=class Sx extends le{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Sx.prototype),this.error=t.error,this.error_description=t.error_description}};T(yx,"UnsupportedGrantTypeException");var Ex=yx,wx=class Cx extends le{constructor(t){super({name:"InvalidRequestRegionException",$fault:"client",...t}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,Cx.prototype),this.error=t.error,this.error_description=t.error_description,this.endpoint=t.endpoint,this.region=t.region}};T(wx,"InvalidRequestRegionException");var Ox=wx,bx=class Px extends le{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Px.prototype),this.error=t.error,this.error_description=t.error_description}};T(bx,"InvalidClientMetadataException");var xx=bx,Rx=class Ax extends le{constructor(t){super({name:"InvalidRedirectUriException",$fault:"client",...t}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,Ax.prototype),this.error=t.error,this.error_description=t.error_description}};T(Rx,"InvalidRedirectUriException");var Tx=Rx,Ix=T(e=>({...e,...e.clientSecret&&{clientSecret:v.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:v.SENSITIVE_STRING}}),"CreateTokenRequestFilterSensitiveLog"),Nx=T(e=>({...e,...e.accessToken&&{accessToken:v.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.idToken&&{idToken:v.SENSITIVE_STRING}}),"CreateTokenResponseFilterSensitiveLog"),Fx=T(e=>({...e,...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.assertion&&{assertion:v.SENSITIVE_STRING},...e.subjectToken&&{subjectToken:v.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:v.SENSITIVE_STRING}}),"CreateTokenWithIAMRequestFilterSensitiveLog"),Dx=T(e=>({...e,...e.accessToken&&{accessToken:v.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:v.SENSITIVE_STRING},...e.idToken&&{idToken:v.SENSITIVE_STRING}}),"CreateTokenWithIAMResponseFilterSensitiveLog"),kx=T(e=>({...e,...e.clientSecret&&{clientSecret:v.SENSITIVE_STRING}}),"RegisterClientResponseFilterSensitiveLog"),Mx=T(e=>({...e,...e.clientSecret&&{clientSecret:v.SENSITIVE_STRING}}),"StartDeviceAuthorizationRequestFilterSensitiveLog"),_n=(ie(),D(oe)),I5=T(async(e,t)=>{let r=(0,wr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,v.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,v._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_CreateTokenCommand"),N5=T(async(e,t)=>{let r=(0,wr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/token");let o=(0,v.map)({[e9]:[,"t"]}),i;return i=JSON.stringify((0,v.take)(e,{assertion:[],clientId:[],code:[],codeVerifier:[],grantType:[],redirectUri:[],refreshToken:[],requestedTokenType:[],scope:a=>(0,v._json)(a),subjectToken:[],subjectTokenType:[]})),r.m("POST").h(n).q(o).b(i),r.build()},"se_CreateTokenWithIAMCommand"),F5=T(async(e,t)=>{let r=(0,wr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/client/register");let o;return o=JSON.stringify((0,v.take)(e,{clientName:[],clientType:[],entitledApplicationArn:[],grantTypes:i=>(0,v._json)(i),issuerUrl:[],redirectUris:i=>(0,v._json)(i),scopes:i=>(0,v._json)(i)})),r.m("POST").h(n).b(o),r.build()},"se_RegisterClientCommand"),D5=T(async(e,t)=>{let r=(0,wr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/device_authorization");let o;return o=JSON.stringify((0,v.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),r.m("POST").h(n).b(o),r.build()},"se_StartDeviceAuthorizationCommand"),k5=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,v.map)({$metadata:re(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,_n.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{accessToken:v.expectString,expiresIn:v.expectInt32,idToken:v.expectString,refreshToken:v.expectString,tokenType:v.expectString});return Object.assign(r,o),r},"de_CreateTokenCommand"),M5=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,v.map)({$metadata:re(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,_n.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{accessToken:v.expectString,expiresIn:v.expectInt32,idToken:v.expectString,issuedTokenType:v.expectString,refreshToken:v.expectString,scope:v._json,tokenType:v.expectString});return Object.assign(r,o),r},"de_CreateTokenWithIAMCommand"),L5=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,v.map)({$metadata:re(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,_n.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{authorizationEndpoint:v.expectString,clientId:v.expectString,clientIdIssuedAt:v.expectLong,clientSecret:v.expectString,clientSecretExpiresAt:v.expectLong,tokenEndpoint:v.expectString});return Object.assign(r,o),r},"de_RegisterClientCommand"),j5=T(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ic(e,t);let r=(0,v.map)({$metadata:re(e)}),n=(0,v.expectNonNull)((0,v.expectObject)(await(0,_n.parseJsonBody)(e.body,t)),"body"),o=(0,v.take)(n,{deviceCode:v.expectString,expiresIn:v.expectInt32,interval:v.expectInt32,userCode:v.expectString,verificationUri:v.expectString,verificationUriComplete:v.expectString});return Object.assign(r,o),r},"de_StartDeviceAuthorizationCommand"),Ic=T(async(e,t)=>{let r={...e,body:await(0,_n.parseJsonErrorBody)(e.body,t)},n=(0,_n.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await U5(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await H5(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await B5(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await $5(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await G5(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await W5(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await K5(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Y5(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await X5(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Q5(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Z5(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await J5(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await V5(r,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await z5(r,t);default:let o=r.body;return q5({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),q5=(0,v.withBaseException)(le),U5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new VP({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),H5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new KP({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_AuthorizationPendingExceptionRes"),B5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new XP({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_ExpiredTokenExceptionRes"),$5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new ex({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),G5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new nx({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InvalidClientExceptionRes"),V5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new xx({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InvalidClientMetadataExceptionRes"),W5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new sx({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InvalidGrantExceptionRes"),z5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new Tx({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InvalidRedirectUriExceptionRes"),K5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new lx({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InvalidRequestExceptionRes"),J5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{endpoint:v.expectString,error:v.expectString,error_description:v.expectString,region:v.expectString});Object.assign(r,o);let i=new Ox({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InvalidRequestRegionExceptionRes"),Y5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new px({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_InvalidScopeExceptionRes"),X5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new mx({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_SlowDownExceptionRes"),Q5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new hx({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_UnauthorizedClientExceptionRes"),Z5=T(async(e,t)=>{let r=(0,v.map)({}),n=e.body,o=(0,v.take)(n,{error:v.expectString,error_description:v.expectString});Object.assign(r,o);let i=new Ex({$metadata:re(e),...r});return(0,v.decorateServiceException)(i,e.body)},"de_UnsupportedGrantTypeExceptionRes"),re=T(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),e9="aws_iam",Lx=class extends v.Command.classBuilder().ep({...Ac}).m(function(t,r,n,o){return[(0,Tc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Ix,Nx).ser(I5).de(k5).build(){};T(Lx,"CreateTokenCommand");var jx=Lx,qx=class extends v.Command.classBuilder().ep({...Ac}).m(function(t,r,n,o){return[(0,Tc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateTokenWithIAM",{}).n("SSOOIDCClient","CreateTokenWithIAMCommand").f(Fx,Dx).ser(N5).de(M5).build(){};T(qx,"CreateTokenWithIAMCommand");var Ux=qx,Hx=class extends v.Command.classBuilder().ep({...Ac}).m(function(t,r,n,o){return[(0,Tc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","RegisterClient",{}).n("SSOOIDCClient","RegisterClientCommand").f(void 0,kx).ser(F5).de(L5).build(){};T(Hx,"RegisterClientCommand");var Bx=Hx,$x=class extends v.Command.classBuilder().ep({...Ac}).m(function(t,r,n,o){return[(0,Tc.getSerdePlugin)(n,this.serialize,this.deserialize),(0,zo.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","StartDeviceAuthorization",{}).n("SSOOIDCClient","StartDeviceAuthorizationCommand").f(Mx,void 0).ser(D5).de(j5).build(){};T($x,"StartDeviceAuthorizationCommand");var Gx=$x,t9={CreateTokenCommand:jx,CreateTokenWithIAMCommand:Ux,RegisterClientCommand:Bx,StartDeviceAuthorizationCommand:Gx},Vx=class extends UP{};T(Vx,"SSOOIDC");var Wx=Vx;(0,v.createAggregatedClient)(t9,Wx)});var vn=f(Nc=>{"use strict";l();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.getHomeDir=void 0;var r9=S("os"),n9=S("path"),Pf={},o9=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",i9=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${n9.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=o9();return Pf[o]||(Pf[o]=(0,r9.homedir)()),Pf[o]};Nc.getHomeDir=i9});var xf=f(Fc=>{"use strict";l();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.getSSOTokenFilepath=void 0;var s9=S("crypto"),a9=S("path"),c9=vn(),l9=e=>{let r=(0,s9.createHash)("sha1").update(e).digest("hex");return(0,a9.join)((0,c9.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Fc.getSSOTokenFilepath=l9});var Kx=f(Dc=>{"use strict";l();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.getSSOTokenFromFile=void 0;var d9=S("fs"),u9=xf(),{readFile:p9}=d9.promises,f9=async e=>{let t=(0,u9.getSSOTokenFilepath)(e),r=await p9(t,"utf8");return JSON.parse(r)};Dc.getSSOTokenFromFile=f9});var Af=f(kc=>{"use strict";l();Object.defineProperty(kc,"__esModule",{value:!0});kc.slurpFile=void 0;var g9=S("fs"),{readFile:m9}=g9.promises,Rf={},_9=(e,t)=>((!Rf[e]||t?.ignoreCache)&&(Rf[e]=m9(e,"utf8")),Rf[e]);kc.slurpFile=_9});var tR=f((age,Jo)=>{l();var jc=Object.defineProperty,v9=Object.getOwnPropertyDescriptor,h9=Object.getOwnPropertyNames,y9=Object.prototype.hasOwnProperty,Le=(e,t)=>jc(e,"name",{value:t,configurable:!0}),S9=(e,t)=>{for(var r in t)jc(e,r,{get:t[r],enumerable:!0})},Tf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of h9(t))!y9.call(e,o)&&o!==r&&jc(e,o,{get:()=>t[o],enumerable:!(n=v9(t,o))||n.enumerable});return e},Nf=(e,t,r)=>(Tf(e,t,"default"),r&&Tf(r,t,"default")),E9=e=>Tf(jc({},"__esModule",{value:!0}),e),Ko={};S9(Ko,{CONFIG_PREFIX_SEPARATOR:()=>Cr,DEFAULT_PROFILE:()=>Qx,ENV_PROFILE:()=>Xx,getProfileName:()=>w9,loadSharedConfigFiles:()=>eR,loadSsoSessionData:()=>k9,parseKnownFiles:()=>L9});Jo.exports=E9(Ko);Nf(Ko,vn(),Jo.exports);var Xx="AWS_PROFILE",Qx="default",w9=Le(e=>e.profile||process.env[Xx]||Qx,"getProfileName");Nf(Ko,xf(),Jo.exports);Nf(Ko,Kx(),Jo.exports);var Mc=z(),C9=Le(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Cr);return r===-1?!1:Object.values(Mc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Cr),i=r.substring(0,o)===Mc.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Lc=S("path"),O9=vn(),b9="AWS_CONFIG_FILE",Zx=Le(()=>process.env[b9]||(0,Lc.join)((0,O9.getHomeDir)(),".aws","config"),"getConfigFilepath"),P9=vn(),x9="AWS_SHARED_CREDENTIALS_FILE",R9=Le(()=>process.env[x9]||(0,Lc.join)((0,P9.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),A9=vn(),T9=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,I9=["__proto__","profile __proto__"],If=Le(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=T9.exec(s);if(c){let[,d,,u]=c;Object.values(Mc.IniSectionType).includes(d)&&(r=[d,u].join(Cr))}else r=s;if(I9.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Cr):c;t[r][u]=d}}}}return t},"parseIni"),Jx=Af(),Yx=Le(()=>({}),"swallowError"),Cr=".",eR=Le(async(e={})=>{let{filepath:t=R9(),configFilepath:r=Zx()}=e,n=(0,A9.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Lc.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Lc.join)(n,r.slice(2)));let s=await Promise.all([(0,Jx.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(If).then(C9).catch(Yx),(0,Jx.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(If).catch(Yx)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),N9=Le(e=>Object.entries(e).filter(([t])=>t.startsWith(Mc.IniSectionType.SSO_SESSION+Cr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Cr)+1)]:n}),{}),"getSsoSessionData"),F9=Af(),D9=Le(()=>({}),"swallowError"),k9=Le(async(e={})=>(0,F9.slurpFile)(e.configFilepath??Zx()).then(If).then(N9).catch(D9),"loadSsoSessionData"),M9=Le((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),L9=Le(async e=>{let t=await eR(e);return M9(t.configFile,t.credentialsFile)},"parseKnownFiles")});var lR=f((lge,cR)=>{"use strict";l();var j9=Object.create,Xo=Object.defineProperty,q9=Object.getOwnPropertyDescriptor,U9=Object.getOwnPropertyNames,H9=Object.getPrototypeOf,B9=Object.prototype.hasOwnProperty,Ht=(e,t)=>Xo(e,"name",{value:t,configurable:!0}),$9=(e,t)=>{for(var r in t)Xo(e,r,{get:t[r],enumerable:!0})},oR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U9(t))!B9.call(e,o)&&o!==r&&Xo(e,o,{get:()=>t[o],enumerable:!(n=q9(t,o))||n.enumerable});return e},iR=(e,t,r)=>(r=e!=null?j9(H9(e)):{},oR(t||!e||!e.__esModule?Xo(r,"default",{value:e,enumerable:!0}):r,e)),G9=e=>oR(Xo({},"__esModule",{value:!0}),e),sR={};$9(sR,{fromSso:()=>aR,fromStatic:()=>X9,nodeProvider:()=>Q9});cR.exports=G9(sR);var V9=5*60*1e3,Df="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Ff={},W9=Ht(async e=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>iR(bf()));if(Ff[e])return Ff[e];let r=new t({region:e});return Ff[e]=r,r},"getSsoOidcClient"),z9=Ht(async(e,t)=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>iR(bf()));return(await W9(t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Ze=J(),rR=Ht(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Ze.TokenProviderError(`Token is expired. ${Df}`,!1)},"validateTokenExpiry"),Or=Ht((e,t,r=!1)=>{if(typeof t>"u")throw new Ze.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Df}`,!1)},"validateTokenKey"),Yo=tR(),K9=S("fs"),{writeFile:J9}=K9.promises,Y9=Ht((e,t)=>{let r=(0,Yo.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return J9(r,n)},"writeSSOTokenToFile"),nR=new Date(0),aR=Ht((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/token-providers - fromSso");let r=await(0,Yo.parseKnownFiles)(e),n=(0,Yo.getProfileName)(e),o=r[n];if(o){if(!o.sso_session)throw new Ze.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Ze.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let i=o.sso_session,s=(await(0,Yo.loadSsoSessionData)(e))[i];if(!s)throw new Ze.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!s[h])throw new Ze.TokenProviderError(`Sso session '${i}' is missing required property '${h}'.`,!1);let c=s.sso_start_url,d=s.sso_region,u;try{u=await(0,Yo.getSSOTokenFromFile)(i)}catch{throw new Ze.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${Df}`,!1)}Or("accessToken",u.accessToken),Or("expiresAt",u.expiresAt);let{accessToken:p,expiresAt:m}=u,g={token:p,expiration:new Date(m)};if(g.expiration.getTime()-Date.now()>V9)return g;if(Date.now()-nR.getTime()<30*1e3)return rR(g),g;Or("clientId",u.clientId,!0),Or("clientSecret",u.clientSecret,!0),Or("refreshToken",u.refreshToken,!0);try{nR.setTime(Date.now());let h=await z9(u,d);Or("accessToken",h.accessToken),Or("expiresIn",h.expiresIn);let C=new Date(Date.now()+h.expiresIn*1e3);try{await Y9(i,{...u,accessToken:h.accessToken,expiresAt:C.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:C}}catch{return rR(g),g}},"fromSso"),X9=Ht(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Ze.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),Q9=Ht((e={})=>(0,Ze.memoize)((0,Ze.chain)(aR(e),async()=>{throw new Ze.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var hn=f(qc=>{"use strict";l();Object.defineProperty(qc,"__esModule",{value:!0});qc.getHomeDir=void 0;var Z9=S("os"),e7=S("path"),kf={},t7=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",r7=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${e7.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=t7();return kf[o]||(kf[o]=(0,Z9.homedir)()),kf[o]};qc.getHomeDir=r7});var Mf=f(Uc=>{"use strict";l();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.getSSOTokenFilepath=void 0;var n7=S("crypto"),o7=S("path"),i7=hn(),s7=e=>{let r=(0,n7.createHash)("sha1").update(e).digest("hex");return(0,o7.join)((0,i7.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Uc.getSSOTokenFilepath=s7});var dR=f(Hc=>{"use strict";l();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.getSSOTokenFromFile=void 0;var a7=S("fs"),c7=Mf(),{readFile:l7}=a7.promises,d7=async e=>{let t=(0,c7.getSSOTokenFilepath)(e),r=await l7(t,"utf8");return JSON.parse(r)};Hc.getSSOTokenFromFile=d7});var jf=f(Bc=>{"use strict";l();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.slurpFile=void 0;var u7=S("fs"),{readFile:p7}=u7.promises,Lf={},f7=(e,t)=>((!Lf[e]||t?.ignoreCache)&&(Lf[e]=p7(e,"utf8")),Lf[e]);Bc.slurpFile=f7});var vR=f((yge,Zo)=>{l();var Vc=Object.defineProperty,g7=Object.getOwnPropertyDescriptor,m7=Object.getOwnPropertyNames,_7=Object.prototype.hasOwnProperty,je=(e,t)=>Vc(e,"name",{value:t,configurable:!0}),v7=(e,t)=>{for(var r in t)Vc(e,r,{get:t[r],enumerable:!0})},qf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of m7(t))!_7.call(e,o)&&o!==r&&Vc(e,o,{get:()=>t[o],enumerable:!(n=g7(t,o))||n.enumerable});return e},Hf=(e,t,r)=>(qf(e,t,"default"),r&&qf(r,t,"default")),h7=e=>qf(Vc({},"__esModule",{value:!0}),e),Qo={};v7(Qo,{CONFIG_PREFIX_SEPARATOR:()=>br,DEFAULT_PROFILE:()=>gR,ENV_PROFILE:()=>fR,getProfileName:()=>y7,loadSharedConfigFiles:()=>_R,loadSsoSessionData:()=>N7,parseKnownFiles:()=>D7});Zo.exports=h7(Qo);Hf(Qo,hn(),Zo.exports);var fR="AWS_PROFILE",gR="default",y7=je(e=>e.profile||process.env[fR]||gR,"getProfileName");Hf(Qo,Mf(),Zo.exports);Hf(Qo,dR(),Zo.exports);var $c=z(),S7=je(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(br);return r===-1?!1:Object.values($c.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(br),i=r.substring(0,o)===$c.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Gc=S("path"),E7=hn(),w7="AWS_CONFIG_FILE",mR=je(()=>process.env[w7]||(0,Gc.join)((0,E7.getHomeDir)(),".aws","config"),"getConfigFilepath"),C7=hn(),O7="AWS_SHARED_CREDENTIALS_FILE",b7=je(()=>process.env[O7]||(0,Gc.join)((0,C7.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),P7=hn(),x7=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,R7=["__proto__","profile __proto__"],Uf=je(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=x7.exec(s);if(c){let[,d,,u]=c;Object.values($c.IniSectionType).includes(d)&&(r=[d,u].join(br))}else r=s;if(R7.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(br):c;t[r][u]=d}}}}return t},"parseIni"),uR=jf(),pR=je(()=>({}),"swallowError"),br=".",_R=je(async(e={})=>{let{filepath:t=b7(),configFilepath:r=mR()}=e,n=(0,P7.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Gc.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Gc.join)(n,r.slice(2)));let s=await Promise.all([(0,uR.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Uf).then(S7).catch(pR),(0,uR.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Uf).catch(pR)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),A7=je(e=>Object.entries(e).filter(([t])=>t.startsWith($c.IniSectionType.SSO_SESSION+br)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(br)+1)]:n}),{}),"getSsoSessionData"),T7=jf(),I7=je(()=>({}),"swallowError"),N7=je(async(e={})=>(0,T7.slurpFile)(e.configFilepath??mR()).then(Uf).then(A7).catch(I7),"loadSsoSessionData"),F7=je((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),D7=je(async e=>{let t=await _R(e);return F7(t.configFile,t.credentialsFile)},"parseKnownFiles")});var $f=f((Ege,bR)=>{"use strict";l();var zc=Object.defineProperty,k7=Object.getOwnPropertyDescriptor,yR=Object.getOwnPropertyNames,M7=Object.prototype.hasOwnProperty,Kc=(e,t)=>zc(e,"name",{value:t,configurable:!0}),L7=(e,t)=>function(){return e&&(t=(0,e[yR(e)[0]])(e=0)),t},SR=(e,t)=>{for(var r in t)zc(e,r,{get:t[r],enumerable:!0})},j7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yR(t))!M7.call(e,o)&&o!==r&&zc(e,o,{get:()=>t[o],enumerable:!(n=k7(t,o))||n.enumerable});return e},q7=e=>j7(zc({},"__esModule",{value:!0}),e),ER={};SR(ER,{GetRoleCredentialsCommand:()=>Bf.GetRoleCredentialsCommand,SSOClient:()=>Bf.SSOClient});var Bf,U7=L7({"src/loadSso.ts"(){"use strict";Bf=Kb()}}),wR={};SR(wR,{fromSSO:()=>B7,isSsoProfile:()=>CR,validateSsoProfile:()=>OR});bR.exports=q7(wR);var CR=Kc(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),H7=lR(),et=J(),Wc=vR(),ei=!1,hR=Kc(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:i,clientConfig:a,profile:s,logger:c})=>{let d,u="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ce=await(0,H7.fromSso)({profile:s})();d={accessToken:ce.token,expiresAt:new Date(ce.expiration).toISOString()}}catch(ce){throw new et.CredentialsProviderError(ce.message,{tryNextLink:ei,logger:c})}else try{d=await(0,Wc.getSSOTokenFromFile)(e)}catch{throw new et.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${u}`,{tryNextLink:ei,logger:c})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new et.CredentialsProviderError(`The SSO session associated with this profile has expired. ${u}`,{tryNextLink:ei,logger:c});let{accessToken:p}=d,{SSOClient:m,GetRoleCredentialsCommand:g}=await Promise.resolve().then(()=>(U7(),ER)),h=i||new m(Object.assign({},a??{},{region:a?.region??n})),C;try{C=await h.send(new g({accountId:r,roleName:o,accessToken:p}))}catch(ce){throw new et.CredentialsProviderError(ce,{tryNextLink:ei,logger:c})}let{roleCredentials:{accessKeyId:w,secretAccessKey:b,sessionToken:R,expiration:F,credentialScope:L,accountId:Q}={}}=C;if(!w||!b||!R||!F)throw new et.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ei,logger:c});return{accessKeyId:w,secretAccessKey:b,sessionToken:R,expiration:new Date(F),...L&&{credentialScope:L},...Q&&{accountId:Q}}},"resolveSSOCredentials"),OR=Kc((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:i}=e;if(!r||!n||!o||!i)throw new et.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),B7=Kc((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:a}=e,{ssoClient:s}=e,c=(0,Wc.getProfileName)(e);if(!r&&!n&&!o&&!i&&!a){let u=(await(0,Wc.parseKnownFiles)(e))[c];if(!u)throw new et.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!CR(u))throw new et.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(u?.sso_session){let b=(await(0,Wc.loadSsoSessionData)(e))[u.sso_session],R=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(o&&o!==b.sso_region)throw new et.CredentialsProviderError("Conflicting SSO region"+R,{tryNextLink:!1,logger:e.logger});if(r&&r!==b.sso_start_url)throw new et.CredentialsProviderError("Conflicting SSO start_url"+R,{tryNextLink:!1,logger:e.logger});u.sso_region=b.sso_region,u.sso_start_url=b.sso_start_url}let{sso_start_url:p,sso_account_id:m,sso_region:g,sso_role_name:h,sso_session:C}=OR(u,e.logger);return hR({ssoStartUrl:p,ssoSession:C,ssoAccountId:m,ssoRegion:g,ssoRoleName:h,ssoClient:s,clientConfig:e.clientConfig,profile:c})}else{if(!r||!n||!o||!i)throw new et.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return hR({ssoStartUrl:r,ssoSession:a,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoClient:s,clientConfig:e.clientConfig,profile:c})}},"fromSSO")});var yn=f(Jc=>{"use strict";l();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.getHomeDir=void 0;var $7=S("os"),G7=S("path"),Gf={},V7=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",W7=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${G7.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=V7();return Gf[o]||(Gf[o]=(0,$7.homedir)()),Gf[o]};Jc.getHomeDir=W7});var Vf=f(Yc=>{"use strict";l();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.getSSOTokenFilepath=void 0;var z7=S("crypto"),K7=S("path"),J7=yn(),Y7=e=>{let r=(0,z7.createHash)("sha1").update(e).digest("hex");return(0,K7.join)((0,J7.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Yc.getSSOTokenFilepath=Y7});var PR=f(Xc=>{"use strict";l();Object.defineProperty(Xc,"__esModule",{value:!0});Xc.getSSOTokenFromFile=void 0;var X7=S("fs"),Q7=Vf(),{readFile:Z7}=X7.promises,eJ=async e=>{let t=(0,Q7.getSSOTokenFilepath)(e),r=await Z7(t,"utf8");return JSON.parse(r)};Xc.getSSOTokenFromFile=eJ});var zf=f(Qc=>{"use strict";l();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.slurpFile=void 0;var tJ=S("fs"),{readFile:rJ}=tJ.promises,Wf={},nJ=(e,t)=>((!Wf[e]||t?.ignoreCache)&&(Wf[e]=rJ(e,"utf8")),Wf[e]);Qc.slurpFile=nJ});var FR=f((Ige,ri)=>{l();var tl=Object.defineProperty,oJ=Object.getOwnPropertyDescriptor,iJ=Object.getOwnPropertyNames,sJ=Object.prototype.hasOwnProperty,qe=(e,t)=>tl(e,"name",{value:t,configurable:!0}),aJ=(e,t)=>{for(var r in t)tl(e,r,{get:t[r],enumerable:!0})},Kf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iJ(t))!sJ.call(e,o)&&o!==r&&tl(e,o,{get:()=>t[o],enumerable:!(n=oJ(t,o))||n.enumerable});return e},Yf=(e,t,r)=>(Kf(e,t,"default"),r&&Kf(r,t,"default")),cJ=e=>Kf(tl({},"__esModule",{value:!0}),e),ti={};aJ(ti,{CONFIG_PREFIX_SEPARATOR:()=>Pr,DEFAULT_PROFILE:()=>TR,ENV_PROFILE:()=>AR,getProfileName:()=>lJ,loadSharedConfigFiles:()=>NR,loadSsoSessionData:()=>wJ,parseKnownFiles:()=>OJ});ri.exports=cJ(ti);Yf(ti,yn(),ri.exports);var AR="AWS_PROFILE",TR="default",lJ=qe(e=>e.profile||process.env[AR]||TR,"getProfileName");Yf(ti,Vf(),ri.exports);Yf(ti,PR(),ri.exports);var Zc=z(),dJ=qe(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Pr);return r===-1?!1:Object.values(Zc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Pr),i=r.substring(0,o)===Zc.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),el=S("path"),uJ=yn(),pJ="AWS_CONFIG_FILE",IR=qe(()=>process.env[pJ]||(0,el.join)((0,uJ.getHomeDir)(),".aws","config"),"getConfigFilepath"),fJ=yn(),gJ="AWS_SHARED_CREDENTIALS_FILE",mJ=qe(()=>process.env[gJ]||(0,el.join)((0,fJ.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),_J=yn(),vJ=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,hJ=["__proto__","profile __proto__"],Jf=qe(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=vJ.exec(s);if(c){let[,d,,u]=c;Object.values(Zc.IniSectionType).includes(d)&&(r=[d,u].join(Pr))}else r=s;if(hJ.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Pr):c;t[r][u]=d}}}}return t},"parseIni"),xR=zf(),RR=qe(()=>({}),"swallowError"),Pr=".",NR=qe(async(e={})=>{let{filepath:t=mJ(),configFilepath:r=IR()}=e,n=(0,_J.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,el.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,el.join)(n,r.slice(2)));let s=await Promise.all([(0,xR.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Jf).then(dJ).catch(RR),(0,xR.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Jf).catch(RR)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),yJ=qe(e=>Object.entries(e).filter(([t])=>t.startsWith(Zc.IniSectionType.SSO_SESSION+Pr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Pr)+1)]:n}),{}),"getSsoSessionData"),SJ=zf(),EJ=qe(()=>({}),"swallowError"),wJ=qe(async(e={})=>(0,SJ.slurpFile)(e.configFilepath??IR()).then(Jf).then(yJ).catch(EJ),"loadSsoSessionData"),CJ=qe((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),OJ=qe(async e=>{let t=await NR(e);return CJ(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Xf=f(tt=>{"use strict";l();Object.defineProperty(tt,"__esModule",{value:!0});tt.resolveHttpAuthSchemeConfig=tt.resolveStsAuthConfig=tt.defaultSTSHttpAuthSchemeProvider=tt.defaultSTSHttpAuthSchemeParametersProvider=void 0;var bJ=(ie(),D(oe)),DR=Ke(),PJ=ni(),xJ=async(e,t,r)=>({operation:(0,DR.getSmithyContext)(t).operation,region:await(0,DR.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});tt.defaultSTSHttpAuthSchemeParametersProvider=xJ;function RJ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function kR(e){return{schemeId:"smithy.api#noAuth"}}var AJ=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(kR(e));break}case"AssumeRoleWithWebIdentity":{t.push(kR(e));break}default:t.push(RJ(e))}return t};tt.defaultSTSHttpAuthSchemeProvider=AJ;var TJ=e=>({...e,stsClientCtor:PJ.STSClient});tt.resolveStsAuthConfig=TJ;var IJ=e=>{let t=(0,tt.resolveStsAuthConfig)(e);return{...(0,bJ.resolveAwsSdkSigV4Config)(t)}};tt.resolveHttpAuthSchemeConfig=IJ});var rt=f(Sn=>{"use strict";l();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.commonParams=Sn.resolveClientEndpointParameters=void 0;var NJ=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});Sn.resolveClientEndpointParameters=NJ;Sn.commonParams={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var MR=f((Lge,FJ)=>{FJ.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.637.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sts","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"rimraf ./dist-types tsconfig.types.tsbuildinfo && tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.637.0","@aws-sdk/core":"3.635.0","@aws-sdk/credential-provider-node":"3.637.0","@aws-sdk/middleware-host-header":"3.620.0","@aws-sdk/middleware-logger":"3.609.0","@aws-sdk/middleware-recursion-detection":"3.620.0","@aws-sdk/middleware-user-agent":"3.637.0","@aws-sdk/region-config-resolver":"3.614.0","@aws-sdk/types":"3.609.0","@aws-sdk/util-endpoints":"3.637.0","@aws-sdk/util-user-agent-browser":"3.609.0","@aws-sdk/util-user-agent-node":"3.614.0","@smithy/config-resolver":"^3.0.5","@smithy/core":"^2.4.0","@smithy/fetch-http-handler":"^3.2.4","@smithy/hash-node":"^3.0.3","@smithy/invalid-dependency":"^3.0.3","@smithy/middleware-content-length":"^3.0.5","@smithy/middleware-endpoint":"^3.1.0","@smithy/middleware-retry":"^3.0.15","@smithy/middleware-serde":"^3.0.3","@smithy/middleware-stack":"^3.0.3","@smithy/node-config-provider":"^3.1.4","@smithy/node-http-handler":"^3.1.4","@smithy/protocol-http":"^4.1.0","@smithy/smithy-client":"^3.2.0","@smithy/types":"^3.3.0","@smithy/url-parser":"^3.0.3","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.15","@smithy/util-defaults-mode-node":"^3.0.15","@smithy/util-endpoints":"^2.0.5","@smithy/util-middleware":"^3.0.3","@smithy/util-retry":"^3.0.3","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var En=f(rl=>{"use strict";l();Object.defineProperty(rl,"__esModule",{value:!0});rl.getHomeDir=void 0;var DJ=S("os"),kJ=S("path"),Qf={},MJ=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",LJ=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${kJ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=MJ();return Qf[o]||(Qf[o]=(0,DJ.homedir)()),Qf[o]};rl.getHomeDir=LJ});var Zf=f(nl=>{"use strict";l();Object.defineProperty(nl,"__esModule",{value:!0});nl.getSSOTokenFilepath=void 0;var jJ=S("crypto"),qJ=S("path"),UJ=En(),HJ=e=>{let r=(0,jJ.createHash)("sha1").update(e).digest("hex");return(0,qJ.join)((0,UJ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};nl.getSSOTokenFilepath=HJ});var LR=f(ol=>{"use strict";l();Object.defineProperty(ol,"__esModule",{value:!0});ol.getSSOTokenFromFile=void 0;var BJ=S("fs"),$J=Zf(),{readFile:GJ}=BJ.promises,VJ=async e=>{let t=(0,$J.getSSOTokenFilepath)(e),r=await GJ(t,"utf8");return JSON.parse(r)};ol.getSSOTokenFromFile=VJ});var tg=f(il=>{"use strict";l();Object.defineProperty(il,"__esModule",{value:!0});il.slurpFile=void 0;var WJ=S("fs"),{readFile:zJ}=WJ.promises,eg={},KJ=(e,t)=>((!eg[e]||t?.ignoreCache)&&(eg[e]=zJ(e,"utf8")),eg[e]);il.slurpFile=KJ});var GR=f((Wge,ii)=>{l();var cl=Object.defineProperty,JJ=Object.getOwnPropertyDescriptor,YJ=Object.getOwnPropertyNames,XJ=Object.prototype.hasOwnProperty,Ue=(e,t)=>cl(e,"name",{value:t,configurable:!0}),QJ=(e,t)=>{for(var r in t)cl(e,r,{get:t[r],enumerable:!0})},rg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YJ(t))!XJ.call(e,o)&&o!==r&&cl(e,o,{get:()=>t[o],enumerable:!(n=JJ(t,o))||n.enumerable});return e},og=(e,t,r)=>(rg(e,t,"default"),r&&rg(r,t,"default")),ZJ=e=>rg(cl({},"__esModule",{value:!0}),e),oi={};QJ(oi,{CONFIG_PREFIX_SEPARATOR:()=>xr,DEFAULT_PROFILE:()=>HR,ENV_PROFILE:()=>UR,getProfileName:()=>eY,loadSharedConfigFiles:()=>$R,loadSsoSessionData:()=>fY,parseKnownFiles:()=>mY});ii.exports=ZJ(oi);og(oi,En(),ii.exports);var UR="AWS_PROFILE",HR="default",eY=Ue(e=>e.profile||process.env[UR]||HR,"getProfileName");og(oi,Zf(),ii.exports);og(oi,LR(),ii.exports);var sl=z(),tY=Ue(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(xr);return r===-1?!1:Object.values(sl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(xr),i=r.substring(0,o)===sl.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),al=S("path"),rY=En(),nY="AWS_CONFIG_FILE",BR=Ue(()=>process.env[nY]||(0,al.join)((0,rY.getHomeDir)(),".aws","config"),"getConfigFilepath"),oY=En(),iY="AWS_SHARED_CREDENTIALS_FILE",sY=Ue(()=>process.env[iY]||(0,al.join)((0,oY.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),aY=En(),cY=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,lY=["__proto__","profile __proto__"],ng=Ue(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=cY.exec(s);if(c){let[,d,,u]=c;Object.values(sl.IniSectionType).includes(d)&&(r=[d,u].join(xr))}else r=s;if(lY.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(xr):c;t[r][u]=d}}}}return t},"parseIni"),jR=tg(),qR=Ue(()=>({}),"swallowError"),xr=".",$R=Ue(async(e={})=>{let{filepath:t=sY(),configFilepath:r=BR()}=e,n=(0,aY.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,al.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,al.join)(n,r.slice(2)));let s=await Promise.all([(0,jR.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(ng).then(tY).catch(qR),(0,jR.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(ng).catch(qR)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),dY=Ue(e=>Object.entries(e).filter(([t])=>t.startsWith(sl.IniSectionType.SSO_SESSION+xr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(xr)+1)]:n}),{}),"getSsoSessionData"),uY=tg(),pY=Ue(()=>({}),"swallowError"),fY=Ue(async(e={})=>(0,uY.slurpFile)(e.configFilepath??BR()).then(ng).then(dY).catch(pY),"loadSsoSessionData"),gY=Ue((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),mY=Ue(async e=>{let t=await $R(e);return gY(t.configFile,t.credentialsFile)},"parseKnownFiles")});var KR=f((Kge,zR)=>{l();var ll=Object.defineProperty,_Y=Object.getOwnPropertyDescriptor,vY=Object.getOwnPropertyNames,hY=Object.prototype.hasOwnProperty,wn=(e,t)=>ll(e,"name",{value:t,configurable:!0}),yY=(e,t)=>{for(var r in t)ll(e,r,{get:t[r],enumerable:!0})},SY=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vY(t))!hY.call(e,o)&&o!==r&&ll(e,o,{get:()=>t[o],enumerable:!(n=_Y(t,o))||n.enumerable});return e},EY=e=>SY(ll({},"__esModule",{value:!0}),e),WR={};yY(WR,{loadConfig:()=>PY});zR.exports=EY(WR);var si=J();function ig(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}wn(ig,"getSelectorName");var wY=wn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new si.CredentialsProviderError(r.message||`Not found in ENV: ${ig(e.toString())}`,{logger:t})}},"fromEnv"),VR=GR(),CY=wn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,VR.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,VR.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new si.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${ig(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),OY=wn(e=>typeof e=="function","isFunction"),bY=wn(e=>OY(e)?async()=>await e():(0,si.fromStatic)(e),"fromStatic"),PY=wn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,si.memoize)((0,si.chain)(wY(e),CY(t,n),bY(r))),"loadConfig")});var _A=f(dl=>{"use strict";l();Object.defineProperty(dl,"__esModule",{value:!0});dl.ruleSet=void 0;var sA="required",I="type",k="fn",M="argv",$t="ref",JR=!1,sg=!0,Bt="booleanEquals",se="stringEquals",aA="sigv4",cA="sts",lA="us-east-1",B="endpoint",YR="https://sts.{Region}.{PartitionResult#dnsSuffix}",at="tree",Cn="error",cg="getAttr",XR={[sA]:!1,[I]:"String"},ag={[sA]:!0,default:!1,[I]:"Boolean"},dA={[$t]:"Endpoint"},QR={[k]:"isSet",[M]:[{[$t]:"Region"}]},ae={[$t]:"Region"},ZR={[k]:"aws.partition",[M]:[ae],assign:"PartitionResult"},uA={[$t]:"UseFIPS"},pA={[$t]:"UseDualStack"},de={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:aA,signingName:cA,signingRegion:lA}]},headers:{}},Se={},eA={conditions:[{[k]:se,[M]:[ae,"aws-global"]}],[B]:de,[I]:B},fA={[k]:Bt,[M]:[uA,!0]},gA={[k]:Bt,[M]:[pA,!0]},tA={[k]:cg,[M]:[{[$t]:"PartitionResult"},"supportsFIPS"]},mA={[$t]:"PartitionResult"},rA={[k]:Bt,[M]:[!0,{[k]:cg,[M]:[mA,"supportsDualStack"]}]},nA=[{[k]:"isSet",[M]:[dA]}],oA=[fA],iA=[gA],xY={version:"1.0",parameters:{Region:XR,UseDualStack:ag,UseFIPS:ag,Endpoint:XR,UseGlobalEndpoint:ag},rules:[{conditions:[{[k]:Bt,[M]:[{[$t]:"UseGlobalEndpoint"},sg]},{[k]:"not",[M]:nA},QR,ZR,{[k]:Bt,[M]:[uA,JR]},{[k]:Bt,[M]:[pA,JR]}],rules:[{conditions:[{[k]:se,[M]:[ae,"ap-northeast-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"ap-south-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"ap-southeast-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"ap-southeast-2"]}],endpoint:de,[I]:B},eA,{conditions:[{[k]:se,[M]:[ae,"ca-central-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"eu-central-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"eu-north-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"eu-west-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"eu-west-2"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"eu-west-3"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"sa-east-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,lA]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"us-east-2"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"us-west-1"]}],endpoint:de,[I]:B},{conditions:[{[k]:se,[M]:[ae,"us-west-2"]}],endpoint:de,[I]:B},{endpoint:{url:YR,properties:{authSchemes:[{name:aA,signingName:cA,signingRegion:"{Region}"}]},headers:Se},[I]:B}],[I]:at},{conditions:nA,rules:[{conditions:oA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[I]:Cn},{conditions:iA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[I]:Cn},{endpoint:{url:dA,properties:Se,headers:Se},[I]:B}],[I]:at},{conditions:[QR],rules:[{conditions:[ZR],rules:[{conditions:[fA,gA],rules:[{conditions:[{[k]:Bt,[M]:[sg,tA]},rA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Se,headers:Se},[I]:B}],[I]:at},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[I]:Cn}],[I]:at},{conditions:oA,rules:[{conditions:[{[k]:Bt,[M]:[tA,sg]}],rules:[{conditions:[{[k]:se,[M]:[{[k]:cg,[M]:[mA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Se,headers:Se},[I]:B},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Se,headers:Se},[I]:B}],[I]:at},{error:"FIPS is enabled but this partition does not support FIPS",[I]:Cn}],[I]:at},{conditions:iA,rules:[{conditions:[rA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Se,headers:Se},[I]:B}],[I]:at},{error:"DualStack is enabled but this partition does not support DualStack",[I]:Cn}],[I]:at},eA,{endpoint:{url:YR,properties:Se,headers:Se},[I]:B}],[I]:at}],[I]:at},{error:"Invalid Configuration: Missing Region",[I]:Cn}]};dl.ruleSet=xY});var hA=f(ul=>{"use strict";l();Object.defineProperty(ul,"__esModule",{value:!0});ul.defaultEndpointResolver=void 0;var RY=kr(),vA=Fr(),AY=_A(),TY=(e,t={})=>(0,vA.resolveEndpoint)(AY.ruleSet,{endpointParams:e,logger:t.logger});ul.defaultEndpointResolver=TY;vA.customEndpointFunctions.aws=RY.awsEndpointFunctions});var EA=f(pl=>{"use strict";l();Object.defineProperty(pl,"__esModule",{value:!0});pl.getRuntimeConfig=void 0;var IY=(ie(),D(oe)),NY=(Qe(),D(_t)),FY=U(),DY=sr(),yA=Tt(),SA=ye(),kY=Xf(),MY=hA(),LY=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??yA.fromBase64,base64Encoder:e?.base64Encoder??yA.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??MY.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??kY.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new IY.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new NY.NoAuthSigner}],logger:e?.logger??new FY.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??DY.parseUrl,utf8Decoder:e?.utf8Decoder??SA.fromUtf8,utf8Encoder:e?.utf8Encoder??SA.toUtf8});pl.getRuntimeConfig=LY});var PA=f(gl=>{"use strict";l();Object.defineProperty(gl,"__esModule",{value:!0});gl.getRuntimeConfig=void 0;var jY=(Lt(),D(Mt)),qY=jY.__importDefault(MR()),wA=(ie(),D(oe)),CA=Pc(),UY=Po(),fl=nt(),HY=(Qe(),D(_t)),BY=xo(),OA=it(),ai=KR(),bA=ur(),$Y=Io(),GY=qr(),VY=EA(),WY=U(),zY=Lo(),KY=U(),JY=e=>{(0,KY.emitWarningIfUnsupportedVersion)(process.version);let t=(0,zY.resolveDefaultsModeConfig)(e),r=()=>t().then(WY.loadConfigsForDefaultMode),n=(0,VY.getRuntimeConfig)(e);return(0,wA.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??$Y.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??CA.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,UY.defaultUserAgent)({serviceId:n.serviceId,clientVersion:qY.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await(0,CA.defaultProvider)(i?.__config||{})()),signer:new wA.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new HY.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,ai.loadConfig)(OA.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ai.loadConfig)(fl.NODE_REGION_CONFIG_OPTIONS,fl.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:bA.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ai.loadConfig)({...OA.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||GY.DEFAULT_RETRY_MODE}),sha256:e?.sha256??BY.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??bA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ai.loadConfig)(fl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ai.loadConfig)(fl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};gl.getRuntimeConfig=JY});var xA=f(On=>{"use strict";l();Object.defineProperty(On,"__esModule",{value:!0});On.resolveHttpAuthRuntimeConfig=On.getHttpAuthExtensionConfiguration=void 0;var YY=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};On.getHttpAuthExtensionConfiguration=YY;var XY=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});On.resolveHttpAuthRuntimeConfig=XY});var NA=f(_l=>{"use strict";l();Object.defineProperty(_l,"__esModule",{value:!0});_l.resolveRuntimeExtensions=void 0;var RA=qo(),AA=K(),TA=U(),IA=xA(),ml=e=>e,QY=(e,t)=>{let r={...ml((0,RA.getAwsRegionExtensionConfiguration)(e)),...ml((0,TA.getDefaultExtensionConfiguration)(e)),...ml((0,AA.getHttpHandlerExtensionConfiguration)(e)),...ml((0,IA.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,RA.resolveAwsRegionExtensionConfiguration)(r),...(0,TA.resolveDefaultRuntimeConfig)(r),...(0,AA.resolveHttpHandlerRuntimeConfig)(r),...(0,IA.resolveHttpAuthRuntimeConfig)(r)}};_l.resolveRuntimeExtensions=QY});var ni=f(bn=>{"use strict";l();Object.defineProperty(bn,"__esModule",{value:!0});bn.STSClient=bn.__Client=void 0;var FA=Bn(),ZY=$n(),eX=Gn(),DA=Wn(),tX=nt(),lg=(Qe(),D(_t)),rX=uo(),nX=cr(),kA=it(),LA=U();Object.defineProperty(bn,"__Client",{enumerable:!0,get:function(){return LA.Client}});var MA=Xf(),oX=rt(),iX=PA(),sX=NA(),dg=class extends LA.Client{constructor(...[t]){let r=(0,iX.getRuntimeConfig)(t||{}),n=(0,oX.resolveClientEndpointParameters)(r),o=(0,DA.resolveUserAgentConfig)(n),i=(0,kA.resolveRetryConfig)(o),a=(0,tX.resolveRegionConfig)(i),s=(0,FA.resolveHostHeaderConfig)(a),c=(0,nX.resolveEndpointConfig)(s),d=(0,MA.resolveHttpAuthSchemeConfig)(c),u=(0,sX.resolveRuntimeExtensions)(d,t?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,DA.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,kA.getRetryPlugin)(this.config)),this.middlewareStack.use((0,rX.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,FA.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ZY.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,eX.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,lg.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:MA.defaultSTSHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new lg.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use((0,lg.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};bn.STSClient=dg});var Vg=f((yme,Gg)=>{"use strict";l();var vl=Object.defineProperty,aX=Object.getOwnPropertyDescriptor,cX=Object.getOwnPropertyNames,lX=Object.prototype.hasOwnProperty,E=(e,t)=>vl(e,"name",{value:t,configurable:!0}),dX=(e,t)=>{for(var r in t)vl(e,r,{get:t[r],enumerable:!0})},qg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cX(t))!lX.call(e,o)&&o!==r&&vl(e,o,{get:()=>t[o],enumerable:!(n=aX(t,o))||n.enumerable});return e},uX=(e,t,r)=>(qg(e,t,"default"),r&&qg(r,t,"default")),pX=e=>qg(vl({},"__esModule",{value:!0}),e),Ug={};dX(Ug,{AssumeRoleCommand:()=>Bg,AssumeRoleResponseFilterSensitiveLog:()=>uT,AssumeRoleWithSAMLCommand:()=>ET,AssumeRoleWithSAMLRequestFilterSensitiveLog:()=>pT,AssumeRoleWithSAMLResponseFilterSensitiveLog:()=>fT,AssumeRoleWithWebIdentityCommand:()=>$g,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>gT,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>mT,ClientInputEndpointParameters:()=>DQ.ClientInputEndpointParameters,CredentialsFilterSensitiveLog:()=>Fn,DecodeAuthorizationMessageCommand:()=>OT,ExpiredTokenException:()=>$A,GetAccessKeyInfoCommand:()=>PT,GetCallerIdentityCommand:()=>RT,GetFederationTokenCommand:()=>TT,GetFederationTokenResponseFilterSensitiveLog:()=>_T,GetSessionTokenCommand:()=>NT,GetSessionTokenResponseFilterSensitiveLog:()=>vT,IDPCommunicationErrorException:()=>aT,IDPRejectedClaimException:()=>tT,InvalidAuthorizationMessageException:()=>dT,InvalidIdentityTokenException:()=>oT,MalformedPolicyDocumentException:()=>WA,PackedPolicyTooLargeException:()=>JA,RegionDisabledException:()=>QA,STS:()=>DT,STSServiceException:()=>ct,decorateDefaultCredentialProvider:()=>LQ,getDefaultRoleAssumer:()=>UT,getDefaultRoleAssumerWithWebIdentity:()=>HT});Gg.exports=pX(Ug);uX(Ug,ni(),Gg.exports);var Gt=cr(),Vt=ar(),fX=rt(),x=U(),qA=class UA extends x.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,UA.prototype)}};E(qA,"STSServiceException");var ct=qA,HA=class BA extends ct{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,BA.prototype)}};E(HA,"ExpiredTokenException");var $A=HA,GA=class VA extends ct{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,VA.prototype)}};E(GA,"MalformedPolicyDocumentException");var WA=GA,zA=class KA extends ct{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,KA.prototype)}};E(zA,"PackedPolicyTooLargeException");var JA=zA,YA=class XA extends ct{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,XA.prototype)}};E(YA,"RegionDisabledException");var QA=YA,ZA=class eT extends ct{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,eT.prototype)}};E(ZA,"IDPRejectedClaimException");var tT=ZA,rT=class nT extends ct{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,nT.prototype)}};E(rT,"InvalidIdentityTokenException");var oT=rT,iT=class sT extends ct{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,sT.prototype)}};E(iT,"IDPCommunicationErrorException");var aT=iT,cT=class lT extends ct{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,lT.prototype)}};E(cT,"InvalidAuthorizationMessageException");var dT=cT,Fn=E(e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:x.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),uT=E(e=>({...e,...e.Credentials&&{Credentials:Fn(e.Credentials)}}),"AssumeRoleResponseFilterSensitiveLog"),pT=E(e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:x.SENSITIVE_STRING}}),"AssumeRoleWithSAMLRequestFilterSensitiveLog"),fT=E(e=>({...e,...e.Credentials&&{Credentials:Fn(e.Credentials)}}),"AssumeRoleWithSAMLResponseFilterSensitiveLog"),gT=E(e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:x.SENSITIVE_STRING}}),"AssumeRoleWithWebIdentityRequestFilterSensitiveLog"),mT=E(e=>({...e,...e.Credentials&&{Credentials:Fn(e.Credentials)}}),"AssumeRoleWithWebIdentityResponseFilterSensitiveLog"),_T=E(e=>({...e,...e.Credentials&&{Credentials:Fn(e.Credentials)}}),"GetFederationTokenResponseFilterSensitiveLog"),vT=E(e=>({...e,...e.Credentials&&{Credentials:Fn(e.Credentials)}}),"GetSessionTokenResponseFilterSensitiveLog"),Ot=(ie(),D(oe)),gX=K(),mX=E(async(e,t)=>{let r=Kt,n;return n=Qt({...qX(e,t),[Yt]:_Q,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_AssumeRoleCommand"),_X=E(async(e,t)=>{let r=Kt,n;return n=Qt({...UX(e,t),[Yt]:vQ,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_AssumeRoleWithSAMLCommand"),vX=E(async(e,t)=>{let r=Kt,n;return n=Qt({...HX(e,t),[Yt]:hQ,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_AssumeRoleWithWebIdentityCommand"),hX=E(async(e,t)=>{let r=Kt,n;return n=Qt({...BX(e,t),[Yt]:yQ,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_DecodeAuthorizationMessageCommand"),yX=E(async(e,t)=>{let r=Kt,n;return n=Qt({...$X(e,t),[Yt]:SQ,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_GetAccessKeyInfoCommand"),SX=E(async(e,t)=>{let r=Kt,n;return n=Qt({...GX(e,t),[Yt]:EQ,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_GetCallerIdentityCommand"),EX=E(async(e,t)=>{let r=Kt,n;return n=Qt({...VX(e,t),[Yt]:wQ,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_GetFederationTokenCommand"),wX=E(async(e,t)=>{let r=Kt,n;return n=Qt({...WX(e,t),[Yt]:CQ,[Xt]:Jt}),zt(t,r,"/",void 0,n)},"se_GetSessionTokenCommand"),CX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=QX(r.AssumeRoleResult,t),{$metadata:ue(e),...n}},"de_AssumeRoleCommand"),OX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=ZX(r.AssumeRoleWithSAMLResult,t),{$metadata:ue(e),...n}},"de_AssumeRoleWithSAMLCommand"),bX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=eQ(r.AssumeRoleWithWebIdentityResult,t),{$metadata:ue(e),...n}},"de_AssumeRoleWithWebIdentityCommand"),PX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=tQ(r.DecodeAuthorizationMessageResult,t),{$metadata:ue(e),...n}},"de_DecodeAuthorizationMessageCommand"),xX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=oQ(r.GetAccessKeyInfoResult,t),{$metadata:ue(e),...n}},"de_GetAccessKeyInfoCommand"),RX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=iQ(r.GetCallerIdentityResult,t),{$metadata:ue(e),...n}},"de_GetCallerIdentityCommand"),AX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=sQ(r.GetFederationTokenResult,t),{$metadata:ue(e),...n}},"de_GetFederationTokenCommand"),TX=E(async(e,t)=>{if(e.statusCode>=300)return Wt(e,t);let r=await(0,Ot.parseXmlBody)(e.body,t),n={};return n=aQ(r.GetSessionTokenResult,t),{$metadata:ue(e),...n}},"de_GetSessionTokenCommand"),Wt=E(async(e,t)=>{let r={...e,body:await(0,Ot.parseXmlErrorBody)(e.body,t)},n=OQ(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await IX(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await MX(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await LX(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await jX(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await FX(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await kX(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await NX(r,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await DX(r,t);default:let o=r.body;return mQ({output:e,parsedBody:o.Error,errorCode:n})}},"de_CommandError"),IX=E(async(e,t)=>{let r=e.body,n=rQ(r.Error,t),o=new $A({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_ExpiredTokenExceptionRes"),NX=E(async(e,t)=>{let r=e.body,n=cQ(r.Error,t),o=new aT({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_IDPCommunicationErrorExceptionRes"),FX=E(async(e,t)=>{let r=e.body,n=lQ(r.Error,t),o=new tT({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_IDPRejectedClaimExceptionRes"),DX=E(async(e,t)=>{let r=e.body,n=dQ(r.Error,t),o=new dT({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_InvalidAuthorizationMessageExceptionRes"),kX=E(async(e,t)=>{let r=e.body,n=uQ(r.Error,t),o=new oT({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_InvalidIdentityTokenExceptionRes"),MX=E(async(e,t)=>{let r=e.body,n=pQ(r.Error,t),o=new WA({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_MalformedPolicyDocumentExceptionRes"),LX=E(async(e,t)=>{let r=e.body,n=fQ(r.Error,t),o=new JA({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_PackedPolicyTooLargeExceptionRes"),jX=E(async(e,t)=>{let r=e.body,n=gQ(r.Error,t),o=new QA({$metadata:ue(e),...n});return(0,x.decorateServiceException)(o,r)},"de_RegionDisabledExceptionRes"),qX=E((e,t)=>{var r,n,o,i;let a={};if(e[Ct]!=null&&(a[Ct]=e[Ct]),e[An]!=null&&(a[An]=e[An]),e[Be]!=null){let s=hl(e[Be],t);((r=e[Be])==null?void 0:r.length)===0&&(a.PolicyArns=[]),Object.entries(s).forEach(([c,d])=>{let u=`PolicyArns.${c}`;a[u]=d})}if(e[He]!=null&&(a[He]=e[He]),e[me]!=null&&(a[me]=e[me]),e[In]!=null){let s=hT(e[In],t);((n=e[In])==null?void 0:n.length)===0&&(a.Tags=[]),Object.entries(s).forEach(([c,d])=>{let u=`Tags.${c}`;a[u]=d})}if(e[Dg]!=null){let s=XX(e[Dg],t);((o=e[Dg])==null?void 0:o.length)===0&&(a.TransitiveTagKeys=[]),Object.entries(s).forEach(([c,d])=>{let u=`TransitiveTagKeys.${c}`;a[u]=d})}if(e[mg]!=null&&(a[mg]=e[mg]),e[Tn]!=null&&(a[Tn]=e[Tn]),e[Nn]!=null&&(a[Nn]=e[Nn]),e[Ge]!=null&&(a[Ge]=e[Ge]),e[bg]!=null){let s=JX(e[bg],t);((i=e[bg])==null?void 0:i.length)===0&&(a.ProvidedContexts=[]),Object.entries(s).forEach(([c,d])=>{let u=`ProvidedContexts.${c}`;a[u]=d})}return a},"se_AssumeRoleRequest"),UX=E((e,t)=>{var r;let n={};if(e[Ct]!=null&&(n[Ct]=e[Ct]),e[Cg]!=null&&(n[Cg]=e[Cg]),e[Tg]!=null&&(n[Tg]=e[Tg]),e[Be]!=null){let o=hl(e[Be],t);((r=e[Be])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,a])=>{let s=`PolicyArns.${i}`;n[s]=a})}return e[He]!=null&&(n[He]=e[He]),e[me]!=null&&(n[me]=e[me]),n},"se_AssumeRoleWithSAMLRequest"),HX=E((e,t)=>{var r;let n={};if(e[Ct]!=null&&(n[Ct]=e[Ct]),e[An]!=null&&(n[An]=e[An]),e[Lg]!=null&&(n[Lg]=e[Lg]),e[Pg]!=null&&(n[Pg]=e[Pg]),e[Be]!=null){let o=hl(e[Be],t);((r=e[Be])==null?void 0:r.length)===0&&(n.PolicyArns=[]),Object.entries(o).forEach(([i,a])=>{let s=`PolicyArns.${i}`;n[s]=a})}return e[He]!=null&&(n[He]=e[He]),e[me]!=null&&(n[me]=e[me]),n},"se_AssumeRoleWithWebIdentityRequest"),BX=E((e,t)=>{let r={};return e[_g]!=null&&(r[_g]=e[_g]),r},"se_DecodeAuthorizationMessageRequest"),$X=E((e,t)=>{let r={};return e[Pn]!=null&&(r[Pn]=e[Pn]),r},"se_GetAccessKeyInfoRequest"),GX=E((e,t)=>({}),"se_GetCallerIdentityRequest"),VX=E((e,t)=>{var r,n;let o={};if(e[Eg]!=null&&(o[Eg]=e[Eg]),e[He]!=null&&(o[He]=e[He]),e[Be]!=null){let i=hl(e[Be],t);((r=e[Be])==null?void 0:r.length)===0&&(o.PolicyArns=[]),Object.entries(i).forEach(([a,s])=>{let c=`PolicyArns.${a}`;o[c]=s})}if(e[me]!=null&&(o[me]=e[me]),e[In]!=null){let i=hT(e[In],t);((n=e[In])==null?void 0:n.length)===0&&(o.Tags=[]),Object.entries(i).forEach(([a,s])=>{let c=`Tags.${a}`;o[c]=s})}return o},"se_GetFederationTokenRequest"),WX=E((e,t)=>{let r={};return e[me]!=null&&(r[me]=e[me]),e[Tn]!=null&&(r[Tn]=e[Tn]),e[Nn]!=null&&(r[Nn]=e[Nn]),r},"se_GetSessionTokenRequest"),hl=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=zX(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},"se_policyDescriptorListType"),zX=E((e,t)=>{let r={};return e[jg]!=null&&(r[jg]=e[jg]),r},"se_PolicyDescriptorType"),KX=E((e,t)=>{let r={};return e[Og]!=null&&(r[Og]=e[Og]),e[pg]!=null&&(r[pg]=e[pg]),r},"se_ProvidedContext"),JX=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=KX(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},"se_ProvidedContextsListType"),YX=E((e,t)=>{let r={};return e[Sg]!=null&&(r[Sg]=e[Sg]),e[Mg]!=null&&(r[Mg]=e[Mg]),r},"se_Tag"),XX=E((e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},"se_tagKeyListType"),hT=E((e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let i=YX(o,t);Object.entries(i).forEach(([a,s])=>{r[`member.${n}.${a}`]=s}),n++}return r},"se_tagListType"),Hg=E((e,t)=>{let r={};return e[ug]!=null&&(r[ug]=(0,x.expectString)(e[ug])),e[wt]!=null&&(r[wt]=(0,x.expectString)(e[wt])),r},"de_AssumedRoleUser"),QX=E((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=ci(e[ge],t)),e[Et]!=null&&(r[Et]=Hg(e[Et],t)),e[$e]!=null&&(r[$e]=(0,x.strictParseInt32)(e[$e])),e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),r},"de_AssumeRoleResponse"),ZX=E((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=ci(e[ge],t)),e[Et]!=null&&(r[Et]=Hg(e[Et],t)),e[$e]!=null&&(r[$e]=(0,x.strictParseInt32)(e[$e])),e[Rg]!=null&&(r[Rg]=(0,x.expectString)(e[Rg])),e[Ng]!=null&&(r[Ng]=(0,x.expectString)(e[Ng])),e[yg]!=null&&(r[yg]=(0,x.expectString)(e[yg])),e[Rn]!=null&&(r[Rn]=(0,x.expectString)(e[Rn])),e[wg]!=null&&(r[wg]=(0,x.expectString)(e[wg])),e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),r},"de_AssumeRoleWithSAMLResponse"),eQ=E((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=ci(e[ge],t)),e[Ig]!=null&&(r[Ig]=(0,x.expectString)(e[Ig])),e[Et]!=null&&(r[Et]=Hg(e[Et],t)),e[$e]!=null&&(r[$e]=(0,x.strictParseInt32)(e[$e])),e[xg]!=null&&(r[xg]=(0,x.expectString)(e[xg])),e[Rn]!=null&&(r[Rn]=(0,x.expectString)(e[Rn])),e[Ge]!=null&&(r[Ge]=(0,x.expectString)(e[Ge])),r},"de_AssumeRoleWithWebIdentityResponse"),ci=E((e,t)=>{let r={};return e[Pn]!=null&&(r[Pn]=(0,x.expectString)(e[Pn])),e[Ag]!=null&&(r[Ag]=(0,x.expectString)(e[Ag])),e[Fg]!=null&&(r[Fg]=(0,x.expectString)(e[Fg])),e[gg]!=null&&(r[gg]=(0,x.expectNonNull)((0,x.parseRfc3339DateTimeWithOffset)(e[gg]))),r},"de_Credentials"),tQ=E((e,t)=>{let r={};return e[fg]!=null&&(r[fg]=(0,x.expectString)(e[fg])),r},"de_DecodeAuthorizationMessageResponse"),rQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_ExpiredTokenException"),nQ=E((e,t)=>{let r={};return e[hg]!=null&&(r[hg]=(0,x.expectString)(e[hg])),e[wt]!=null&&(r[wt]=(0,x.expectString)(e[wt])),r},"de_FederatedUser"),oQ=E((e,t)=>{let r={};return e[xn]!=null&&(r[xn]=(0,x.expectString)(e[xn])),r},"de_GetAccessKeyInfoResponse"),iQ=E((e,t)=>{let r={};return e[kg]!=null&&(r[kg]=(0,x.expectString)(e[kg])),e[xn]!=null&&(r[xn]=(0,x.expectString)(e[xn])),e[wt]!=null&&(r[wt]=(0,x.expectString)(e[wt])),r},"de_GetCallerIdentityResponse"),sQ=E((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=ci(e[ge],t)),e[vg]!=null&&(r[vg]=nQ(e[vg],t)),e[$e]!=null&&(r[$e]=(0,x.strictParseInt32)(e[$e])),r},"de_GetFederationTokenResponse"),aQ=E((e,t)=>{let r={};return e[ge]!=null&&(r[ge]=ci(e[ge],t)),r},"de_GetSessionTokenResponse"),cQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_IDPCommunicationErrorException"),lQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_IDPRejectedClaimException"),dQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_InvalidAuthorizationMessageException"),uQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_InvalidIdentityTokenException"),pQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_MalformedPolicyDocumentException"),fQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_PackedPolicyTooLargeException"),gQ=E((e,t)=>{let r={};return e[$]!=null&&(r[$]=(0,x.expectString)(e[$])),r},"de_RegionDisabledException"),ue=E(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),mQ=(0,x.withBaseException)(ct),zt=E(async(e,t,r,n,o)=>{let{hostname:i,protocol:a="https",port:s,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:s,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new gX.HttpRequest(d)},"buildHttpRpcRequest"),Kt={"content-type":"application/x-www-form-urlencoded"},Jt="2011-06-15",Yt="Action",Pn="AccessKeyId",_Q="AssumeRole",ug="AssumedRoleId",Et="AssumedRoleUser",vQ="AssumeRoleWithSAML",hQ="AssumeRoleWithWebIdentity",xn="Account",wt="Arn",Rn="Audience",ge="Credentials",pg="ContextAssertion",yQ="DecodeAuthorizationMessage",fg="DecodedMessage",me="DurationSeconds",gg="Expiration",mg="ExternalId",_g="EncodedMessage",vg="FederatedUser",hg="FederatedUserId",SQ="GetAccessKeyInfo",EQ="GetCallerIdentity",wQ="GetFederationToken",CQ="GetSessionToken",yg="Issuer",Sg="Key",Eg="Name",wg="NameQualifier",He="Policy",Be="PolicyArns",Cg="PrincipalArn",Og="ProviderArn",bg="ProvidedContexts",Pg="ProviderId",$e="PackedPolicySize",xg="Provider",Ct="RoleArn",An="RoleSessionName",Rg="Subject",Ag="SecretAccessKey",Tg="SAMLAssertion",Ig="SubjectFromWebIdentityToken",Ge="SourceIdentity",Tn="SerialNumber",Ng="SubjectType",Fg="SessionToken",In="Tags",Nn="TokenCode",Dg="TransitiveTagKeys",kg="UserId",Xt="Version",Mg="Value",Lg="WebIdentityToken",jg="arn",$="message",Qt=E(e=>Object.entries(e).map(([t,r])=>(0,x.extendedEncodeURIComponent)(t)+"="+(0,x.extendedEncodeURIComponent)(r)).join("&"),"buildFormUrlencodedString"),OQ=E((e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},"loadQueryErrorCode"),yT=class extends x.Command.classBuilder().ep({...fX.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,uT).ser(mX).de(CX).build(){};E(yT,"AssumeRoleCommand");var Bg=yT,bQ=rt(),ST=class extends x.Command.classBuilder().ep({...bQ.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithSAML",{}).n("STSClient","AssumeRoleWithSAMLCommand").f(pT,fT).ser(_X).de(OX).build(){};E(ST,"AssumeRoleWithSAMLCommand");var ET=ST,PQ=rt(),wT=class extends x.Command.classBuilder().ep({...PQ.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(gT,mT).ser(vX).de(bX).build(){};E(wT,"AssumeRoleWithWebIdentityCommand");var $g=wT,xQ=rt(),CT=class extends x.Command.classBuilder().ep({...xQ.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","DecodeAuthorizationMessage",{}).n("STSClient","DecodeAuthorizationMessageCommand").f(void 0,void 0).ser(hX).de(PX).build(){};E(CT,"DecodeAuthorizationMessageCommand");var OT=CT,RQ=rt(),bT=class extends x.Command.classBuilder().ep({...RQ.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetAccessKeyInfo",{}).n("STSClient","GetAccessKeyInfoCommand").f(void 0,void 0).ser(yX).de(xX).build(){};E(bT,"GetAccessKeyInfoCommand");var PT=bT,AQ=rt(),xT=class extends x.Command.classBuilder().ep({...AQ.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetCallerIdentity",{}).n("STSClient","GetCallerIdentityCommand").f(void 0,void 0).ser(SX).de(RX).build(){};E(xT,"GetCallerIdentityCommand");var RT=xT,TQ=rt(),AT=class extends x.Command.classBuilder().ep({...TQ.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetFederationToken",{}).n("STSClient","GetFederationTokenCommand").f(void 0,_T).ser(EX).de(AX).build(){};E(AT,"GetFederationTokenCommand");var TT=AT,IQ=rt(),IT=class extends x.Command.classBuilder().ep({...IQ.commonParams}).m(function(t,r,n,o){return[(0,Vt.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Gt.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","GetSessionToken",{}).n("STSClient","GetSessionTokenCommand").f(void 0,vT).ser(wX).de(TX).build(){};E(IT,"GetSessionTokenCommand");var NT=IT,NQ=ni(),FQ={AssumeRoleCommand:Bg,AssumeRoleWithSAMLCommand:ET,AssumeRoleWithWebIdentityCommand:$g,DecodeAuthorizationMessageCommand:OT,GetAccessKeyInfoCommand:PT,GetCallerIdentityCommand:RT,GetFederationTokenCommand:TT,GetSessionTokenCommand:NT},FT=class extends NQ.STSClient{};E(FT,"STS");var DT=FT;(0,x.createAggregatedClient)(FQ,DT);var DQ=rt(),jA="us-east-1",kT=E(e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},"getAccountIdFromAssumedRoleUser"),MT=E(async(e,t,r)=>{var n;let o=typeof e=="function"?await e():e,i=typeof t=="function"?await t():t;return(n=r?.debug)==null||n.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (provider)`,`${i} (parent client)`,`${jA} (STS default)`),o??i??jA},"resolveRegion"),kQ=E((e,t)=>{let r,n;return async(o,i)=>{var a,s,c;if(n=o,!r){let{logger:m=(a=e?.parentClientConfig)==null?void 0:a.logger,region:g,requestHandler:h=(s=e?.parentClientConfig)==null?void 0:s.requestHandler,credentialProviderLogger:C}=e,w=await MT(g,(c=e?.parentClientConfig)==null?void 0:c.region,C),b=!LT(h);r=new t({credentialDefaultProvider:()=>async()=>n,region:w,requestHandler:b?h:void 0,logger:m})}let{Credentials:d,AssumedRoleUser:u}=await r.send(new Bg(i));if(!d||!d.AccessKeyId||!d.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let p=kT(u);return{accessKeyId:d.AccessKeyId,secretAccessKey:d.SecretAccessKey,sessionToken:d.SessionToken,expiration:d.Expiration,...d.CredentialScope&&{credentialScope:d.CredentialScope},...p&&{accountId:p}}}},"getDefaultRoleAssumer"),MQ=E((e,t)=>{let r;return async n=>{var o,i,a;if(!r){let{logger:u=(o=e?.parentClientConfig)==null?void 0:o.logger,region:p,requestHandler:m=(i=e?.parentClientConfig)==null?void 0:i.requestHandler,credentialProviderLogger:g}=e,h=await MT(p,(a=e?.parentClientConfig)==null?void 0:a.region,g),C=!LT(m);r=new t({region:h,requestHandler:C?m:void 0,logger:u})}let{Credentials:s,AssumedRoleUser:c}=await r.send(new $g(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let d=kT(c);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...d&&{accountId:d}}}},"getDefaultRoleAssumerWithWebIdentity"),LT=E(e=>{var t;return((t=e?.metadata)==null?void 0:t.handlerProtocol)==="h2"},"isH2"),jT=ni(),qT=E((e,t)=>{var r;return t?(r=class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}},E(r,"CustomizableSTSClient"),r):e},"getCustomizableStsClientCtor"),UT=E((e={},t)=>kQ(e,qT(jT.STSClient,t)),"getDefaultRoleAssumer"),HT=E((e={},t)=>MQ(e,qT(jT.STSClient,t)),"getDefaultRoleAssumerWithWebIdentity"),LQ=E(e=>t=>e({roleAssumer:UT(t),roleAssumerWithWebIdentity:HT(t),...t}),"decorateDefaultCredentialProvider")});var Dn=f(yl=>{"use strict";l();Object.defineProperty(yl,"__esModule",{value:!0});yl.getHomeDir=void 0;var jQ=S("os"),qQ=S("path"),Wg={},UQ=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",HQ=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${qQ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=UQ();return Wg[o]||(Wg[o]=(0,jQ.homedir)()),Wg[o]};yl.getHomeDir=HQ});var zg=f(Sl=>{"use strict";l();Object.defineProperty(Sl,"__esModule",{value:!0});Sl.getSSOTokenFilepath=void 0;var BQ=S("crypto"),$Q=S("path"),GQ=Dn(),VQ=e=>{let r=(0,BQ.createHash)("sha1").update(e).digest("hex");return(0,$Q.join)((0,GQ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Sl.getSSOTokenFilepath=VQ});var BT=f(El=>{"use strict";l();Object.defineProperty(El,"__esModule",{value:!0});El.getSSOTokenFromFile=void 0;var WQ=S("fs"),zQ=zg(),{readFile:KQ}=WQ.promises,JQ=async e=>{let t=(0,zQ.getSSOTokenFilepath)(e),r=await KQ(t,"utf8");return JSON.parse(r)};El.getSSOTokenFromFile=JQ});var Jg=f(wl=>{"use strict";l();Object.defineProperty(wl,"__esModule",{value:!0});wl.slurpFile=void 0;var YQ=S("fs"),{readFile:XQ}=YQ.promises,Kg={},QQ=(e,t)=>((!Kg[e]||t?.ignoreCache)&&(Kg[e]=XQ(e,"utf8")),Kg[e]);wl.slurpFile=QQ});var JT=f((Tme,di)=>{l();var bl=Object.defineProperty,ZQ=Object.getOwnPropertyDescriptor,eZ=Object.getOwnPropertyNames,tZ=Object.prototype.hasOwnProperty,Ve=(e,t)=>bl(e,"name",{value:t,configurable:!0}),rZ=(e,t)=>{for(var r in t)bl(e,r,{get:t[r],enumerable:!0})},Yg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eZ(t))!tZ.call(e,o)&&o!==r&&bl(e,o,{get:()=>t[o],enumerable:!(n=ZQ(t,o))||n.enumerable});return e},Qg=(e,t,r)=>(Yg(e,t,"default"),r&&Yg(r,t,"default")),nZ=e=>Yg(bl({},"__esModule",{value:!0}),e),li={};rZ(li,{CONFIG_PREFIX_SEPARATOR:()=>Rr,DEFAULT_PROFILE:()=>WT,ENV_PROFILE:()=>VT,getProfileName:()=>oZ,loadSharedConfigFiles:()=>KT,loadSsoSessionData:()=>vZ,parseKnownFiles:()=>yZ});di.exports=nZ(li);Qg(li,Dn(),di.exports);var VT="AWS_PROFILE",WT="default",oZ=Ve(e=>e.profile||process.env[VT]||WT,"getProfileName");Qg(li,zg(),di.exports);Qg(li,BT(),di.exports);var Cl=z(),iZ=Ve(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Rr);return r===-1?!1:Object.values(Cl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Rr),i=r.substring(0,o)===Cl.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Ol=S("path"),sZ=Dn(),aZ="AWS_CONFIG_FILE",zT=Ve(()=>process.env[aZ]||(0,Ol.join)((0,sZ.getHomeDir)(),".aws","config"),"getConfigFilepath"),cZ=Dn(),lZ="AWS_SHARED_CREDENTIALS_FILE",dZ=Ve(()=>process.env[lZ]||(0,Ol.join)((0,cZ.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),uZ=Dn(),pZ=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,fZ=["__proto__","profile __proto__"],Xg=Ve(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=pZ.exec(s);if(c){let[,d,,u]=c;Object.values(Cl.IniSectionType).includes(d)&&(r=[d,u].join(Rr))}else r=s;if(fZ.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Rr):c;t[r][u]=d}}}}return t},"parseIni"),$T=Jg(),GT=Ve(()=>({}),"swallowError"),Rr=".",KT=Ve(async(e={})=>{let{filepath:t=dZ(),configFilepath:r=zT()}=e,n=(0,uZ.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Ol.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Ol.join)(n,r.slice(2)));let s=await Promise.all([(0,$T.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(Xg).then(iZ).catch(GT),(0,$T.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(Xg).catch(GT)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),gZ=Ve(e=>Object.entries(e).filter(([t])=>t.startsWith(Cl.IniSectionType.SSO_SESSION+Rr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Rr)+1)]:n}),{}),"getSsoSessionData"),mZ=Jg(),_Z=Ve(()=>({}),"swallowError"),vZ=Ve(async(e={})=>(0,mZ.slurpFile)(e.configFilepath??zT()).then(Xg).then(gZ).catch(_Z),"loadSsoSessionData"),hZ=Ve((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),yZ=Ve(async e=>{let t=await KT(e);return hZ(t.configFile,t.credentialsFile)},"parseKnownFiles")});var tm=f((Nme,QT)=>{"use strict";l();var Pl=Object.defineProperty,SZ=Object.getOwnPropertyDescriptor,EZ=Object.getOwnPropertyNames,wZ=Object.prototype.hasOwnProperty,em=(e,t)=>Pl(e,"name",{value:t,configurable:!0}),CZ=(e,t)=>{for(var r in t)Pl(e,r,{get:t[r],enumerable:!0})},OZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of EZ(t))!wZ.call(e,o)&&o!==r&&Pl(e,o,{get:()=>t[o],enumerable:!(n=SZ(t,o))||n.enumerable});return e},bZ=e=>OZ(Pl({},"__esModule",{value:!0}),e),XT={};CZ(XT,{fromProcess:()=>TZ});QT.exports=bZ(XT);var YT=JT(),Zg=J(),PZ=S("child_process"),xZ=S("util"),RZ=em((e,t,r)=>{var n;if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let o=t.AccountId;return!o&&((n=r?.[e])!=null&&n.aws_account_id)&&(o=r[e].aws_account_id),{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...o&&{accountId:o}}},"getValidatedProcessCredentials"),AZ=em(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let i=(0,xZ.promisify)(PZ.exec);try{let{stdout:a}=await i(o),s;try{s=JSON.parse(a.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return RZ(e,s,t)}catch(a){throw new Zg.CredentialsProviderError(a.message,{logger:r})}}else throw new Zg.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Zg.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),TZ=em((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,YT.parseKnownFiles)(e);return AZ((0,YT.getProfileName)(e),r,e.logger)},"fromProcess")});var rm=f(lt=>{"use strict";l();var IZ=lt&&lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NZ=lt&&lt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FZ=lt&&lt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&IZ(t,e,r);return NZ(t,e),t};Object.defineProperty(lt,"__esModule",{value:!0});lt.fromWebToken=void 0;var DZ=e=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:i,policy:a,durationSeconds:s}=e,{roleAssumerWithWebIdentity:c}=e;if(!c){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>FZ(Vg()));c=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:s})};lt.fromWebToken=DZ});var ZT=f(xl=>{"use strict";l();Object.defineProperty(xl,"__esModule",{value:!0});xl.fromTokenFile=void 0;var kZ=J(),MZ=S("fs"),LZ=rm(),jZ="AWS_WEB_IDENTITY_TOKEN_FILE",qZ="AWS_ROLE_ARN",UZ="AWS_ROLE_SESSION_NAME",HZ=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[jZ],r=e?.roleArn??process.env[qZ],n=e?.roleSessionName??process.env[UZ];if(!t||!r)throw new kZ.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});return(0,LZ.fromWebToken)({...e,webIdentityToken:(0,MZ.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};xl.fromTokenFile=HZ});var im=f((jme,Rl)=>{"use strict";l();var eI=Object.defineProperty,BZ=Object.getOwnPropertyDescriptor,$Z=Object.getOwnPropertyNames,GZ=Object.prototype.hasOwnProperty,nm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $Z(t))!GZ.call(e,o)&&o!==r&&eI(e,o,{get:()=>t[o],enumerable:!(n=BZ(t,o))||n.enumerable});return e},tI=(e,t,r)=>(nm(e,t,"default"),r&&nm(r,t,"default")),VZ=e=>nm(eI({},"__esModule",{value:!0}),e),om={};Rl.exports=VZ(om);tI(om,ZT(),Rl.exports);tI(om,rm(),Rl.exports)});var cI=f((Ume,aI)=>{"use strict";l();var WZ=Object.create,pi=Object.defineProperty,zZ=Object.getOwnPropertyDescriptor,KZ=Object.getOwnPropertyNames,JZ=Object.getPrototypeOf,YZ=Object.prototype.hasOwnProperty,_e=(e,t)=>pi(e,"name",{value:t,configurable:!0}),XZ=(e,t)=>{for(var r in t)pi(e,r,{get:t[r],enumerable:!0})},oI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KZ(t))!YZ.call(e,o)&&o!==r&&pi(e,o,{get:()=>t[o],enumerable:!(n=zZ(t,o))||n.enumerable});return e},Zt=(e,t,r)=>(r=e!=null?WZ(JZ(e)):{},oI(t||!e||!e.__esModule?pi(r,"default",{value:e,enumerable:!0}):r,e)),QZ=e=>oI(pi({},"__esModule",{value:!0}),e),iI={};XZ(iI,{fromIni:()=>dee});aI.exports=QZ(iI);var sm=FR(),ui=J(),ZZ=_e((e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:i}=await Promise.resolve().then(()=>Zt(Np())),{fromContainerMetadata:a}=await Promise.resolve().then(()=>Zt(wo()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),(0,ui.chain)(i(o??{}),a(o))},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>Zt(wo()));return i(o)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>Zt(dp()));return i(o)}};if(e in n)return n[e];throw new ui.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),eee=_e((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(tee(e,{profile:t,logger:r})||ree(e,{profile:t,logger:r})),"isAssumeRoleProfile"),tee=_e((e,{profile:t,logger:r})=>{var n;let o=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`)),o},"isAssumeRoleWithSourceProfile"),ree=_e((e,{profile:t,logger:r})=>{var n;let o=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return o&&((n=r?.debug)==null||n.call(r,`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`)),o},"isCredentialSourceProfile"),nee=_e(async(e,t,r,n={})=>{var o,i;(o=r.logger)==null||o.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let a=t[e];if(!r.roleAssumer){let{getDefaultRoleAssumer:m}=await Promise.resolve().then(()=>Zt(Vg()));r.roleAssumer=m({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:r?.parentClientConfig},r.clientPlugins)}let{source_profile:s}=a;if(s&&s in n)throw new ui.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,sm.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(i=r.logger)==null||i.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let c=s?sI(s,{...t,[s]:{...t[s],role_arn:a.role_arn??t[s].role_arn}},r,{...n,[s]:!0}):(await ZZ(a.credential_source,e,r.logger)(r))(),d={RoleArn:a.role_arn,RoleSessionName:a.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:a.external_id,DurationSeconds:parseInt(a.duration_seconds||"3600",10)},{mfa_serial:u}=a;if(u){if(!r.mfaCodeProvider)throw new ui.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=u,d.TokenCode=await r.mfaCodeProvider(u)}let p=await c;return r.roleAssumer(p,d)},"resolveAssumeRoleCredentials"),oee=_e(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),iee=_e(async(e,t)=>Promise.resolve().then(()=>Zt(tm())).then(({fromProcess:r})=>r({...e,profile:t})()),"resolveProcessCredentials"),see=_e(async(e,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>Zt($f()));return r({profile:e,logger:t.logger})()},"resolveSsoCredentials"),aee=_e(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),rI=_e(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),nI=_e((e,t)=>{var r;return(r=t?.logger)==null||r.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials"),Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}})},"resolveStaticCredentials"),cee=_e(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),lee=_e(async(e,t)=>Promise.resolve().then(()=>Zt(im())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})()),"resolveWebIdentityCredentials"),sI=_e(async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&rI(o))return nI(o,r);if(eee(o,{profile:e,logger:r.logger}))return nee(e,t,r,n);if(rI(o))return nI(o,r);if(cee(o))return lee(o,r);if(oee(o))return iee(r,e);if(aee(o))return await see(e,r);throw new ui.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),dee=_e((e={})=>async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await(0,sm.parseKnownFiles)(e);return sI((0,sm.getProfileName)(e),r,e)},"fromIni")});var Pc=f((Bme,gI)=>{"use strict";l();var uee=Object.create,fi=Object.defineProperty,pee=Object.getOwnPropertyDescriptor,fee=Object.getOwnPropertyNames,gee=Object.getPrototypeOf,mee=Object.prototype.hasOwnProperty,Al=(e,t)=>fi(e,"name",{value:t,configurable:!0}),_ee=(e,t)=>{for(var r in t)fi(e,r,{get:t[r],enumerable:!0})},dI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fee(t))!mee.call(e,o)&&o!==r&&fi(e,o,{get:()=>t[o],enumerable:!(n=pee(t,o))||n.enumerable});return e},kn=(e,t,r)=>(r=e!=null?uee(gee(e)):{},dI(t||!e||!e.__esModule?fi(r,"default",{value:e,enumerable:!0}):r,e)),vee=e=>dI(fi({},"__esModule",{value:!0}),e),uI={};_ee(uI,{credentialsTreatedAsExpired:()=>fI,credentialsWillNeedRefresh:()=>pI,defaultProvider:()=>Eee});gI.exports=vee(uI);var am=dp(),hee=Vw(),Ar=J(),yee="AWS_EC2_METADATA_DISABLED",See=Al(async e=>{var t,r;let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:o,fromContainerMetadata:i,fromInstanceMetadata:a}=await Promise.resolve().then(()=>kn(wo()));if(process.env[o]||process.env[n]){(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>kn(Np()));return(0,Ar.chain)(s(e),i(e))}return process.env[yee]?async()=>{throw new Ar.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:((r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),a(e))},"remoteProvider"),lI=!1,Eee=Al((e={})=>(0,Ar.memoize)((0,Ar.chain)(async()=>{var t,r,n,o;if(e.profile??process.env[hee.ENV_PROFILE])throw process.env[am.ENV_KEY]&&process.env[am.ENV_SECRET]&&(lI||(((t=e.logger)!=null&&t.warn&&((n=(r=e.logger)==null?void 0:r.constructor)==null?void 0:n.name)!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),lI=!0)),new Ar.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return(o=e.logger)==null||o.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,am.fromEnv)(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:i,ssoSession:a}=e;if(!r&&!n&&!o&&!i&&!a)throw new Ar.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:s}=await Promise.resolve().then(()=>kn($f()));return s(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>kn(cI()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>kn(tm()));return r(e)()},async()=>{var t;(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>kn(im()));return r(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await See(e))()},async()=>{throw new Ar.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),fI,pI),"defaultProvider"),pI=Al(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),fI=Al(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var vI=f((Gme,_I)=>{l();var Tl=Object.defineProperty,wee=Object.getOwnPropertyDescriptor,Cee=Object.getOwnPropertyNames,Oee=Object.prototype.hasOwnProperty,bee=(e,t)=>Tl(e,"name",{value:t,configurable:!0}),Pee=(e,t)=>{for(var r in t)Tl(e,r,{get:t[r],enumerable:!0})},xee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cee(t))!Oee.call(e,o)&&o!==r&&Tl(e,o,{get:()=>t[o],enumerable:!(n=wee(t,o))||n.enumerable});return e},Ree=e=>xee(Tl({},"__esModule",{value:!0}),e),mI={};Pee(mI,{isArrayBuffer:()=>Aee});_I.exports=Ree(mI);var Aee=bee(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var EI=f((Wme,SI)=>{l();var Il=Object.defineProperty,Tee=Object.getOwnPropertyDescriptor,Iee=Object.getOwnPropertyNames,Nee=Object.prototype.hasOwnProperty,hI=(e,t)=>Il(e,"name",{value:t,configurable:!0}),Fee=(e,t)=>{for(var r in t)Il(e,r,{get:t[r],enumerable:!0})},Dee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Iee(t))!Nee.call(e,o)&&o!==r&&Il(e,o,{get:()=>t[o],enumerable:!(n=Tee(t,o))||n.enumerable});return e},kee=e=>Dee(Il({},"__esModule",{value:!0}),e),yI={};Fee(yI,{fromArrayBuffer:()=>Lee,fromString:()=>jee});SI.exports=kee(yI);var Mee=vI(),cm=S("buffer"),Lee=hI((e,t=0,r=e.byteLength-t)=>{if(!(0,Mee.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return cm.Buffer.from(e,t,r)},"fromArrayBuffer"),jee=hI((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?cm.Buffer.from(e,t):cm.Buffer.from(e)},"fromString")});var PI=f((Kme,bI)=>{l();var Nl=Object.defineProperty,qee=Object.getOwnPropertyDescriptor,Uee=Object.getOwnPropertyNames,Hee=Object.prototype.hasOwnProperty,lm=(e,t)=>Nl(e,"name",{value:t,configurable:!0}),Bee=(e,t)=>{for(var r in t)Nl(e,r,{get:t[r],enumerable:!0})},$ee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uee(t))!Hee.call(e,o)&&o!==r&&Nl(e,o,{get:()=>t[o],enumerable:!(n=qee(t,o))||n.enumerable});return e},Gee=e=>$ee(Nl({},"__esModule",{value:!0}),e),wI={};Bee(wI,{fromUtf8:()=>OI,toUint8Array:()=>Vee,toUtf8:()=>Wee});bI.exports=Gee(wI);var CI=EI(),OI=lm(e=>{let t=(0,CI.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Vee=lm(e=>typeof e=="string"?OI(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Wee=lm(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,CI.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var xI=f(Fl=>{"use strict";l();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.convertToBuffer=void 0;var zee=PI(),Kee=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:zee.fromUtf8;function Jee(e){return e instanceof Uint8Array?e:typeof e=="string"?Kee(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Fl.convertToBuffer=Jee});var RI=f(Dl=>{"use strict";l();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.isEmptyData=void 0;function Yee(e){return typeof e=="string"?e.length===0:e.byteLength===0}Dl.isEmptyData=Yee});var AI=f(kl=>{"use strict";l();Object.defineProperty(kl,"__esModule",{value:!0});kl.numToUint8=void 0;function Xee(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}kl.numToUint8=Xee});var TI=f(Ml=>{"use strict";l();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.uint32ArrayFrom=void 0;function Qee(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Ml.uint32ArrayFrom=Qee});var dm=f(dt=>{"use strict";l();Object.defineProperty(dt,"__esModule",{value:!0});dt.uint32ArrayFrom=dt.numToUint8=dt.isEmptyData=dt.convertToBuffer=void 0;var Zee=xI();Object.defineProperty(dt,"convertToBuffer",{enumerable:!0,get:function(){return Zee.convertToBuffer}});var ete=RI();Object.defineProperty(dt,"isEmptyData",{enumerable:!0,get:function(){return ete.isEmptyData}});var tte=AI();Object.defineProperty(dt,"numToUint8",{enumerable:!0,get:function(){return tte.numToUint8}});var rte=TI();Object.defineProperty(dt,"uint32ArrayFrom",{enumerable:!0,get:function(){return rte.uint32ArrayFrom}})});var FI=f(Ll=>{"use strict";l();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.AwsCrc32=void 0;var II=(Lt(),D(Mt)),um=dm(),NI=jl(),nte=function(){function e(){this.crc32=new NI.Crc32}return e.prototype.update=function(t){(0,um.isEmptyData)(t)||this.crc32.update((0,um.convertToBuffer)(t))},e.prototype.digest=function(){return II.__awaiter(this,void 0,void 0,function(){return II.__generator(this,function(t){return[2,(0,um.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new NI.Crc32},e}();Ll.AwsCrc32=nte});var jl=f(er=>{"use strict";l();Object.defineProperty(er,"__esModule",{value:!0});er.AwsCrc32=er.Crc32=er.crc32=void 0;var ote=(Lt(),D(Mt)),ite=dm();function ste(e){return new DI().update(e).digest()}er.crc32=ste;var DI=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var o=ote.__values(t),i=o.next();!i.done;i=o.next()){var a=i.value;this.checksum=this.checksum>>>8^cte[(this.checksum^a)&255]}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();er.Crc32=DI;var ate=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],cte=(0,ite.uint32ArrayFrom)(ate),lte=FI();Object.defineProperty(er,"AwsCrc32",{enumerable:!0,get:function(){return lte.AwsCrc32}})});var JI=f((__e,KI)=>{l();var Ul=Object.defineProperty,dte=Object.getOwnPropertyDescriptor,ute=Object.getOwnPropertyNames,pte=Object.prototype.hasOwnProperty,bt=(e,t)=>Ul(e,"name",{value:t,configurable:!0}),fte=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},gte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ute(t))!pte.call(e,o)&&o!==r&&Ul(e,o,{get:()=>t[o],enumerable:!(n=dte(t,o))||n.enumerable});return e},mte=e=>gte(Ul({},"__esModule",{value:!0}),e),MI={};fte(MI,{EventStreamCodec:()=>Rte,HeaderMarshaller:()=>UI,Int64:()=>ql,MessageDecoderStream:()=>Ate,MessageEncoderStream:()=>Tte,SmithyMessageDecoderStream:()=>Ite,SmithyMessageEncoderStream:()=>Nte});KI.exports=mte(MI);var _te=jl(),Tr=Os(),LI=class jI{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&pm(r),new jI(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&pm(t),parseInt((0,Tr.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};bt(LI,"Int64");var ql=LI;function pm(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}bt(pm,"negate");var qI=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let i of Object.keys(t)){let a=this.fromUtf8(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0)),o=0;for(let i of r)n.set(i,o),o+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let a=new Uint8Array(i.buffer);return a.set(t.value,3),a;case"string":let s=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+s.byteLength));c.setUint8(0,7),c.setUint16(1,s.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(s,3),d;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(ql.fromNumber(t.value.valueOf()).bytes,1),u;case"uuid":if(!bte.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,Tr.fromHex)(t.value.replace(/\-/g,"")),1),p}}parse(t){let r={},n=0;for(;n<t.byteLength;){let o=t.getUint8(n++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,o));switch(n+=o,t.getUint8(n++)){case 0:r[i]={type:kI,value:!0};break;case 1:r[i]={type:kI,value:!1};break;case 2:r[i]={type:vte,value:t.getInt8(n++)};break;case 3:r[i]={type:hte,value:t.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:yte,value:t.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:Ste,value:new ql(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let a=t.getUint16(n,!1);n+=2,r[i]={type:Ete,value:new Uint8Array(t.buffer,t.byteOffset+n,a)},n+=a;break;case 7:let s=t.getUint16(n,!1);n+=2,r[i]={type:wte,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s))},n+=s;break;case 8:r[i]={type:Cte,value:new Date(new ql(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[i]={type:Ote,value:`${(0,Tr.toHex)(c.subarray(0,4))}-${(0,Tr.toHex)(c.subarray(4,6))}-${(0,Tr.toHex)(c.subarray(6,8))}-${(0,Tr.toHex)(c.subarray(8,10))}-${(0,Tr.toHex)(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};bt(qI,"HeaderMarshaller");var UI=qI,kI="boolean",vte="byte",hte="short",yte="integer",Ste="long",Ete="binary",wte="string",Cte="timestamp",Ote="uuid",bte=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Pte=jl(),HI=4,tr=HI*2,Ir=4,xte=tr+Ir*2;function BI({byteLength:e,byteOffset:t,buffer:r}){if(e<xte)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),o=n.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");let i=n.getUint32(HI,!1),a=n.getUint32(tr,!1),s=n.getUint32(e-Ir,!1),c=new Pte.Crc32().update(new Uint8Array(r,t,tr));if(a!==c.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+tr,e-(tr+Ir))),s!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${s}`);return{headers:new DataView(r,t+tr+Ir,i),body:new Uint8Array(r,t+tr+Ir+i,o-i-(tr+Ir+Ir))}}bt(BI,"splitMessage");var $I=class{constructor(t,r){this.headerMarshaller=new UI(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),o=n.byteLength+r.byteLength+16,i=new Uint8Array(o),a=new DataView(i.buffer,i.byteOffset,i.byteLength),s=new _te.Crc32;return a.setUint32(0,o,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,s.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),a.setUint32(o-4,s.update(i.subarray(8,o-4)).digest(),!1),i}decode(t){let{headers:r,body:n}=BI(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};bt($I,"EventStreamCodec");var Rte=$I,GI=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}};bt(GI,"MessageDecoderStream");var Ate=GI,VI=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}};bt(VI,"MessageEncoderStream");var Tte=VI,WI=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}};bt(WI,"SmithyMessageDecoderStream");var Ite=WI,zI=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};bt(zI,"SmithyMessageEncoderStream");var Nte=zI});var rN=f((y_e,tN)=>{l();var Hl=Object.defineProperty,Fte=Object.getOwnPropertyDescriptor,Dte=Object.getOwnPropertyNames,kte=Object.prototype.hasOwnProperty,Mn=(e,t)=>Hl(e,"name",{value:t,configurable:!0}),Mte=(e,t)=>{for(var r in t)Hl(e,r,{get:t[r],enumerable:!0})},Lte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Dte(t))!kte.call(e,o)&&o!==r&&Hl(e,o,{get:()=>t[o],enumerable:!(n=Fte(t,o))||n.enumerable});return e},jte=e=>Lte(Hl({},"__esModule",{value:!0}),e),YI={};Mte(YI,{EventStreamMarshaller:()=>eN,eventStreamSerdeProvider:()=>qte});tN.exports=jte(YI);var gi=JI();function XI(e){let t=0,r=0,n=null,o=null,i=Mn(s=>{if(typeof s!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+s);t=s,r=4,n=new Uint8Array(s),new DataView(n.buffer).setUint32(0,s,!1)},"allocateMessage"),a=Mn(async function*(){let s=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await s.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let u=c.length,p=0;for(;p<u;){if(!n){let g=u-p;o||(o=new Uint8Array(4));let h=Math.min(4-r,g);if(o.set(c.slice(p,p+h),r),r+=h,p+=h,r<4)break;i(new DataView(o.buffer).getUint32(0,!1)),o=null}let m=Math.min(t-r,u-p);n.set(c.slice(p,p+m),r),r+=m,p+=m,t&&t===r&&(yield n,n=null,t=0,r=0)}}},"iterator");return{[Symbol.asyncIterator]:a}}Mn(XI,"getChunkedStream");function QI(e,t){return async function(r){let{value:n}=r.headers[":message-type"];if(n==="error"){let o=new Error(r.headers[":error-message"].value||"UnknownError");throw o.name=r.headers[":error-code"].value,o}else if(n==="exception"){let o=r.headers[":exception-type"].value,i={[o]:r},a=await e(i);if(a.$unknown){let s=new Error(t(r.body));throw s.name=o,s}throw a[o]}else if(n==="event"){let o={[r.headers[":event-type"].value]:r},i=await e(o);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}Mn(QI,"getMessageUnmarshaller");var ZI=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new gi.EventStreamCodec(t,r),this.utfEncoder=t}deserialize(t,r){let n=XI(t);return new gi.SmithyMessageDecoderStream({messageStream:new gi.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:QI(r,this.utfEncoder)})}serialize(t,r){return new gi.MessageEncoderStream({messageStream:new gi.SmithyMessageEncoderStream({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};Mn(ZI,"EventStreamMarshaller");var eN=ZI,qte=Mn(e=>new eN(e),"eventStreamSerdeProvider")});var cN=f((w_e,aN)=>{l();var Bl=Object.defineProperty,Ute=Object.getOwnPropertyDescriptor,Hte=Object.getOwnPropertyNames,Bte=Object.prototype.hasOwnProperty,fm=(e,t)=>Bl(e,"name",{value:t,configurable:!0}),$te=(e,t)=>{for(var r in t)Bl(e,r,{get:t[r],enumerable:!0})},Gte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Hte(t))!Bte.call(e,o)&&o!==r&&Bl(e,o,{get:()=>t[o],enumerable:!(n=Ute(t,o))||n.enumerable});return e},Vte=e=>Gte(Bl({},"__esModule",{value:!0}),e),nN={};$te(nN,{EventStreamMarshaller:()=>sN,eventStreamSerdeProvider:()=>Kte});aN.exports=Vte(nN);var Wte=rN(),zte=S("stream");async function*oN(e){let t=!1,r=!1,n=new Array;for(e.on("error",o=>{if(t||(t=!0),o)throw o}),e.on("data",o=>{n.push(o)}),e.on("end",()=>{t=!0});!r;){let o=await new Promise(i=>setTimeout(()=>i(n.shift()),0));o&&(yield o),r=t&&n.length===0}}fm(oN,"readabletoIterable");var iN=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Wte.EventStreamMarshaller({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:oN(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return zte.Readable.from(this.universalMarshaller.serialize(t,r))}};fm(iN,"EventStreamMarshaller");var sN=iN,Kte=fm(e=>new sN(e),"eventStreamSerdeProvider")});var Ln=f($l=>{"use strict";l();Object.defineProperty($l,"__esModule",{value:!0});$l.getHomeDir=void 0;var Jte=S("os"),Yte=S("path"),gm={},Xte=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Qte=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Yte.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=Xte();return gm[o]||(gm[o]=(0,Jte.homedir)()),gm[o]};$l.getHomeDir=Qte});var mm=f(Gl=>{"use strict";l();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.getSSOTokenFilepath=void 0;var Zte=S("crypto"),ere=S("path"),tre=Ln(),rre=e=>{let r=(0,Zte.createHash)("sha1").update(e).digest("hex");return(0,ere.join)((0,tre.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Gl.getSSOTokenFilepath=rre});var lN=f(Vl=>{"use strict";l();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.getSSOTokenFromFile=void 0;var nre=S("fs"),ore=mm(),{readFile:ire}=nre.promises,sre=async e=>{let t=(0,ore.getSSOTokenFilepath)(e),r=await ire(t,"utf8");return JSON.parse(r)};Vl.getSSOTokenFromFile=sre});var vm=f(Wl=>{"use strict";l();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.slurpFile=void 0;var are=S("fs"),{readFile:cre}=are.promises,_m={},lre=(e,t)=>((!_m[e]||t?.ignoreCache)&&(_m[e]=cre(e,"utf8")),_m[e]);Wl.slurpFile=lre});var _N=f((N_e,_i)=>{l();var Jl=Object.defineProperty,dre=Object.getOwnPropertyDescriptor,ure=Object.getOwnPropertyNames,pre=Object.prototype.hasOwnProperty,We=(e,t)=>Jl(e,"name",{value:t,configurable:!0}),fre=(e,t)=>{for(var r in t)Jl(e,r,{get:t[r],enumerable:!0})},hm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ure(t))!pre.call(e,o)&&o!==r&&Jl(e,o,{get:()=>t[o],enumerable:!(n=dre(t,o))||n.enumerable});return e},Sm=(e,t,r)=>(hm(e,t,"default"),r&&hm(r,t,"default")),gre=e=>hm(Jl({},"__esModule",{value:!0}),e),mi={};fre(mi,{CONFIG_PREFIX_SEPARATOR:()=>Nr,DEFAULT_PROFILE:()=>fN,ENV_PROFILE:()=>pN,getProfileName:()=>mre,loadSharedConfigFiles:()=>mN,loadSsoSessionData:()=>Rre,parseKnownFiles:()=>Tre});_i.exports=gre(mi);Sm(mi,Ln(),_i.exports);var pN="AWS_PROFILE",fN="default",mre=We(e=>e.profile||process.env[pN]||fN,"getProfileName");Sm(mi,mm(),_i.exports);Sm(mi,lN(),_i.exports);var zl=z(),_re=We(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Nr);return r===-1?!1:Object.values(zl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Nr),i=r.substring(0,o)===zl.IniSectionType.PROFILE?r.substring(o+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Kl=S("path"),vre=Ln(),hre="AWS_CONFIG_FILE",gN=We(()=>process.env[hre]||(0,Kl.join)((0,vre.getHomeDir)(),".aws","config"),"getConfigFilepath"),yre=Ln(),Sre="AWS_SHARED_CREDENTIALS_FILE",Ere=We(()=>process.env[Sre]||(0,Kl.join)((0,yre.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),wre=Ln(),Cre=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Ore=["__proto__","profile __proto__"],ym=We(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let i=o.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let s=i.substring(1,i.length-1),c=Cre.exec(s);if(c){let[,d,,u]=c;Object.values(zl.IniSectionType).includes(d)&&(r=[d,u].join(Nr))}else r=s;if(Ore.includes(s))throw new Error(`Found invalid profile name "${s}"`)}else if(r){let s=i.indexOf("=");if(![0,-1].includes(s)){let[c,d]=[i.substring(0,s).trim(),i.substring(s+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let u=n?[n,c].join(Nr):c;t[r][u]=d}}}}return t},"parseIni"),dN=vm(),uN=We(()=>({}),"swallowError"),Nr=".",mN=We(async(e={})=>{let{filepath:t=Ere(),configFilepath:r=gN()}=e,n=(0,wre.getHomeDir)(),o="~/",i=t;t.startsWith(o)&&(i=(0,Kl.join)(n,t.slice(2)));let a=r;r.startsWith(o)&&(a=(0,Kl.join)(n,r.slice(2)));let s=await Promise.all([(0,dN.slurpFile)(a,{ignoreCache:e.ignoreCache}).then(ym).then(_re).catch(uN),(0,dN.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(ym).catch(uN)]);return{configFile:s[0],credentialsFile:s[1]}},"loadSharedConfigFiles"),bre=We(e=>Object.entries(e).filter(([t])=>t.startsWith(zl.IniSectionType.SSO_SESSION+Nr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Nr)+1)]:n}),{}),"getSsoSessionData"),Pre=vm(),xre=We(()=>({}),"swallowError"),Rre=We(async(e={})=>(0,Pre.slurpFile)(e.configFilepath??gN()).then(ym).then(bre).catch(xre),"loadSsoSessionData"),Are=We((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),Tre=We(async e=>{let t=await mN(e);return Are(t.configFile,t.credentialsFile)},"parseKnownFiles")});var SN=f((D_e,yN)=>{l();var Yl=Object.defineProperty,Ire=Object.getOwnPropertyDescriptor,Nre=Object.getOwnPropertyNames,Fre=Object.prototype.hasOwnProperty,jn=(e,t)=>Yl(e,"name",{value:t,configurable:!0}),Dre=(e,t)=>{for(var r in t)Yl(e,r,{get:t[r],enumerable:!0})},kre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Nre(t))!Fre.call(e,o)&&o!==r&&Yl(e,o,{get:()=>t[o],enumerable:!(n=Ire(t,o))||n.enumerable});return e},Mre=e=>kre(Yl({},"__esModule",{value:!0}),e),hN={};Dre(hN,{loadConfig:()=>Hre});yN.exports=Mre(hN);var vi=J();function Em(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}jn(Em,"getSelectorName");var Lre=jn((e,t)=>async()=>{try{let r=e(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new vi.CredentialsProviderError(r.message||`Not found in ENV: ${Em(e.toString())}`,{logger:t})}},"fromEnv"),vN=_N(),jre=jn((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,vN.getProfileName)(r),{configFile:o,credentialsFile:i}=await(0,vN.loadSharedConfigFiles)(r),a=i[n]||{},s=o[n]||{},c=t==="config"?{...a,...s}:{...s,...a};try{let u=e(c,t==="config"?o:i);if(u===void 0)throw new Error;return u}catch(d){throw new vi.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${Em(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),qre=jn(e=>typeof e=="function","isFunction"),Ure=jn(e=>qre(e)?async()=>await e():(0,vi.fromStatic)(e),"fromStatic"),Hre=jn(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,vi.memoize)((0,vi.chain)(Lre(e),jre(t,n),Ure(r))),"loadConfig")});var DN=f(Xl=>{"use strict";l();Object.defineProperty(Xl,"__esModule",{value:!0});Xl.ruleSet=void 0;var IN="required",pt="fn",ft="argv",Un="ref",EN=!0,wN="isSet",yi="booleanEquals",qn="error",hi="endpoint",ve="tree",wm="PartitionResult",CN={[IN]:!1,type:"String"},ON={[IN]:!0,default:!1,type:"Boolean"},bN={[Un]:"Endpoint"},NN={[pt]:yi,[ft]:[{[Un]:"UseFIPS"},!0]},FN={[pt]:yi,[ft]:[{[Un]:"UseDualStack"},!0]},ut={},PN={[pt]:"getAttr",[ft]:[{[Un]:wm},"supportsFIPS"]},xN={[pt]:yi,[ft]:[!0,{[pt]:"getAttr",[ft]:[{[Un]:wm},"supportsDualStack"]}]},RN=[NN],AN=[FN],TN=[{[Un]:"Region"}],Bre={version:"1.0",parameters:{Region:CN,UseDualStack:ON,UseFIPS:ON,Endpoint:CN},rules:[{conditions:[{[pt]:wN,[ft]:[bN]}],rules:[{conditions:RN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:qn},{rules:[{conditions:AN,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:qn},{endpoint:{url:bN,properties:ut,headers:ut},type:hi}],type:ve}],type:ve},{rules:[{conditions:[{[pt]:wN,[ft]:TN}],rules:[{conditions:[{[pt]:"aws.partition",[ft]:TN,assign:wm}],rules:[{conditions:[NN,FN],rules:[{conditions:[{[pt]:yi,[ft]:[EN,PN]},xN],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ut,headers:ut},type:hi}],type:ve}],type:ve},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:qn}],type:ve},{conditions:RN,rules:[{conditions:[{[pt]:yi,[ft]:[PN,EN]}],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ut,headers:ut},type:hi}],type:ve}],type:ve},{error:"FIPS is enabled but this partition does not support FIPS",type:qn}],type:ve},{conditions:AN,rules:[{conditions:[xN],rules:[{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ut,headers:ut},type:hi}],type:ve}],type:ve},{error:"DualStack is enabled but this partition does not support DualStack",type:qn}],type:ve},{rules:[{endpoint:{url:"https://bedrock-runtime.{Region}.{PartitionResult#dnsSuffix}",properties:ut,headers:ut},type:hi}],type:ve}],type:ve}],type:ve},{error:"Invalid Configuration: Missing Region",type:qn}],type:ve}]};Xl.ruleSet=Bre});var MN=f(Ql=>{"use strict";l();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.defaultEndpointResolver=void 0;var $re=kr(),kN=Fr(),Gre=DN(),Vre=(e,t={})=>(0,kN.resolveEndpoint)(Gre.ruleSet,{endpointParams:e,logger:t.logger});Ql.defaultEndpointResolver=Vre;kN.customEndpointFunctions.aws=$re.awsEndpointFunctions});var qN=f(Zl=>{"use strict";l();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.getRuntimeConfig=void 0;var Wre=(ie(),D(oe)),zre=U(),Kre=sr(),LN=Tt(),jN=ye(),Jre=ap(),Yre=MN(),Xre=e=>({apiVersion:"2023-09-30",base64Decoder:e?.base64Decoder??LN.fromBase64,base64Encoder:e?.base64Encoder??LN.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Yre.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Jre.defaultBedrockRuntimeHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Wre.AwsSdkSigV4Signer}],logger:e?.logger??new zre.NoOpLogger,serviceId:e?.serviceId??"Bedrock Runtime",urlParser:e?.urlParser??Kre.parseUrl,utf8Decoder:e?.utf8Decoder??jN.fromUtf8,utf8Encoder:e?.utf8Encoder??jN.toUtf8});Zl.getRuntimeConfig=Xre});var BN=f(td=>{"use strict";l();Object.defineProperty(td,"__esModule",{value:!0});td.getRuntimeConfig=void 0;var Qre=(Lt(),D(Mt)),Zre=Qre.__importDefault(Aw()),ene=(ie(),D(oe)),tne=Pc(),rne=Po(),ed=nt(),nne=cN(),one=xo(),UN=it(),Si=SN(),HN=ur(),ine=Io(),sne=qr(),ane=qN(),cne=U(),lne=Lo(),dne=U(),une=e=>{(0,dne.emitWarningIfUnsupportedVersion)(process.version);let t=(0,lne.resolveDefaultsModeConfig)(e),r=()=>t().then(cne.loadConfigsForDefaultMode),n=(0,ane.getRuntimeConfig)(e);return(0,ene.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ine.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??tne.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,rne.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Zre.default.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??nne.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,Si.loadConfig)(UN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Si.loadConfig)(ed.NODE_REGION_CONFIG_OPTIONS,ed.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:HN.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Si.loadConfig)({...UN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||sne.DEFAULT_RETRY_MODE}),sha256:e?.sha256??one.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??HN.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Si.loadConfig)(ed.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Si.loadConfig)(ed.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};td.getRuntimeConfig=une});var bD=f((X_e,OD)=>{"use strict";l();var ld=Object.defineProperty,pne=Object.getOwnPropertyDescriptor,fne=Object.getOwnPropertyNames,gne=Object.prototype.hasOwnProperty,y=(e,t)=>ld(e,"name",{value:t,configurable:!0}),mne=(e,t)=>{for(var r in t)ld(e,r,{get:t[r],enumerable:!0})},_ne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fne(t))!gne.call(e,o)&&o!==r&&ld(e,o,{get:()=>t[o],enumerable:!(n=pne(t,o))||n.enumerable});return e},vne=e=>_ne(ld({},"__esModule",{value:!0}),e),JN={};mne(JN,{AccessDeniedException:()=>rF,ApplyGuardrailCommand:()=>fD,BedrockRuntime:()=>CD,BedrockRuntimeClient:()=>XN,BedrockRuntimeServiceException:()=>Ee,ContentBlock:()=>sd,ContentBlockDelta:()=>Rm,ContentBlockStart:()=>Am,ConversationRole:()=>zne,ConverseCommand:()=>mD,ConverseOutput:()=>xm,ConverseStreamCommand:()=>vD,ConverseStreamOutput:()=>Tm,ConverseStreamOutputFilterSensitiveLog:()=>Xne,ConverseStreamResponseFilterSensitiveLog:()=>FF,DocumentFormat:()=>$ne,DocumentSource:()=>nd,GuardrailAction:()=>Tne,GuardrailContentBlock:()=>Cm,GuardrailContentFilterConfidence:()=>Nne,GuardrailContentFilterType:()=>Fne,GuardrailContentPolicyAction:()=>Ine,GuardrailContentQualifier:()=>Rne,GuardrailContentSource:()=>Ane,GuardrailContextualGroundingFilterType:()=>kne,GuardrailContextualGroundingPolicyAction:()=>Dne,GuardrailConverseContentBlock:()=>Om,GuardrailConverseContentQualifier:()=>Gne,GuardrailManagedWordType:()=>Hne,GuardrailPiiEntityType:()=>Lne,GuardrailSensitiveInformationPolicyAction:()=>Mne,GuardrailStreamProcessingMode:()=>Jne,GuardrailTopicPolicyAction:()=>jne,GuardrailTopicType:()=>qne,GuardrailTrace:()=>Bne,GuardrailWordPolicyAction:()=>Une,ImageFormat:()=>Vne,ImageSource:()=>od,InternalServerException:()=>iF,InvokeModelCommand:()=>yD,InvokeModelRequestFilterSensitiveLog:()=>DF,InvokeModelResponseFilterSensitiveLog:()=>kF,InvokeModelWithResponseStreamCommand:()=>ED,InvokeModelWithResponseStreamRequestFilterSensitiveLog:()=>MF,InvokeModelWithResponseStreamResponseFilterSensitiveLog:()=>LF,ModelErrorException:()=>SF,ModelNotReadyException:()=>CF,ModelStreamErrorException:()=>NF,ModelTimeoutException:()=>PF,PayloadPartFilterSensitiveLog:()=>Qne,ResourceNotFoundException:()=>cF,ResponseStream:()=>Im,ResponseStreamFilterSensitiveLog:()=>Zne,ServiceQuotaExceededException:()=>uF,ServiceUnavailableException:()=>AF,StopReason:()=>Kne,SystemContentBlock:()=>bm,ThrottlingException:()=>gF,Tool:()=>cd,ToolChoice:()=>Pm,ToolInputSchema:()=>ad,ToolResultContentBlock:()=>id,ToolResultStatus:()=>Wne,Trace:()=>Yne,ValidationException:()=>vF,__Client:()=>_.Client});OD.exports=vne(JN);var $N=Bn(),hne=$n(),yne=Gn(),GN=Wn(),Sne=nt(),rr=(Qe(),D(_t)),Ene=xE(),wne=uo(),Hn=cr(),VN=it(),WN=ap(),Cne=y(e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"bedrock"}),"resolveClientEndpointParameters"),Ei={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},One=BN(),zN=qo(),KN=K(),_=U(),bne=y(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let i=t.findIndex(a=>a.schemeId===o.schemeId);i===-1?t.push(o):t.splice(i,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Pne=y(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),rd=y(e=>e,"asPartial"),xne=y((e,t)=>{let r={...rd((0,zN.getAwsRegionExtensionConfiguration)(e)),...rd((0,_.getDefaultExtensionConfiguration)(e)),...rd((0,KN.getHttpHandlerExtensionConfiguration)(e)),...rd(bne(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,zN.resolveAwsRegionExtensionConfiguration)(r),...(0,_.resolveDefaultRuntimeConfig)(r),...(0,KN.resolveHttpHandlerRuntimeConfig)(r),...Pne(r)}},"resolveRuntimeExtensions"),YN=class extends _.Client{constructor(...[t]){let r=(0,One.getRuntimeConfig)(t||{}),n=Cne(r),o=(0,GN.resolveUserAgentConfig)(n),i=(0,VN.resolveRetryConfig)(o),a=(0,Sne.resolveRegionConfig)(i),s=(0,$N.resolveHostHeaderConfig)(a),c=(0,Hn.resolveEndpointConfig)(s),d=(0,Ene.resolveEventStreamSerdeConfig)(c),u=(0,WN.resolveHttpAuthSchemeConfig)(d),p=xne(u,t?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,GN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,VN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,wne.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,$N.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,hne.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,yne.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,rr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:WN.defaultBedrockRuntimeHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new rr.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use((0,rr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};y(YN,"BedrockRuntimeClient");var XN=YN,wi=ar(),V=(ie(),D(oe)),QN=class ZN extends _.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,ZN.prototype)}};y(QN,"BedrockRuntimeServiceException");var Ee=QN,eF=class tF extends Ee{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,tF.prototype)}};y(eF,"AccessDeniedException");var rF=eF,Rne={GROUNDING_SOURCE:"grounding_source",GUARD_CONTENT:"guard_content",QUERY:"query"},Cm;(e=>{e.visit=y((t,r)=>t.text!==void 0?r.text(t.text):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Cm||(Cm={}));var Ane={INPUT:"INPUT",OUTPUT:"OUTPUT"},Tne={GUARDRAIL_INTERVENED:"GUARDRAIL_INTERVENED",NONE:"NONE"},Ine={BLOCKED:"BLOCKED"},Nne={HIGH:"HIGH",LOW:"LOW",MEDIUM:"MEDIUM",NONE:"NONE"},Fne={HATE:"HATE",INSULTS:"INSULTS",MISCONDUCT:"MISCONDUCT",PROMPT_ATTACK:"PROMPT_ATTACK",SEXUAL:"SEXUAL",VIOLENCE:"VIOLENCE"},Dne={BLOCKED:"BLOCKED",NONE:"NONE"},kne={GROUNDING:"GROUNDING",RELEVANCE:"RELEVANCE"},Mne={ANONYMIZED:"ANONYMIZED",BLOCKED:"BLOCKED"},Lne={ADDRESS:"ADDRESS",AGE:"AGE",AWS_ACCESS_KEY:"AWS_ACCESS_KEY",AWS_SECRET_KEY:"AWS_SECRET_KEY",CA_HEALTH_NUMBER:"CA_HEALTH_NUMBER",CA_SOCIAL_INSURANCE_NUMBER:"CA_SOCIAL_INSURANCE_NUMBER",CREDIT_DEBIT_CARD_CVV:"CREDIT_DEBIT_CARD_CVV",CREDIT_DEBIT_CARD_EXPIRY:"CREDIT_DEBIT_CARD_EXPIRY",CREDIT_DEBIT_CARD_NUMBER:"CREDIT_DEBIT_CARD_NUMBER",DRIVER_ID:"DRIVER_ID",EMAIL:"EMAIL",INTERNATIONAL_BANK_ACCOUNT_NUMBER:"INTERNATIONAL_BANK_ACCOUNT_NUMBER",IP_ADDRESS:"IP_ADDRESS",LICENSE_PLATE:"LICENSE_PLATE",MAC_ADDRESS:"MAC_ADDRESS",NAME:"NAME",PASSWORD:"PASSWORD",PHONE:"PHONE",PIN:"PIN",SWIFT_CODE:"SWIFT_CODE",UK_NATIONAL_HEALTH_SERVICE_NUMBER:"UK_NATIONAL_HEALTH_SERVICE_NUMBER",UK_NATIONAL_INSURANCE_NUMBER:"UK_NATIONAL_INSURANCE_NUMBER",UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER:"UK_UNIQUE_TAXPAYER_REFERENCE_NUMBER",URL:"URL",USERNAME:"USERNAME",US_BANK_ACCOUNT_NUMBER:"US_BANK_ACCOUNT_NUMBER",US_BANK_ROUTING_NUMBER:"US_BANK_ROUTING_NUMBER",US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER:"US_INDIVIDUAL_TAX_IDENTIFICATION_NUMBER",US_PASSPORT_NUMBER:"US_PASSPORT_NUMBER",US_SOCIAL_SECURITY_NUMBER:"US_SOCIAL_SECURITY_NUMBER",VEHICLE_IDENTIFICATION_NUMBER:"VEHICLE_IDENTIFICATION_NUMBER"},jne={BLOCKED:"BLOCKED"},qne={DENY:"DENY"},Une={BLOCKED:"BLOCKED"},Hne={PROFANITY:"PROFANITY"},nF=class oF extends Ee{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,oF.prototype)}};y(nF,"InternalServerException");var iF=nF,sF=class aF extends Ee{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,aF.prototype)}};y(sF,"ResourceNotFoundException");var cF=sF,lF=class dF extends Ee{constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,dF.prototype)}};y(lF,"ServiceQuotaExceededException");var uF=lF,pF=class fF extends Ee{constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,fF.prototype)}};y(pF,"ThrottlingException");var gF=pF,mF=class _F extends Ee{constructor(t){super({name:"ValidationException",$fault:"client",...t}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,_F.prototype)}};y(mF,"ValidationException");var vF=mF,Bne={DISABLED:"disabled",ENABLED:"enabled"},$ne={CSV:"csv",DOC:"doc",DOCX:"docx",HTML:"html",MD:"md",PDF:"pdf",TXT:"txt",XLS:"xls",XLSX:"xlsx"},nd;(e=>{e.visit=y((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):r._(t.$unknown[0],t.$unknown[1]),"visit")})(nd||(nd={}));var Gne={GROUNDING_SOURCE:"grounding_source",GUARD_CONTENT:"guard_content",QUERY:"query"},Om;(e=>{e.visit=y((t,r)=>t.text!==void 0?r.text(t.text):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Om||(Om={}));var Vne={GIF:"gif",JPEG:"jpeg",PNG:"png",WEBP:"webp"},od;(e=>{e.visit=y((t,r)=>t.bytes!==void 0?r.bytes(t.bytes):r._(t.$unknown[0],t.$unknown[1]),"visit")})(od||(od={}));var id;(e=>{e.visit=y((t,r)=>t.json!==void 0?r.json(t.json):t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):t.document!==void 0?r.document(t.document):r._(t.$unknown[0],t.$unknown[1]),"visit")})(id||(id={}));var Wne={ERROR:"error",SUCCESS:"success"},sd;(e=>{e.visit=y((t,r)=>t.text!==void 0?r.text(t.text):t.image!==void 0?r.image(t.image):t.document!==void 0?r.document(t.document):t.toolUse!==void 0?r.toolUse(t.toolUse):t.toolResult!==void 0?r.toolResult(t.toolResult):t.guardContent!==void 0?r.guardContent(t.guardContent):r._(t.$unknown[0],t.$unknown[1]),"visit")})(sd||(sd={}));var zne={ASSISTANT:"assistant",USER:"user"},bm;(e=>{e.visit=y((t,r)=>t.text!==void 0?r.text(t.text):t.guardContent!==void 0?r.guardContent(t.guardContent):r._(t.$unknown[0],t.$unknown[1]),"visit")})(bm||(bm={}));var Pm;(e=>{e.visit=y((t,r)=>t.auto!==void 0?r.auto(t.auto):t.any!==void 0?r.any(t.any):t.tool!==void 0?r.tool(t.tool):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Pm||(Pm={}));var ad;(e=>{e.visit=y((t,r)=>t.json!==void 0?r.json(t.json):r._(t.$unknown[0],t.$unknown[1]),"visit")})(ad||(ad={}));var cd;(e=>{e.visit=y((t,r)=>t.toolSpec!==void 0?r.toolSpec(t.toolSpec):r._(t.$unknown[0],t.$unknown[1]),"visit")})(cd||(cd={}));var xm;(e=>{e.visit=y((t,r)=>t.message!==void 0?r.message(t.message):r._(t.$unknown[0],t.$unknown[1]),"visit")})(xm||(xm={}));var Kne={CONTENT_FILTERED:"content_filtered",END_TURN:"end_turn",GUARDRAIL_INTERVENED:"guardrail_intervened",MAX_TOKENS:"max_tokens",STOP_SEQUENCE:"stop_sequence",TOOL_USE:"tool_use"},hF=class yF extends Ee{constructor(t){super({name:"ModelErrorException",$fault:"client",...t}),this.name="ModelErrorException",this.$fault="client",Object.setPrototypeOf(this,yF.prototype),this.originalStatusCode=t.originalStatusCode,this.resourceName=t.resourceName}};y(hF,"ModelErrorException");var SF=hF,EF=class wF extends Ee{constructor(t){super({name:"ModelNotReadyException",$fault:"client",...t}),this.name="ModelNotReadyException",this.$fault="client",this.$retryable={},Object.setPrototypeOf(this,wF.prototype)}};y(EF,"ModelNotReadyException");var CF=EF,OF=class bF extends Ee{constructor(t){super({name:"ModelTimeoutException",$fault:"client",...t}),this.name="ModelTimeoutException",this.$fault="client",Object.setPrototypeOf(this,bF.prototype)}};y(OF,"ModelTimeoutException");var PF=OF,xF=class RF extends Ee{constructor(t){super({name:"ServiceUnavailableException",$fault:"server",...t}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,RF.prototype)}};y(xF,"ServiceUnavailableException");var AF=xF,Jne={ASYNC:"async",SYNC:"sync"},Rm;(e=>{e.visit=y((t,r)=>t.text!==void 0?r.text(t.text):t.toolUse!==void 0?r.toolUse(t.toolUse):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Rm||(Rm={}));var Am;(e=>{e.visit=y((t,r)=>t.toolUse!==void 0?r.toolUse(t.toolUse):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Am||(Am={}));var TF=class IF extends Ee{constructor(t){super({name:"ModelStreamErrorException",$fault:"client",...t}),this.name="ModelStreamErrorException",this.$fault="client",Object.setPrototypeOf(this,IF.prototype),this.originalStatusCode=t.originalStatusCode,this.originalMessage=t.originalMessage}};y(TF,"ModelStreamErrorException");var NF=TF,Tm;(e=>{e.visit=y((t,r)=>t.messageStart!==void 0?r.messageStart(t.messageStart):t.contentBlockStart!==void 0?r.contentBlockStart(t.contentBlockStart):t.contentBlockDelta!==void 0?r.contentBlockDelta(t.contentBlockDelta):t.contentBlockStop!==void 0?r.contentBlockStop(t.contentBlockStop):t.messageStop!==void 0?r.messageStop(t.messageStop):t.metadata!==void 0?r.metadata(t.metadata):t.internalServerException!==void 0?r.internalServerException(t.internalServerException):t.modelStreamErrorException!==void 0?r.modelStreamErrorException(t.modelStreamErrorException):t.validationException!==void 0?r.validationException(t.validationException):t.throttlingException!==void 0?r.throttlingException(t.throttlingException):t.serviceUnavailableException!==void 0?r.serviceUnavailableException(t.serviceUnavailableException):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Tm||(Tm={}));var Yne={DISABLED:"DISABLED",ENABLED:"ENABLED"},Im;(e=>{e.visit=y((t,r)=>t.chunk!==void 0?r.chunk(t.chunk):t.internalServerException!==void 0?r.internalServerException(t.internalServerException):t.modelStreamErrorException!==void 0?r.modelStreamErrorException(t.modelStreamErrorException):t.validationException!==void 0?r.validationException(t.validationException):t.throttlingException!==void 0?r.throttlingException(t.throttlingException):t.modelTimeoutException!==void 0?r.modelTimeoutException(t.modelTimeoutException):t.serviceUnavailableException!==void 0?r.serviceUnavailableException(t.serviceUnavailableException):r._(t.$unknown[0],t.$unknown[1]),"visit")})(Im||(Im={}));var Xne=y(e=>{if(e.messageStart!==void 0)return{messageStart:e.messageStart};if(e.contentBlockStart!==void 0)return{contentBlockStart:e.contentBlockStart};if(e.contentBlockDelta!==void 0)return{contentBlockDelta:e.contentBlockDelta};if(e.contentBlockStop!==void 0)return{contentBlockStop:e.contentBlockStop};if(e.messageStop!==void 0)return{messageStop:e.messageStop};if(e.metadata!==void 0)return{metadata:e.metadata};if(e.internalServerException!==void 0)return{internalServerException:e.internalServerException};if(e.modelStreamErrorException!==void 0)return{modelStreamErrorException:e.modelStreamErrorException};if(e.validationException!==void 0)return{validationException:e.validationException};if(e.throttlingException!==void 0)return{throttlingException:e.throttlingException};if(e.serviceUnavailableException!==void 0)return{serviceUnavailableException:e.serviceUnavailableException};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ConverseStreamOutputFilterSensitiveLog"),FF=y(e=>({...e,...e.stream&&{stream:"STREAMING_CONTENT"}}),"ConverseStreamResponseFilterSensitiveLog"),DF=y(e=>({...e,...e.body&&{body:_.SENSITIVE_STRING}}),"InvokeModelRequestFilterSensitiveLog"),kF=y(e=>({...e,...e.body&&{body:_.SENSITIVE_STRING}}),"InvokeModelResponseFilterSensitiveLog"),MF=y(e=>({...e,...e.body&&{body:_.SENSITIVE_STRING}}),"InvokeModelWithResponseStreamRequestFilterSensitiveLog"),Qne=y(e=>({...e,...e.bytes&&{bytes:_.SENSITIVE_STRING}}),"PayloadPartFilterSensitiveLog"),Zne=y(e=>{if(e.chunk!==void 0)return{chunk:_.SENSITIVE_STRING};if(e.internalServerException!==void 0)return{internalServerException:e.internalServerException};if(e.modelStreamErrorException!==void 0)return{modelStreamErrorException:e.modelStreamErrorException};if(e.validationException!==void 0)return{validationException:e.validationException};if(e.throttlingException!==void 0)return{throttlingException:e.throttlingException};if(e.modelTimeoutException!==void 0)return{modelTimeoutException:e.modelTimeoutException};if(e.serviceUnavailableException!==void 0)return{serviceUnavailableException:e.serviceUnavailableException};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},"ResponseStreamFilterSensitiveLog"),LF=y(e=>({...e,...e.body&&{body:"STREAMING_CONTENT"}}),"InvokeModelWithResponseStreamResponseFilterSensitiveLog"),eoe=y(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/guardrail/{guardrailIdentifier}/version/{guardrailVersion}/apply"),r.p("guardrailIdentifier",()=>e.guardrailIdentifier,"{guardrailIdentifier}",!1),r.p("guardrailVersion",()=>e.guardrailVersion,"{guardrailVersion}",!1);let o;return o=JSON.stringify((0,_.take)(e,{content:i=>(0,_._json)(i),source:[]})),r.m("POST").h(n).b(o),r.build()},"se_ApplyGuardrailCommand"),toe=y(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/model/{modelId}/converse"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return o=JSON.stringify((0,_.take)(e,{additionalModelRequestFields:i=>Oi(i,t),additionalModelResponseFieldPaths:i=>(0,_._json)(i),guardrailConfig:i=>(0,_._json)(i),inferenceConfig:i=>XF(i,t),messages:i=>QF(i,t),system:i=>(0,_._json)(i),toolConfig:i=>ZF(i,t)})),r.m("POST").h(n).b(o),r.build()},"se_ConverseCommand"),roe=y(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/model/{modelId}/converse-stream"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return o=JSON.stringify((0,_.take)(e,{additionalModelRequestFields:i=>Oi(i,t),additionalModelResponseFieldPaths:i=>(0,_._json)(i),guardrailConfig:i=>(0,_._json)(i),inferenceConfig:i=>XF(i,t),messages:i=>QF(i,t),system:i=>(0,_._json)(i),toolConfig:i=>ZF(i,t)})),r.m("POST").h(n).b(o),r.build()},"se_ConverseStreamCommand"),noe=y(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n=(0,_.map)({},iD,{[Fm]:e[ud]||"application/octet-stream",[Nm]:e[Nm],[uD]:e[cD],[lD]:e[sD],[dD]:e[aD]});r.bp("/model/{modelId}/invoke"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return e.body!==void 0&&(o=e.body),r.m("POST").h(n).b(o),r.build()},"se_InvokeModelCommand"),ooe=y(async(e,t)=>{let r=(0,rr.requestBuilder)(e,t),n=(0,_.map)({},iD,{[Fm]:e[ud]||"application/octet-stream",[iie]:e[Nm],[uD]:e[cD],[lD]:e[sD],[dD]:e[aD]});r.bp("/model/{modelId}/invoke-with-response-stream"),r.p("modelId",()=>e.modelId,"{modelId}",!1);let o;return e.body!==void 0&&(o=e.body),r.m("POST").h(n).b(o),r.build()},"se_InvokeModelWithResponseStreamCommand"),ioe=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ci(e,t);let r=(0,_.map)({$metadata:pe(e)}),n=(0,_.expectNonNull)((0,_.expectObject)(await(0,V.parseJsonBody)(e.body,t)),"body"),o=(0,_.take)(n,{action:_.expectString,assessments:i=>rD(i,t),outputs:_._json,usage:_._json});return Object.assign(r,o),r},"de_ApplyGuardrailCommand"),soe=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ci(e,t);let r=(0,_.map)({$metadata:pe(e)}),n=(0,_.expectNonNull)((0,_.expectObject)(await(0,V.parseJsonBody)(e.body,t)),"body"),o=(0,_.take)(n,{additionalModelResponseFields:i=>dd(i,t),metrics:_._json,output:i=>Hoe((0,V.awsExpectUnion)(i),t),stopReason:_.expectString,trace:i=>Goe(i,t),usage:_._json});return Object.assign(r,o),r},"de_ConverseCommand"),aoe=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ci(e,t);let r=(0,_.map)({$metadata:pe(e)}),n=e.body;return r.stream=_oe(n,t),r},"de_ConverseStreamCommand"),coe=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ci(e,t);let r=(0,_.map)({$metadata:pe(e),[ud]:[,e.headers[Fm]]}),n=await(0,_.collectBody)(e.body,t);return r.body=n,r},"de_InvokeModelCommand"),loe=y(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ci(e,t);let r=(0,_.map)({$metadata:pe(e),[ud]:[,e.headers[sie]]}),n=e.body;return r.body=voe(n,t),r},"de_InvokeModelWithResponseStreamCommand"),Ci=y(async(e,t)=>{let r={...e,body:await(0,V.parseJsonErrorBody)(e.body,t)},n=(0,V.loadRestJsonErrorCode)(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.bedrockruntime#AccessDeniedException":throw await uoe(r,t);case"InternalServerException":case"com.amazonaws.bedrockruntime#InternalServerException":throw await jF(r,t);case"ResourceNotFoundException":case"com.amazonaws.bedrockruntime#ResourceNotFoundException":throw await goe(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.bedrockruntime#ServiceQuotaExceededException":throw await moe(r,t);case"ThrottlingException":case"com.amazonaws.bedrockruntime#ThrottlingException":throw await BF(r,t);case"ValidationException":case"com.amazonaws.bedrockruntime#ValidationException":throw await $F(r,t);case"ModelErrorException":case"com.amazonaws.bedrockruntime#ModelErrorException":throw await poe(r,t);case"ModelNotReadyException":case"com.amazonaws.bedrockruntime#ModelNotReadyException":throw await foe(r,t);case"ModelTimeoutException":case"com.amazonaws.bedrockruntime#ModelTimeoutException":throw await UF(r,t);case"ServiceUnavailableException":case"com.amazonaws.bedrockruntime#ServiceUnavailableException":throw await HF(r,t);case"ModelStreamErrorException":case"com.amazonaws.bedrockruntime#ModelStreamErrorException":throw await qF(r,t);default:let o=r.body;return doe({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),doe=(0,_.withBaseException)(Ee),uoe=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new rF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_AccessDeniedExceptionRes"),jF=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new iF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_InternalServerExceptionRes"),poe=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString,originalStatusCode:_.expectInt32,resourceName:_.expectString});Object.assign(r,o);let i=new SF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ModelErrorExceptionRes"),foe=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new CF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ModelNotReadyExceptionRes"),qF=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString,originalMessage:_.expectString,originalStatusCode:_.expectInt32});Object.assign(r,o);let i=new NF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ModelStreamErrorExceptionRes"),UF=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new PF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ModelTimeoutExceptionRes"),goe=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new cF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ResourceNotFoundExceptionRes"),moe=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new uF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ServiceQuotaExceededExceptionRes"),HF=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new AF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ServiceUnavailableExceptionRes"),BF=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new gF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ThrottlingExceptionRes"),$F=y(async(e,t)=>{let r=(0,_.map)({}),n=e.body,o=(0,_.take)(n,{message:_.expectString});Object.assign(r,o);let i=new vF({$metadata:pe(e),...r});return(0,_.decorateServiceException)(i,e.body)},"de_ValidationExceptionRes"),_oe=y((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.messageStart!=null?{messageStart:await woe(r.messageStart,t)}:r.contentBlockStart!=null?{contentBlockStart:await yoe(r.contentBlockStart,t)}:r.contentBlockDelta!=null?{contentBlockDelta:await hoe(r.contentBlockDelta,t)}:r.contentBlockStop!=null?{contentBlockStop:await Soe(r.contentBlockStop,t)}:r.messageStop!=null?{messageStop:await Coe(r.messageStop,t)}:r.metadata!=null?{metadata:await Eoe(r.metadata,t)}:r.internalServerException!=null?{internalServerException:await GF(r.internalServerException,t)}:r.modelStreamErrorException!=null?{modelStreamErrorException:await VF(r.modelStreamErrorException,t)}:r.validationException!=null?{validationException:await KF(r.validationException,t)}:r.throttlingException!=null?{throttlingException:await zF(r.throttlingException,t)}:r.serviceUnavailableException!=null?{serviceUnavailableException:await WF(r.serviceUnavailableException,t)}:{$unknown:e}),"de_ConverseStreamOutput"),voe=y((e,t)=>t.eventStreamMarshaller.deserialize(e,async r=>r.chunk!=null?{chunk:await boe(r.chunk,t)}:r.internalServerException!=null?{internalServerException:await GF(r.internalServerException,t)}:r.modelStreamErrorException!=null?{modelStreamErrorException:await VF(r.modelStreamErrorException,t)}:r.validationException!=null?{validationException:await KF(r.validationException,t)}:r.throttlingException!=null?{throttlingException:await zF(r.throttlingException,t)}:r.modelTimeoutException!=null?{modelTimeoutException:await Ooe(r.modelTimeoutException,t)}:r.serviceUnavailableException!=null?{serviceUnavailableException:await WF(r.serviceUnavailableException,t)}:{$unknown:e}),"de_ResponseStream"),hoe=y(async(e,t)=>{let r={},n=await(0,V.parseJsonBody)(e.body,t);return Object.assign(r,(0,_._json)(n)),r},"de_ContentBlockDeltaEvent_event"),yoe=y(async(e,t)=>{let r={},n=await(0,V.parseJsonBody)(e.body,t);return Object.assign(r,(0,_._json)(n)),r},"de_ContentBlockStartEvent_event"),Soe=y(async(e,t)=>{let r={},n=await(0,V.parseJsonBody)(e.body,t);return Object.assign(r,(0,_._json)(n)),r},"de_ContentBlockStopEvent_event"),Eoe=y(async(e,t)=>{let r={},n=await(0,V.parseJsonBody)(e.body,t);return Object.assign(r,Boe(n,t)),r},"de_ConverseStreamMetadataEvent_event"),GF=y(async(e,t)=>{let r={...e,body:await(0,V.parseJsonBody)(e.body,t)};return jF(r,t)},"de_InternalServerException_event"),woe=y(async(e,t)=>{let r={},n=await(0,V.parseJsonBody)(e.body,t);return Object.assign(r,(0,_._json)(n)),r},"de_MessageStartEvent_event"),Coe=y(async(e,t)=>{let r={},n=await(0,V.parseJsonBody)(e.body,t);return Object.assign(r,Zoe(n,t)),r},"de_MessageStopEvent_event"),VF=y(async(e,t)=>{let r={...e,body:await(0,V.parseJsonBody)(e.body,t)};return qF(r,t)},"de_ModelStreamErrorException_event"),Ooe=y(async(e,t)=>{let r={...e,body:await(0,V.parseJsonBody)(e.body,t)};return UF(r,t)},"de_ModelTimeoutException_event"),boe=y(async(e,t)=>{let r={},n=await(0,V.parseJsonBody)(e.body,t);return Object.assign(r,eie(n,t)),r},"de_PayloadPart_event"),WF=y(async(e,t)=>{let r={...e,body:await(0,V.parseJsonBody)(e.body,t)};return HF(r,t)},"de_ServiceUnavailableException_event"),zF=y(async(e,t)=>{let r={...e,body:await(0,V.parseJsonBody)(e.body,t)};return BF(r,t)},"de_ThrottlingException_event"),KF=y(async(e,t)=>{let r={...e,body:await(0,V.parseJsonBody)(e.body,t)};return $F(r,t)},"de_ValidationException_event"),Poe=y((e,t)=>sd.visit(e,{document:r=>({document:JF(r,t)}),guardContent:r=>({guardContent:(0,_._json)(r)}),image:r=>({image:YF(r,t)}),text:r=>({text:r}),toolResult:r=>({toolResult:Foe(r,t)}),toolUse:r=>({toolUse:joe(r,t)}),_:(r,n)=>({name:n})}),"se_ContentBlock"),xoe=y((e,t)=>e.filter(r=>r!=null).map(r=>Poe(r,t)),"se_ContentBlocks"),JF=y((e,t)=>(0,_.take)(e,{format:[],name:[],source:r=>Roe(r,t)}),"se_DocumentBlock"),Roe=y((e,t)=>nd.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),_:(r,n)=>({name:n})}),"se_DocumentSource"),YF=y((e,t)=>(0,_.take)(e,{format:[],source:r=>Aoe(r,t)}),"se_ImageBlock"),Aoe=y((e,t)=>od.visit(e,{bytes:r=>({bytes:t.base64Encoder(r)}),_:(r,n)=>({name:n})}),"se_ImageSource"),XF=y((e,t)=>(0,_.take)(e,{maxTokens:[],stopSequences:_._json,temperature:_.serializeFloat,topP:_.serializeFloat}),"se_InferenceConfiguration"),Toe=y((e,t)=>(0,_.take)(e,{content:r=>xoe(r,t),role:[]}),"se_Message"),QF=y((e,t)=>e.filter(r=>r!=null).map(r=>Toe(r,t)),"se_Messages"),Ioe=y((e,t)=>cd.visit(e,{toolSpec:r=>({toolSpec:Loe(r,t)}),_:(r,n)=>({name:n})}),"se_Tool"),ZF=y((e,t)=>(0,_.take)(e,{toolChoice:_._json,tools:r=>Moe(r,t)}),"se_ToolConfiguration"),Noe=y((e,t)=>ad.visit(e,{json:r=>({json:Oi(r,t)}),_:(r,n)=>({name:n})}),"se_ToolInputSchema"),Foe=y((e,t)=>(0,_.take)(e,{content:r=>koe(r,t),status:[],toolUseId:[]}),"se_ToolResultBlock"),Doe=y((e,t)=>id.visit(e,{document:r=>({document:JF(r,t)}),image:r=>({image:YF(r,t)}),json:r=>({json:Oi(r,t)}),text:r=>({text:r}),_:(r,n)=>({name:n})}),"se_ToolResultContentBlock"),koe=y((e,t)=>e.filter(r=>r!=null).map(r=>Doe(r,t)),"se_ToolResultContentBlocks"),Moe=y((e,t)=>e.filter(r=>r!=null).map(r=>Ioe(r,t)),"se_Tools"),Loe=y((e,t)=>(0,_.take)(e,{description:[],inputSchema:r=>Noe(r,t),name:[]}),"se_ToolSpecification"),joe=y((e,t)=>(0,_.take)(e,{input:r=>Oi(r,t),name:[],toolUseId:[]}),"se_ToolUseBlock"),Oi=y((e,t)=>e,"se_Document"),qoe=y((e,t)=>e.document!=null?{document:eD(e.document,t)}:e.guardContent!=null?{guardContent:(0,_._json)((0,V.awsExpectUnion)(e.guardContent))}:e.image!=null?{image:oD(e.image,t)}:(0,_.expectString)(e.text)!==void 0?{text:(0,_.expectString)(e.text)}:e.toolResult!=null?{toolResult:tie(e.toolResult,t)}:e.toolUse!=null?{toolUse:oie(e.toolUse,t)}:{$unknown:Object.entries(e)[0]},"de_ContentBlock"),Uoe=y((e,t)=>(e||[]).filter(n=>n!=null).map(n=>qoe((0,V.awsExpectUnion)(n),t)),"de_ContentBlocks"),Hoe=y((e,t)=>e.message!=null?{message:Qoe(e.message,t)}:{$unknown:Object.entries(e)[0]},"de_ConverseOutput"),Boe=y((e,t)=>(0,_.take)(e,{metrics:_._json,trace:r=>$oe(r,t),usage:_._json}),"de_ConverseStreamMetadataEvent"),$oe=y((e,t)=>(0,_.take)(e,{guardrail:r=>nD(r,t)}),"de_ConverseStreamTrace"),Goe=y((e,t)=>(0,_.take)(e,{guardrail:r=>nD(r,t)}),"de_ConverseTrace"),eD=y((e,t)=>(0,_.take)(e,{format:_.expectString,name:_.expectString,source:r=>Voe((0,V.awsExpectUnion)(r),t)}),"de_DocumentBlock"),Voe=y((e,t)=>e.bytes!=null?{bytes:t.base64Decoder(e.bytes)}:{$unknown:Object.entries(e)[0]},"de_DocumentSource"),tD=y((e,t)=>(0,_.take)(e,{contentPolicy:_._json,contextualGroundingPolicy:r=>Yoe(r,t),sensitiveInformationPolicy:_._json,topicPolicy:_._json,wordPolicy:_._json}),"de_GuardrailAssessment"),rD=y((e,t)=>(e||[]).filter(n=>n!=null).map(n=>tD(n,t)),"de_GuardrailAssessmentList"),Woe=y((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=rD(o,t)),r),{}),"de_GuardrailAssessmentListMap"),zoe=y((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=tD(o,t)),r),{}),"de_GuardrailAssessmentMap"),Koe=y((e,t)=>(0,_.take)(e,{action:_.expectString,score:_.limitedParseDouble,threshold:_.limitedParseDouble,type:_.expectString}),"de_GuardrailContextualGroundingFilter"),Joe=y((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Koe(n,t)),"de_GuardrailContextualGroundingFilters"),Yoe=y((e,t)=>(0,_.take)(e,{filters:r=>Joe(r,t)}),"de_GuardrailContextualGroundingPolicyAssessment"),nD=y((e,t)=>(0,_.take)(e,{inputAssessment:r=>zoe(r,t),modelOutput:_._json,outputAssessments:r=>Woe(r,t)}),"de_GuardrailTraceAssessment"),oD=y((e,t)=>(0,_.take)(e,{format:_.expectString,source:r=>Xoe((0,V.awsExpectUnion)(r),t)}),"de_ImageBlock"),Xoe=y((e,t)=>e.bytes!=null?{bytes:t.base64Decoder(e.bytes)}:{$unknown:Object.entries(e)[0]},"de_ImageSource"),Qoe=y((e,t)=>(0,_.take)(e,{content:r=>Uoe(r,t),role:_.expectString}),"de_Message"),Zoe=y((e,t)=>(0,_.take)(e,{additionalModelResponseFields:r=>dd(r,t),stopReason:_.expectString}),"de_MessageStopEvent"),eie=y((e,t)=>(0,_.take)(e,{bytes:t.base64Decoder}),"de_PayloadPart"),tie=y((e,t)=>(0,_.take)(e,{content:r=>nie(r,t),status:_.expectString,toolUseId:_.expectString}),"de_ToolResultBlock"),rie=y((e,t)=>e.document!=null?{document:eD(e.document,t)}:e.image!=null?{image:oD(e.image,t)}:e.json!=null?{json:dd(e.json,t)}:(0,_.expectString)(e.text)!==void 0?{text:(0,_.expectString)(e.text)}:{$unknown:Object.entries(e)[0]},"de_ToolResultContentBlock"),nie=y((e,t)=>(e||[]).filter(n=>n!=null).map(n=>rie((0,V.awsExpectUnion)(n),t)),"de_ToolResultContentBlocks"),oie=y((e,t)=>(0,_.take)(e,{input:r=>dd(r,t),name:_.expectString,toolUseId:_.expectString}),"de_ToolUseBlock"),dd=y((e,t)=>e,"de_Document"),pe=y(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),iD=y(e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),"isSerializableHeaderValue"),Nm="accept",ud="contentType",Fm="content-type",sD="guardrailIdentifier",aD="guardrailVersion",cD="trace",iie="x-amzn-bedrock-accept",sie="x-amzn-bedrock-content-type",lD="x-amzn-bedrock-guardrailidentifier",dD="x-amzn-bedrock-guardrailversion",uD="x-amzn-bedrock-trace",pD=class extends _.Command.classBuilder().ep({...Ei}).m(function(t,r,n,o){return[(0,wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Hn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ApplyGuardrail",{}).n("BedrockRuntimeClient","ApplyGuardrailCommand").f(void 0,void 0).ser(eoe).de(ioe).build(){};y(pD,"ApplyGuardrailCommand");var fD=pD,gD=class extends _.Command.classBuilder().ep({...Ei}).m(function(t,r,n,o){return[(0,wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Hn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","Converse",{}).n("BedrockRuntimeClient","ConverseCommand").f(void 0,void 0).ser(toe).de(soe).build(){};y(gD,"ConverseCommand");var mD=gD,_D=class extends _.Command.classBuilder().ep({...Ei}).m(function(t,r,n,o){return[(0,wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Hn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","ConverseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","ConverseStreamCommand").f(void 0,FF).ser(roe).de(aoe).build(){};y(_D,"ConverseStreamCommand");var vD=_D,hD=class extends _.Command.classBuilder().ep({...Ei}).m(function(t,r,n,o){return[(0,wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Hn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModel",{}).n("BedrockRuntimeClient","InvokeModelCommand").f(DF,kF).ser(noe).de(coe).build(){};y(hD,"InvokeModelCommand");var yD=hD,SD=class extends _.Command.classBuilder().ep({...Ei}).m(function(t,r,n,o){return[(0,wi.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Hn.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AmazonBedrockFrontendService","InvokeModelWithResponseStream",{eventStream:{output:!0}}).n("BedrockRuntimeClient","InvokeModelWithResponseStreamCommand").f(MF,LF).ser(ooe).de(loe).build(){};y(SD,"InvokeModelWithResponseStreamCommand");var ED=SD,aie={ApplyGuardrailCommand:fD,ConverseCommand:mD,ConverseStreamCommand:vD,InvokeModelCommand:yD,InvokeModelWithResponseStreamCommand:ED},wD=class extends XN{};y(wD,"BedrockRuntime");var CD=wD;(0,_.createAggregatedClient)(aie,CD)});l();var pd=H(bD(),1),cie="anthropic.claude-3-haiku-20240307-v1:0",Z_e=awslambda.streamifyResponse(async(e,t,r)=>{let n=new pd.BedrockRuntimeClient({region:"us-east-1"}),o={anthropic_version:"bedrock-2023-05-31",max_tokens:1e3,messages:[{role:"user",content:[{type:"text",text:e.prompt}]}]},i=new pd.InvokeModelWithResponseStreamCommand({contentType:"application/json",body:JSON.stringify(o),modelId:cie}),a=await n.send(i);if(a.body)for await(let s of a.body)if(s.chunk){let c=JSON.parse(new TextDecoder().decode(s.chunk.bytes));if(c.type==="content_block_delta"){let u=c.delta.text;t.write(u)}}else{if(s.internalServerException)throw s.internalServerException;if(s.modelStreamErrorException)throw s.modelStreamErrorException;if(s.throttlingException)throw s.throttlingException;if(s.validationException)throw s.validationException}t.end()});export{Z_e as handler};
//# sourceMappingURL=index.mjs.map
